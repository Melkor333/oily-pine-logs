>>> libks: Validating /home/packager/oily-pine/main/libks/APKBUILD...
>>> libks: Cleaning up srcdir
>>> libks: Cleaning up pkgdir
>>> libks: Cleaning up tmpdir
>>> libks: Fetching libks-2.0.6.tar.gz::https://github.com/signalwire/libks/archive/refs/tags/v2.0.6.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100  233k    0  233k    0     0   290k      0 --:--:-- --:--:-- --:--:--  290k
>>> libks: Fetching libks-2.0.6.tar.gz::https://github.com/signalwire/libks/archive/refs/tags/v2.0.6.tar.gz
>>> libks: Checking sha512sums...
libks-2.0.6.tar.gz: OK
disable-failing-tests.patch: OK
fix-deadlock.patch: OK
>>> libks: Preparing build chroot...
fetch http://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz
(1/91) Installing musl (1.2.5-r10)
(2/91) Installing libcrypto3 (3.5.0-r0)
(3/91) Installing ca-certificates-bundle (20241121-r2)
(4/91) Installing libssl3 (3.5.0-r0)
(5/91) Installing zlib (1.3.1-r2)
(6/91) Installing libapk2 (2.14.9-r2)
(7/91) Installing apk-tools (2.14.9-r2)
(8/91) Installing libcap2 (2.76-r0)
(9/91) Installing libcap-getcap (2.76-r0)
(10/91) Installing fakeroot (1.37.1.1-r0)
(11/91) Installing scanelf (1.3.8-r1)
(12/91) Installing musl-utils (1.2.5-r10)
(13/91) Installing libgcc (14.3.0-r0)
(14/91) Installing libstdc++ (14.3.0-r0)
(15/91) Installing lzip (1.25-r0)
(16/91) Installing openssl (3.5.0-r0)
(17/91) Installing patch (2.8-r0)
(18/91) Installing pkgconf (2.4.3-r0)
(19/91) Installing acl-libs (2.3.2-r1)
(20/91) Installing tar (1.35-r3)
(21/91) Installing busybox (1.37.0-r18)
Executing busybox-1.37.0-r18.post-install
(22/91) Installing ssl_client (1.37.0-r18)
(23/91) Installing busybox-binsh (1.37.0-r18)
(24/91) Installing abuild (3.15.0-r0)
Executing abuild-3.15.0-r0.pre-install
(25/91) Installing abuild-sudo (3.15.0-r0)
(26/91) Installing alpine-baselayout-data (3.7.0-r0)
(27/91) Installing alpine-baselayout (3.7.0-r0)
Executing alpine-baselayout-3.7.0-r0.pre-install
Executing alpine-baselayout-3.7.0-r0.post-install
(28/91) Installing bridge (1.5-r5)
(29/91) Installing ifupdown-ng (0.12.1-r7)
(30/91) Installing openrc-user (0.62.2-r2)
(31/91) Installing openrc (0.62.2-r2)
Executing openrc-0.62.2-r2.post-install
(32/91) Installing mdev-conf (4.8-r0)
(33/91) Installing busybox-mdev-openrc (1.37.0-r18)
(34/91) Installing alpine-conf (3.20.0-r0)
(35/91) Installing alpine-keys (2.5-r0)
(36/91) Installing alpine-release (3.22.0-r0)
(37/91) Installing busybox-openrc (1.37.0-r18)
(38/91) Installing busybox-suid (1.37.0-r18)
(39/91) Installing alpine-base (3.22.0-r0)
(40/91) Installing jansson (2.14.1-r0)
(41/91) Installing zstd-libs (1.5.7-r0)
(42/91) Installing binutils (2.44-r0)
(43/91) Installing libmagic (5.46-r2)
(44/91) Installing file (5.46-r2)
(45/91) Installing libgomp (14.3.0-r0)
(46/91) Installing libatomic (14.3.0-r0)
(47/91) Installing gmp (6.3.0-r3)
(48/91) Installing isl26 (0.26-r1)
(49/91) Installing mpfr4 (4.2.1_p1-r0)
(50/91) Installing mpc1 (1.3.1-r1)
(51/91) Installing gcc (14.3.0-r0)
(52/91) Installing libstdc++-dev (14.3.0-r0)
(53/91) Installing musl-dev (1.2.5-r10)
(54/91) Installing g++ (14.3.0-r0)
(55/91) Installing make (4.4.1-r3)
(56/91) Installing fortify-headers (1.1-r5)
(57/91) Installing build-base (0.5-r3)
(58/91) Installing libbz2 (1.0.8-r6)
(59/91) Installing libexpat (2.7.1-r0)
(60/91) Installing lz4-libs (1.10.0-r0)
(61/91) Installing xz-libs (5.8.1-r0)
(62/91) Installing libarchive (3.8.0-r0)
(63/91) Installing rhash-libs (1.4.5-r0)
(64/91) Installing libuv (1.51.0-r0)
(65/91) Installing cmake (4.0.2-r0)
(66/91) Installing brotli-libs (1.1.0-r2)
(67/91) Installing c-ares (1.34.5-r0)
(68/91) Installing libunistring (1.3-r0)
(69/91) Installing libidn2 (2.3.7-r0)
(70/91) Installing nghttp2-libs (1.65.0-r0)
(71/91) Installing libpsl (0.21.5-r3)
(72/91) Installing libcurl (8.14.0-r2)
(73/91) Installing pcre2 (10.43-r1)
(74/91) Installing git (2.49.0-r0)
(75/91) Installing git-init-template (2.49.0-r0)
(76/91) Installing openssl-dev (3.5.0-r0)
(77/91) Installing samurai (1.2-r7)
(78/91) Installing libeconf (0.6.3-r0)
(79/91) Installing libblkid (2.41-r9)
(80/91) Installing libuuid (2.41-r9)
(81/91) Installing libfdisk (2.41-r9)
(82/91) Installing sqlite-libs (3.50.0-r0)
(83/91) Installing liblastlog2 (2.41-r9)
(84/91) Installing libmount (2.41-r9)
(85/91) Installing libsmartcols (2.41-r9)
(86/91) Installing ncurses-terminfo-base (6.5_p20250503-r0)
(87/91) Installing libncursesw (6.5_p20250503-r0)
(88/91) Installing readline (8.2.13-r1)
(89/91) Installing sqlite (3.50.0-r0)
(90/91) Installing sqlite-dev (3.50.0-r0)
(91/91) Installing util-linux-dev (2.41-r9)
Executing busybox-1.37.0-r18.trigger
OK: 321 MiB in 91 packages
>>> libks: Fetching libks-2.0.6.tar.gz::https://github.com/signalwire/libks/archive/refs/tags/v2.0.6.tar.gz
>>> libks: Checking sha512sums...
libks-2.0.6.tar.gz: OK
disable-failing-tests.patch: OK
fix-deadlock.patch: OK
>>> libks: Unpacking /var/cache/distfiles/libks-2.0.6.tar.gz...
>>> libks: disable-failing-tests.patch
patching file tests/CMakeLists.txt
>>> libks: fix-deadlock.patch
patching file src/ks_log.c
CMake Deprecation Warning at CMakeLists.txt:1 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value.  Or, use the <min>...<max> syntax
  to tell CMake that the project requires at least <min> but has been updated
  to work with policies introduced by <max> or earlier.


Platform is linux
Build type: MinSizeRel CXX Flags: 
Install prefix: /usr
-- Found Git: /usr/bin/git (found version "2.49.0")
-- The C compiler identification is GNU 14.3.0
-- The CXX compiler identification is GNU 14.3.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
LibKS2 Version 2.0
-- Looking for clock_gettime in rt
-- Looking for clock_gettime in rt - found
-- Looking for clock_getres in rt
-- Looking for clock_getres in rt - found
-- Looking for clock_nanosleep in rt
-- Looking for clock_nanosleep in rt - found
-- Looking for strftime in rt
-- Looking for strftime in rt - found
-- Looking for sched_setscheduler in c
-- Looking for sched_setscheduler in c - found
-- Looking for malloc in c
-- Looking for malloc in c - found
-- Looking for usleep in c
-- Looking for usleep in c - found
-- Looking for pthread_attr_setschedparam
-- Looking for pthread_attr_setschedparam - found
-- Looking for memmem
-- Looking for memmem - found
-- Looking for stdlib.h
-- Looking for stdlib.h - found
-- Looking for sys/types.h
-- Looking for sys/types.h - found
-- Looking for sys/stat.h
-- Looking for sys/stat.h - found
-- Looking for string.h
-- Looking for string.h - found
-- Looking for unistd.h
-- Looking for unistd.h - found
-- Looking for memory.h
-- Looking for memory.h - found
-- Looking for strings.h
-- Looking for strings.h - found
-- Looking for inttypes.h
-- Looking for inttypes.h - found
-- Looking for stdint.h
-- Looking for stdint.h - found
-- Looking for dlfcn.h
-- Looking for dlfcn.h - found
-- Looking for sched.h
-- Looking for sched.h - found
-- Looking for byteswap.h
-- Looking for byteswap.h - found
-- Looking for dirent.h
-- Looking for dirent.h - found
-- Found LibM: /usr/lib/libm.a
-- Found PkgConfig: /usr/bin/pkg-config (found version "2.4.3")
-- Checking for module 'uuid'
--   Found uuid, version 2.41.0
Found UUID setup target at imported location: /usr/lib/libuuid.so
-- Found OpenSSL: /usr/lib/libcrypto.so (found version "3.5.0")
-- Found OpenSSL: /usr/lib/libcrypto.so (found version "3.5.0") found components: Crypto SSL
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
-- Found Threads: TRUE
-- Performing Test COMPILER_HAS_HIDDEN_VISIBILITY
-- Performing Test COMPILER_HAS_HIDDEN_VISIBILITY - Success
Compiler supports visibility
-- Configuring done (1.0s)
-- Generating done (0.0s)
-- Build files have been written to: /tmp/src/libks-2.0.6
[1/68] Building C object tests/CMakeFiles/testjson.dir/tap.c.o
[2/68] Building C object tests/CMakeFiles/testjson.dir/testjson.c.o
[3/68] Building C object tests/CMakeFiles/testlog.dir/tap.c.o
[4/68] Building C object tests/CMakeFiles/testlog.dir/testlog.c.o
[5/68] Building C object tests/CMakeFiles/teststring.dir/tap.c.o
[6/68] Building C object tests/CMakeFiles/teststring.dir/teststring.c.o
[7/68] Building C object tests/CMakeFiles/testwebsock2.dir/tap.c.o
[8/68] Building C object tests/CMakeFiles/testwebsock2.dir/testwebsock2.c.o
[9/68] Building C object tests/CMakeFiles/testwebsock.dir/tap.c.o
[10/68] Building C object tests/CMakeFiles/testwebsock.dir/testwebsock.c.o
[11/68] Building C object tests/CMakeFiles/testsock2.dir/tap.c.o
[12/68] Building C object tests/CMakeFiles/testsock2.dir/testsock2.c.o
[13/68] Building C object tests/CMakeFiles/testsock.dir/tap.c.o
[14/68] Building C object tests/CMakeFiles/testsock.dir/testsock.c.o
[15/68] Building C object tests/CMakeFiles/testhash.dir/tap.c.o
[16/68] Building C object tests/CMakeFiles/testhash.dir/testhash.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testjson.c:22:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[17/68] Building C object tests/CMakeFiles/testthreadpools.dir/tap.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testlog.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[18/68] Building C object tests/CMakeFiles/testthreadpools.dir/testthreadpools.c.o
[19/68] Building C object tests/CMakeFiles/testacl.dir/tap.c.o
[20/68] Building C object tests/CMakeFiles/testacl.dir/testacl.c.o
[21/68] Building C object tests/CMakeFiles/testrealloc.dir/tap.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testsock2.c:22:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[22/68] Building C object tests/CMakeFiles/testrealloc.dir/testrealloc.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/teststring.c:22:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[23/68] Building C object tests/CMakeFiles/testpools.dir/tap.c.o
[24/68] Building C object tests/CMakeFiles/testpools.dir/testpools.c.o
[25/68] Building C object CMakeFiles/ks2.dir/src/simclist.c.o
[26/68] Building C object CMakeFiles/ks2.dir/src/kws.c.o
[27/68] Building C object CMakeFiles/ks2.dir/src/ks_uuid.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testwebsock2.c:28:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
/tmp/src/libks-2.0.6/tests/testwebsock2.c: In function 'sha1_digest':
/tmp/src/libks-2.0.6/tests/testwebsock2.c:102:9: warning: 'SHA1_Init' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  102 |         SHA1_Init(&sha);
      |         ^~~~~~~~~
In file included from /usr/include/openssl/x509.h:41,
                 from /usr/include/openssl/ssl.h:32,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks_ssl.h:25,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:80:
/usr/include/openssl/sha.h:49:27: note: declared here
   49 | OSSL_DEPRECATEDIN_3_0 int SHA1_Init(SHA_CTX *c);
      |                           ^~~~~~~~~
/tmp/src/libks-2.0.6/tests/testwebsock2.c:103:9: warning: 'SHA1_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  103 |         SHA1_Update(&sha, in, strlen(in));
      |         ^~~~~~~~~~~
/usr/include/openssl/sha.h:50:27: note: declared here
   50 | OSSL_DEPRECATEDIN_3_0 int SHA1_Update(SHA_CTX *c, const void *data, size_t len);
      |                           ^~~~~~~~~~~
/tmp/src/libks-2.0.6/tests/testwebsock2.c:104:9: warning: 'SHA1_Final' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  104 |         SHA1_Final(digest, &sha);
      |         ^~~~~~~~~~
/usr/include/openssl/sha.h:51:27: note: declared here
   51 | OSSL_DEPRECATEDIN_3_0 int SHA1_Final(unsigned char *md, SHA_CTX *c);
      |                           ^~~~~~~~~~
[28/68] Building C object CMakeFiles/ks2.dir/src/ks_utf8.c.o
[29/68] Building C object CMakeFiles/ks2.dir/src/ks_time.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testacl.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testthreadpools.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[30/68] Building C object CMakeFiles/ks2.dir/src/ks_thread_pool.c.o
[31/68] Building C object CMakeFiles/ks2.dir/src/ks_thread.c.o
[32/68] Building C object CMakeFiles/ks2.dir/src/ks_string.c.o
[33/68] Building C object CMakeFiles/ks2.dir/src/ks_ssl.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testhash.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[34/68] Building C object CMakeFiles/ks2.dir/src/ks_socket.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testwebsock.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[35/68] Building C object CMakeFiles/ks2.dir/src/ks_sb.c.o
[36/68] Building C object CMakeFiles/ks2.dir/src/ks_q.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_uuid.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[37/68] Building C object CMakeFiles/ks2.dir/src/ks_printf.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testrealloc.c:22:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[38/68] Building C object CMakeFiles/ks2.dir/src/ks_pool.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testsock.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[39/68] Building C object CMakeFiles/ks2.dir/src/ks_mutex.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_time.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[40/68] Building C object CMakeFiles/ks2.dir/src/ks_metrics.c.o
[41/68] Building C object CMakeFiles/ks2.dir/src/ks_log.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/tests/testpools.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[42/68] Building C object CMakeFiles/ks2.dir/src/ks_json_check.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_q.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[43/68] Building C object CMakeFiles/ks2.dir/src/ks_json.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_thread.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[44/68] Building C object CMakeFiles/ks2.dir/src/ks_hash.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_string.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[45/68] Building C object CMakeFiles/ks2.dir/src/ks_env.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_sb.c:22:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[46/68] Building C object CMakeFiles/ks2.dir/src/ks_dso.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_thread_pool.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[47/68] Building C object CMakeFiles/ks2.dir/src/ks_debug.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_metrics.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[48/68] Building C object CMakeFiles/ks2.dir/src/ks_config.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_ssl.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
/tmp/src/libks-2.0.6/src/ks_ssl.c: In function 'mkcert':
/tmp/src/libks-2.0.6/src/ks_ssl.c:211:5: warning: 'RSA_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  211 |     rsa = RSA_new();
      |     ^~~
In file included from /usr/include/openssl/x509.h:36,
                 from /usr/include/openssl/ssl.h:32,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks_ssl.h:25,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:80:
/usr/include/openssl/rsa.h:212:28: note: declared here
  212 | OSSL_DEPRECATEDIN_3_0 RSA *RSA_new(void);
      |                            ^~~~~~~
/tmp/src/libks-2.0.6/src/ks_ssl.c:220:9: warning: 'RSA_generate_key_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  220 |         RSA_generate_key_ex(rsa, bits, BN_value_RSA_F4, NULL);
      |         ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:271:27: note: declared here
  271 | OSSL_DEPRECATEDIN_3_0 int RSA_generate_key_ex(RSA *rsa, int bits, BIGNUM *e,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/libks-2.0.6/src/ks_ssl.c:227:9: warning: 'EVP_PKEY_assign' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  227 |         if (!EVP_PKEY_assign_RSA(pk, rsa)) {
      |         ^~
In file included from /usr/include/openssl/x509.h:29:
/usr/include/openssl/evp.h:1387:5: note: declared here
 1387 | int EVP_PKEY_assign(EVP_PKEY *pkey, int type, void *key);
      |     ^~~~~~~~~~~~~~~
[49/68] Building C object CMakeFiles/ks2.dir/src/ks_buffer.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_env.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[50/68] Building C object CMakeFiles/ks2.dir/src/ks_base64.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_socket.c:42:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[51/68] Building C object CMakeFiles/ks2.dir/src/ks_acl.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_mutex.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[52/68] Building C object CMakeFiles/ks2.dir/src/ks.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_json.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[53/68] Building C object CMakeFiles/ks2.dir/src/include/cJSON/cJSON_Utils.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_printf.c:61:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
[54/68] Building C object CMakeFiles/ks2.dir/src/include/cJSON/cJSON.c.o
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks_utf8.h:15,
                 from /tmp/src/libks-2.0.6/src/ks_utf8.c:1:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_debug.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_dso.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks_base64.h:27,
                 from /tmp/src/libks-2.0.6/src/ks_base64.c:22:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_config.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_log.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_pool.c:31:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_hash.c:34:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_buffer.c:24:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_json_check.c:25:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks_acl.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/ks.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/simclist.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
In file included from /tmp/src/libks-2.0.6/src/include/libks/ks_platform.h:96,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:41,
                 from /tmp/src/libks-2.0.6/src/kws.c:23:
/usr/include/sys/signal.h:1:2: warning: #warning redirecting incorrect #include <sys/signal.h> to <signal.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/signal.h> to <signal.h>
      |  ^~~~~~~
/tmp/src/libks-2.0.6/src/kws.c: In function 'sha1_digest':
/tmp/src/libks-2.0.6/src/kws.c:181:9: warning: 'SHA1_Init' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  181 |         SHA1_Init(&sha);
      |         ^~~~~~~~~
In file included from /usr/include/openssl/x509.h:41,
                 from /usr/include/openssl/ssl.h:32,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks_ssl.h:25,
                 from /tmp/src/libks-2.0.6/src/include/libks/ks.h:80:
/usr/include/openssl/sha.h:49:27: note: declared here
   49 | OSSL_DEPRECATEDIN_3_0 int SHA1_Init(SHA_CTX *c);
      |                           ^~~~~~~~~
/tmp/src/libks-2.0.6/src/kws.c:182:9: warning: 'SHA1_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  182 |         SHA1_Update(&sha, in, strlen(in));
      |         ^~~~~~~~~~~
/usr/include/openssl/sha.h:50:27: note: declared here
   50 | OSSL_DEPRECATEDIN_3_0 int SHA1_Update(SHA_CTX *c, const void *data, size_t len);
      |                           ^~~~~~~~~~~
/tmp/src/libks-2.0.6/src/kws.c:183:9: warning: 'SHA1_Final' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  183 |         SHA1_Final(digest, &sha);
      |         ^~~~~~~~~~
/usr/include/openssl/sha.h:51:27: note: declared here
   51 | OSSL_DEPRECATEDIN_3_0 int SHA1_Final(unsigned char *md, SHA_CTX *c);
      |                           ^~~~~~~~~~
[55/68] Linking C shared library libks2.so.2
[56/68] Creating library symlink libks2.so
[57/68] Linking C executable tests/testjson
[58/68] Linking C executable tests/testlog
[59/68] Linking C executable tests/teststring
[60/68] Linking C executable tests/testwebsock2
[61/68] Linking C executable tests/testwebsock
[62/68] Linking C executable tests/testsock2
[63/68] Linking C executable tests/testsock
[64/68] Linking C executable tests/testhash
[65/68] Linking C executable tests/testthreadpools
[66/68] Linking C executable tests/testacl
[67/68] Linking C executable tests/testrealloc
[68/68] Linking C executable tests/testpools
Test project /tmp/src/libks-2.0.6
      Start  1: testpools
      Start  2: testrealloc
      Start  3: testacl
      Start  4: testthreadpools
      Start  5: testhash
      Start  6: testsock
      Start  7: testsock2
      Start  8: testwebsock
      Start  9: testwebsock2
      Start 10: teststring
      Start 11: testlog
      Start 12: testjson
 1/12 Test  #1: testpools ........................   Passed    0.01 sec
 2/12 Test  #2: testrealloc ......................   Passed    0.00 sec
 3/12 Test  #3: testacl ..........................   Passed    0.00 sec
 4/12 Test  #7: testsock2 ........................   Passed    0.00 sec
 5/12 Test #10: teststring .......................   Passed    0.00 sec
 6/12 Test #11: testlog ..........................   Passed    0.00 sec
 7/12 Test #12: testjson .........................   Passed    0.00 sec
 8/12 Test  #9: testwebsock2 .....................***Exception: SegFault  0.02 sec
1..3
{"message":"Allocating new thread, current active and attached count: 1, current active and detatched count: 0\n","level":"DEBUG","timestamp":"2025-05-31 15:40:35","thread":"#00000248","file":"/tmp/src/libks-2.0.6/src/ks_thread.c","func":"__ks_thread_create_ex","line":479}
{"message":"Thread has launched with address: 0x7f8674307fd0, tid: 00000000\n","level":"DEBUG","timestamp":"2025-05-31 15:40:35","thread":"#00000251","file":"/tmp/src/libks-2.0.6/src/ks_thread.c","func":"thread_launch","line":160}
{"message":"START call user thread callback with address: 0x7f8674307fd0, tid: 00000251\n","level":"DEBUG","timestamp":"2025-05-31 15:40:35","thread":"#00000251","file":"/tmp/src/libks-2.0.6/src/ks_thread.c","func":"thread_launch","line":175}
TCP THREAD DONE
{"message":"STOP call user thread callback with address: 0x7f8674307fd0, tid: 00000251\n","level":"DEBUG","timestamp":"2025-05-31 15:40:35","thread":"#00000251","file":"/tmp/src/libks-2.0.6/src/ks_thread.c","func":"thread_launch","line":177}
{"message":"Failed to establish logical layer\n","level":"ERROR","timestamp":"2025-05-31 15:40:35","thread":"#00000248","file":"/tmp/src/libks-2.0.6/src/kws.c","func":"kws_init_ex","line":938}

 9/12 Test  #8: testwebsock ......................   Passed    0.12 sec
10/12 Test  #6: testsock .........................   Passed    2.04 sec
11/12 Test  #5: testhash .........................   Passed    5.01 sec
12/12 Test  #4: testthreadpools ..................   Passed    5.01 sec

92% tests passed, 1 tests failed out of 12

Total Test time (real) =   5.01 sec

The following tests FAILED:
	  9 - testwebsock2 (SEGFAULT)
Errors while running CTest
>>> ERROR: libks: check failed
>>> ERROR: libks: rootbld failed
>>> libks: Cleaning up build chroot
