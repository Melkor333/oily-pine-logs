>>> lua-sec: Validating /home/packager/oily-pine/main/lua-sec/APKBUILD...
>>> lua-sec: Cleaning up srcdir
>>> lua-sec: Cleaning up pkgdir
>>> lua-sec: Cleaning up tmpdir
>>> lua-sec: Fetching luasec-1.3.2.tar.gz::https://github.com/brunoos/luasec/archive/v1.3.2.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100 54925    0 54925    0     0  63261      0 --:--:-- --:--:-- --:--:-- 63261
>>> lua-sec: Fetching luasec-1.3.2.tar.gz::https://github.com/brunoos/luasec/archive/v1.3.2.tar.gz
>>> lua-sec: Checking sha512sums...
luasec-1.3.2.tar.gz: OK
>>> lua-sec: Preparing build chroot...
fetch http://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz
(1/85) Installing musl (1.2.5-r10)
(2/85) Installing libcrypto3 (3.5.0-r0)
(3/85) Installing ca-certificates-bundle (20241121-r2)
(4/85) Installing libssl3 (3.5.0-r0)
(5/85) Installing zlib (1.3.1-r2)
(6/85) Installing libapk2 (2.14.9-r2)
(7/85) Installing apk-tools (2.14.9-r2)
(8/85) Installing libcap2 (2.76-r0)
(9/85) Installing libcap-getcap (2.76-r0)
(10/85) Installing fakeroot (1.37.1.1-r0)
(11/85) Installing scanelf (1.3.8-r1)
(12/85) Installing musl-utils (1.2.5-r10)
(13/85) Installing libgcc (14.3.0-r1)
(14/85) Installing libstdc++ (14.3.0-r1)
(15/85) Installing lzip (1.25-r0)
(16/85) Installing openssl (3.5.0-r0)
(17/85) Installing patch (2.8-r0)
(18/85) Installing pkgconf (2.4.3-r0)
(19/85) Installing acl-libs (2.3.2-r1)
(20/85) Installing tar (1.35-r3)
(21/85) Installing busybox (1.37.0-r18)
Executing busybox-1.37.0-r18.post-install
(22/85) Installing ssl_client (1.37.0-r18)
(23/85) Installing busybox-binsh (1.37.0-r18)
(24/85) Installing abuild (3.15.0-r0)
Executing abuild-3.15.0-r0.pre-install
(25/85) Installing abuild-sudo (3.15.0-r0)
(26/85) Installing alpine-baselayout-data (3.7.0-r0)
(27/85) Installing alpine-baselayout (3.7.0-r0)
Executing alpine-baselayout-3.7.0-r0.pre-install
Executing alpine-baselayout-3.7.0-r0.post-install
(28/85) Installing bridge (1.5-r5)
(29/85) Installing ifupdown-ng (0.12.1-r7)
(30/85) Installing openrc-user (0.62.2-r2)
(31/85) Installing openrc (0.62.2-r2)
Executing openrc-0.62.2-r2.post-install
(32/85) Installing mdev-conf (4.8-r0)
(33/85) Installing busybox-mdev-openrc (1.37.0-r18)
(34/85) Installing alpine-conf (3.20.0-r0)
(35/85) Installing alpine-keys (2.5-r0)
(36/85) Installing alpine-release (3.22.0-r0)
(37/85) Installing busybox-openrc (1.37.0-r18)
(38/85) Installing busybox-suid (1.37.0-r18)
(39/85) Installing alpine-base (3.22.0-r0)
(40/85) Installing jansson (2.14.1-r0)
(41/85) Installing zstd-libs (1.5.7-r0)
(42/85) Installing binutils (2.44-r0)
(43/85) Installing libmagic (5.46-r2)
(44/85) Installing file (5.46-r2)
(45/85) Installing libgomp (14.3.0-r1)
(46/85) Installing libatomic (14.3.0-r1)
(47/85) Installing gmp (6.3.0-r3)
(48/85) Installing isl26 (0.26-r1)
(49/85) Installing mpfr4 (4.2.1_p1-r0)
(50/85) Installing mpc1 (1.3.1-r1)
(51/85) Installing gcc (14.3.0-r1)
(52/85) Installing libstdc++-dev (14.3.0-r1)
(53/85) Installing musl-dev (1.2.5-r10)
(54/85) Installing g++ (14.3.0-r1)
(55/85) Installing make (4.4.1-r3)
(56/85) Installing fortify-headers (1.1-r5)
(57/85) Installing build-base (0.5-r3)
(58/85) Installing brotli-libs (1.1.0-r2)
(59/85) Installing c-ares (1.34.5-r0)
(60/85) Installing libunistring (1.3-r0)
(61/85) Installing libidn2 (2.3.7-r0)
(62/85) Installing nghttp2-libs (1.65.0-r0)
(63/85) Installing libpsl (0.21.5-r3)
(64/85) Installing libcurl (8.14.0-r2)
(65/85) Installing libexpat (2.7.1-r0)
(66/85) Installing pcre2 (10.43-r1)
(67/85) Installing git (2.49.0-r0)
(68/85) Installing git-init-template (2.49.0-r0)
(69/85) Installing lua5.1-libs (5.1.5-r13)
(70/85) Installing lua5.1 (5.1.5-r13)
(71/85) Installing lua5.1-dev (5.1.5-r13)
(72/85) Installing lua5.2-libs (5.2.4-r13)
(73/85) Installing lua5.2 (5.2.4-r13)
(74/85) Installing lua5.2-dev (5.2.4-r13)
(75/85) Installing linenoise (1.0-r5)
(76/85) Installing lua5.3-libs (5.3.6-r6)
(77/85) Installing lua5.3 (5.3.6-r6)
(78/85) Installing lua5.3-dev (5.3.6-r6)
(79/85) Installing lua5.4-libs (5.4.7-r0)
(80/85) Installing ncurses-terminfo-base (6.5_p20250503-r0)
(81/85) Installing libncursesw (6.5_p20250503-r0)
(82/85) Installing readline (8.2.13-r1)
(83/85) Installing lua5.4 (5.4.7-r0)
(84/85) Installing lua5.4-dev (5.4.7-r0)
(85/85) Installing openssl-dev (3.5.0-r0)
Executing busybox-1.37.0-r18.trigger
OK: 269 MiB in 85 packages
>>> lua-sec: Fetching luasec-1.3.2.tar.gz::https://github.com/brunoos/luasec/archive/v1.3.2.tar.gz
>>> lua-sec: Checking sha512sums...
luasec-1.3.2.tar.gz: OK
>>> lua-sec: Unpacking /var/cache/distfiles/luasec-1.3.2.tar.gz...
---------------------
** Build for Linux **
---------------------
make[1]: Entering directory '/tmp/src/build-5.1/src'
make[2]: Entering directory '/tmp/src/build-5.1/src'
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET   -c -o options.o options.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET   -c -o x509.o x509.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET   -c -o context.o context.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET   -c -o ssl.o ssl.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET   -c -o config.o config.c
make[3]: Entering directory '/tmp/src/build-5.1/src/luasocket'
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o io.o io.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET   -c -o ec.o ec.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o buffer.o buffer.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o timeout.o timeout.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I.  -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o usocket.o usocket.c
In file included from usocket.h:35,
                 from socket.h:20,
                 from usocket.c:12:
/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>
      |  ^~~~~~~
ec.c: In function 'lsec_find_ec_key':
ec.c:26:3: warning: 'EC_KEY_new_by_curve_name' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
   26 |   return EC_KEY_new_by_curve_name(nid);
      |   ^~~~~~
In file included from ec.h:14,
                 from ec.c:10:
/usr/include/openssl/ec.h:1017:31: note: declared here
 1017 | OSSL_DEPRECATEDIN_3_0 EC_KEY *EC_KEY_new_by_curve_name(int nid);
      |                               ^~~~~~~~~~~~~~~~~~~~~~~~
context.c: In function 'dhparam_cb':
context.c:226:5: warning: 'PEM_read_bio_DHparams' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  226 |     pctx->dh_param = PEM_read_bio_DHparams(bio, NULL, NULL, NULL);
      |     ^~~~
In file included from /usr/include/openssl/ssl.h:37,
                 from context.c:15:
/usr/include/openssl/pem.h:478:1: note: declared here
  478 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, DHparams, DH)
      | ^~~~~~~~~~~~~~~~~~~
context.c: In function 'set_dhparam':
context.c:554:3: warning: 'SSL_CTX_set_tmp_dh_callback' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  554 |   SSL_CTX_set_tmp_dh_callback(ctx, dhparam_cb);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ssl.h:2271:6: note: declared here
 2271 | void SSL_CTX_set_tmp_dh_callback(SSL_CTX *ctx,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
context.c: In function 'set_curve':
context.c:588:3: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  588 |   EC_KEY_free(key);
      |   ^~~~~~~~~~~
In file included from /usr/include/openssl/x509.h:33,
                 from /usr/include/openssl/ssl.h:32:
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
In file included from ./luasocket/usocket.h:35,
                 from ./luasocket/socket.h:20,
                 from ssl.c:28:
/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>
      |  ^~~~~~~
ssl.c: In function 'meth_handshake':
ssl.c:394:5: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  394 |     DH_free(ctx->dh_param);
      |     ^~~~~~~
In file included from /usr/include/openssl/dsa.h:31,
                 from /usr/include/openssl/x509.h:37,
                 from /usr/include/openssl/ssl.h:32,
                 from ssl.c:16:
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
ar rcu libluasocket.a io.o buffer.o timeout.o usocket.o
ar: `u' modifier ignored since `D' is the default (see `U')
ranlib libluasocket.a
make[3]: Leaving directory '/tmp/src/build-5.1/src/luasocket'
cc -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs  -O -fPIC -shared -L./luasocket -L/usr/lib -o ssl.so options.o x509.o context.o ssl.o config.o ec.o -lssl -lcrypto -lluasocket
make[2]: Leaving directory '/tmp/src/build-5.1/src'
make[1]: Leaving directory '/tmp/src/build-5.1/src'
---------------------
** Build for Linux **
---------------------
make[1]: Entering directory '/tmp/src/build-5.2/src'
make[2]: Entering directory '/tmp/src/build-5.2/src'
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET   -c -o options.o options.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET   -c -o x509.o x509.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET   -c -o context.o context.c
make[3]: Entering directory '/tmp/src/build-5.2/src/luasocket'
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o io.o io.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o buffer.o buffer.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET   -c -o ssl.o ssl.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o timeout.o timeout.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET   -c -o config.o config.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o usocket.o usocket.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.2 -DWITH_LUASOCKET   -c -o ec.o ec.c
In file included from usocket.h:35,
                 from socket.h:20,
                 from usocket.c:12:
/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>
      |  ^~~~~~~
ec.c: In function 'lsec_find_ec_key':
ec.c:26:3: warning: 'EC_KEY_new_by_curve_name' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
   26 |   return EC_KEY_new_by_curve_name(nid);
      |   ^~~~~~
In file included from ec.h:14,
                 from ec.c:10:
/usr/include/openssl/ec.h:1017:31: note: declared here
 1017 | OSSL_DEPRECATEDIN_3_0 EC_KEY *EC_KEY_new_by_curve_name(int nid);
      |                               ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from ./luasocket/usocket.h:35,
                 from ./luasocket/socket.h:20,
                 from ssl.c:28:
/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>
      |  ^~~~~~~
ssl.c: In function 'meth_handshake':
ssl.c:394:5: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  394 |     DH_free(ctx->dh_param);
      |     ^~~~~~~
In file included from /usr/include/openssl/dsa.h:31,
                 from /usr/include/openssl/x509.h:37,
                 from /usr/include/openssl/ssl.h:32,
                 from ssl.c:16:
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
context.c: In function 'dhparam_cb':
context.c:226:5: warning: 'PEM_read_bio_DHparams' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  226 |     pctx->dh_param = PEM_read_bio_DHparams(bio, NULL, NULL, NULL);
      |     ^~~~
In file included from /usr/include/openssl/ssl.h:37,
                 from context.c:15:
/usr/include/openssl/pem.h:478:1: note: declared here
  478 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, DHparams, DH)
      | ^~~~~~~~~~~~~~~~~~~
context.c: In function 'set_dhparam':
context.c:554:3: warning: 'SSL_CTX_set_tmp_dh_callback' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  554 |   SSL_CTX_set_tmp_dh_callback(ctx, dhparam_cb);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ssl.h:2271:6: note: declared here
 2271 | void SSL_CTX_set_tmp_dh_callback(SSL_CTX *ctx,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
context.c: In function 'set_curve':
context.c:588:3: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  588 |   EC_KEY_free(key);
      |   ^~~~~~~~~~~
In file included from /usr/include/openssl/x509.h:33,
                 from /usr/include/openssl/ssl.h:32:
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
ar rcu libluasocket.a io.o buffer.o timeout.o usocket.o
ar: `u' modifier ignored since `D' is the default (see `U')
ranlib libluasocket.a
make[3]: Leaving directory '/tmp/src/build-5.2/src/luasocket'
cc -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs  -O -fPIC -shared -L./luasocket -L/usr/lib -o ssl.so options.o x509.o context.o ssl.o config.o ec.o -lssl -lcrypto -lluasocket
make[2]: Leaving directory '/tmp/src/build-5.2/src'
make[1]: Leaving directory '/tmp/src/build-5.2/src'
---------------------
** Build for Linux **
---------------------
make[1]: Entering directory '/tmp/src/build-5.3/src'
make[2]: Entering directory '/tmp/src/build-5.3/src'
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET   -c -o options.o options.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET   -c -o x509.o x509.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET   -c -o context.o context.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET   -c -o ssl.o ssl.c
make[3]: Entering directory '/tmp/src/build-5.3/src/luasocket'
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET   -c -o config.o config.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o io.o io.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET   -c -o ec.o ec.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o buffer.o buffer.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o timeout.o timeout.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.3 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o usocket.o usocket.c
In file included from usocket.h:35,
                 from socket.h:20,
                 from usocket.c:12:
/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>
      |  ^~~~~~~
ec.c: In function 'lsec_find_ec_key':
ec.c:26:3: warning: 'EC_KEY_new_by_curve_name' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
   26 |   return EC_KEY_new_by_curve_name(nid);
      |   ^~~~~~
In file included from ec.h:14,
                 from ec.c:10:
/usr/include/openssl/ec.h:1017:31: note: declared here
 1017 | OSSL_DEPRECATEDIN_3_0 EC_KEY *EC_KEY_new_by_curve_name(int nid);
      |                               ^~~~~~~~~~~~~~~~~~~~~~~~
In file included from ./luasocket/usocket.h:35,
                 from ./luasocket/socket.h:20,
                 from ssl.c:28:
/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>
      |  ^~~~~~~
ssl.c: In function 'meth_handshake':
ssl.c:394:5: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  394 |     DH_free(ctx->dh_param);
      |     ^~~~~~~
In file included from /usr/include/openssl/dsa.h:31,
                 from /usr/include/openssl/x509.h:37,
                 from /usr/include/openssl/ssl.h:32,
                 from ssl.c:16:
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
context.c: In function 'dhparam_cb':
context.c:226:5: warning: 'PEM_read_bio_DHparams' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  226 |     pctx->dh_param = PEM_read_bio_DHparams(bio, NULL, NULL, NULL);
      |     ^~~~
In file included from /usr/include/openssl/ssl.h:37,
                 from context.c:15:
/usr/include/openssl/pem.h:478:1: note: declared here
  478 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, DHparams, DH)
      | ^~~~~~~~~~~~~~~~~~~
context.c: In function 'set_dhparam':
context.c:554:3: warning: 'SSL_CTX_set_tmp_dh_callback' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  554 |   SSL_CTX_set_tmp_dh_callback(ctx, dhparam_cb);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ssl.h:2271:6: note: declared here
 2271 | void SSL_CTX_set_tmp_dh_callback(SSL_CTX *ctx,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
context.c: In function 'set_curve':
context.c:588:3: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  588 |   EC_KEY_free(key);
      |   ^~~~~~~~~~~
In file included from /usr/include/openssl/x509.h:33,
                 from /usr/include/openssl/ssl.h:32:
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
ar rcu libluasocket.a io.o buffer.o timeout.o usocket.o
ar: `u' modifier ignored since `D' is the default (see `U')
ranlib libluasocket.a
make[3]: Leaving directory '/tmp/src/build-5.3/src/luasocket'
cc -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs  -O -fPIC -shared -L./luasocket -L/usr/lib -o ssl.so options.o x509.o context.o ssl.o config.o ec.o -lssl -lcrypto -lluasocket
make[2]: Leaving directory '/tmp/src/build-5.3/src'
make[1]: Leaving directory '/tmp/src/build-5.3/src'
---------------------
** Build for Linux **
---------------------
make[1]: Entering directory '/tmp/src/build-5.4/src'
make[2]: Entering directory '/tmp/src/build-5.4/src'
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET   -c -o options.o options.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET   -c -o x509.o x509.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET   -c -o context.o context.c
make[3]: Entering directory '/tmp/src/build-5.4/src/luasocket'
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o io.o io.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET   -c -o ssl.o ssl.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o buffer.o buffer.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET   -c -o config.o config.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o timeout.o timeout.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET   -c -o ec.o ec.c
cc -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt  -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET -O2 -fPIC -Wall -pedantic -I. -I/usr/include/lua5.4 -DWITH_LUASOCKET -DLUASOCKET_DEBUG   -c -o usocket.o usocket.c
In file included from usocket.h:35,
                 from socket.h:20,
                 from usocket.c:12:
/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>
      |  ^~~~~~~
ec.c: In function 'lsec_find_ec_key':
ec.c:26:3: warning: 'EC_KEY_new_by_curve_name' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
   26 |   return EC_KEY_new_by_curve_name(nid);
      |   ^~~~~~
In file included from ec.h:14,
                 from ec.c:10:
/usr/include/openssl/ec.h:1017:31: note: declared here
 1017 | OSSL_DEPRECATEDIN_3_0 EC_KEY *EC_KEY_new_by_curve_name(int nid);
      |                               ^~~~~~~~~~~~~~~~~~~~~~~~
context.c: In function 'dhparam_cb':
context.c:226:5: warning: 'PEM_read_bio_DHparams' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  226 |     pctx->dh_param = PEM_read_bio_DHparams(bio, NULL, NULL, NULL);
      |     ^~~~
In file included from /usr/include/openssl/ssl.h:37,
                 from context.c:15:
/usr/include/openssl/pem.h:478:1: note: declared here
  478 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, DHparams, DH)
      | ^~~~~~~~~~~~~~~~~~~
context.c: In function 'set_dhparam':
context.c:554:3: warning: 'SSL_CTX_set_tmp_dh_callback' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  554 |   SSL_CTX_set_tmp_dh_callback(ctx, dhparam_cb);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ssl.h:2271:6: note: declared here
 2271 | void SSL_CTX_set_tmp_dh_callback(SSL_CTX *ctx,
      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~
context.c: In function 'set_curve':
context.c:588:3: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  588 |   EC_KEY_free(key);
      |   ^~~~~~~~~~~
In file included from /usr/include/openssl/x509.h:33,
                 from /usr/include/openssl/ssl.h:32:
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
In file included from ./luasocket/usocket.h:35,
                 from ./luasocket/socket.h:20,
                 from ssl.c:28:
/usr/include/sys/poll.h:1:2: warning: #warning redirecting incorrect #include <sys/poll.h> to <poll.h> [-Wcpp]
    1 | #warning redirecting incorrect #include <sys/poll.h> to <poll.h>
      |  ^~~~~~~
ssl.c: In function 'meth_handshake':
ssl.c:394:5: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  394 |     DH_free(ctx->dh_param);
      |     ^~~~~~~
In file included from /usr/include/openssl/dsa.h:31,
                 from /usr/include/openssl/x509.h:37,
                 from /usr/include/openssl/ssl.h:32,
                 from ssl.c:16:
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
ar rcu libluasocket.a io.o buffer.o timeout.o usocket.o
ar: `u' modifier ignored since `D' is the default (see `U')
ranlib libluasocket.a
make[3]: Leaving directory '/tmp/src/build-5.4/src/luasocket'
cc -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs  -O -fPIC -shared -L./luasocket -L/usr/lib -o ssl.so options.o x509.o context.o ssl.o config.o ec.o -lssl -lcrypto -lluasocket
make[2]: Leaving directory '/tmp/src/build-5.4/src'
make[1]: Leaving directory '/tmp/src/build-5.4/src'
>>> lua-sec: Entering fakeroot...
make[1]: Entering directory '/tmp/src/build-5.1/src'
install -d /tmp/pkg/lua-sec//usr/share/lua/5.1/ssl /tmp/pkg/lua-sec//usr/lib/lua/5.1
install ssl.so /tmp/pkg/lua-sec//usr/lib/lua/5.1
install -m644 ssl.lua /tmp/pkg/lua-sec//usr/share/lua/5.1
install -m644 https.lua /tmp/pkg/lua-sec//usr/share/lua/5.1/ssl
make[1]: Leaving directory '/tmp/src/build-5.1/src'
make[1]: Entering directory '/tmp/src/build-5.2/src'
install -d /tmp/pkg/lua-sec//usr/share/lua/5.2/ssl /tmp/pkg/lua-sec//usr/lib/lua/5.2
install ssl.so /tmp/pkg/lua-sec//usr/lib/lua/5.2
install -m644 ssl.lua /tmp/pkg/lua-sec//usr/share/lua/5.2
install -m644 https.lua /tmp/pkg/lua-sec//usr/share/lua/5.2/ssl
make[1]: Leaving directory '/tmp/src/build-5.2/src'
make[1]: Entering directory '/tmp/src/build-5.3/src'
install -d /tmp/pkg/lua-sec//usr/share/lua/5.3/ssl /tmp/pkg/lua-sec//usr/lib/lua/5.3
install ssl.so /tmp/pkg/lua-sec//usr/lib/lua/5.3
install -m644 ssl.lua /tmp/pkg/lua-sec//usr/share/lua/5.3
install -m644 https.lua /tmp/pkg/lua-sec//usr/share/lua/5.3/ssl
make[1]: Leaving directory '/tmp/src/build-5.3/src'
make[1]: Entering directory '/tmp/src/build-5.4/src'
install -d /tmp/pkg/lua-sec//usr/share/lua/5.4/ssl /tmp/pkg/lua-sec//usr/lib/lua/5.4
install ssl.so /tmp/pkg/lua-sec//usr/lib/lua/5.4
install -m644 ssl.lua /tmp/pkg/lua-sec//usr/share/lua/5.4
install -m644 https.lua /tmp/pkg/lua-sec//usr/share/lua/5.4/ssl
make[1]: Leaving directory '/tmp/src/build-5.4/src'
>>> lua-sec-doc*: Running split function doc...
'usr/share/doc' -> '/tmp/pkg/lua-sec-doc/usr/share/doc'
>>> lua-sec-doc*: Preparing subpackage lua-sec-doc...
>>> lua-sec-doc*: Running postcheck for lua-sec-doc
>>> lua5.1-sec*: Running split function _split...
>>> lua5.1-sec*: Preparing subpackage lua5.1-sec...
>>> lua5.1-sec*: Stripping binaries
>>> lua5.1-sec*: Running postcheck for lua5.1-sec
>>> lua5.2-sec*: Running split function _split...
>>> lua5.2-sec*: Preparing subpackage lua5.2-sec...
>>> lua5.2-sec*: Stripping binaries
>>> lua5.2-sec*: Running postcheck for lua5.2-sec
>>> lua5.3-sec*: Running split function _split...
>>> lua5.3-sec*: Preparing subpackage lua5.3-sec...
>>> lua5.3-sec*: Stripping binaries
>>> lua5.3-sec*: Running postcheck for lua5.3-sec
>>> lua5.4-sec*: Running split function _split...
>>> lua5.4-sec*: Preparing subpackage lua5.4-sec...
>>> lua5.4-sec*: Stripping binaries
>>> lua5.4-sec*: Running postcheck for lua5.4-sec
>>> lua-sec*: Running postcheck for lua-sec
>>> lua-sec*: Preparing package lua-sec...
>>> lua-sec*: Stripping binaries
>>> WARNING: lua-sec*: No arch specific binaries found so arch should probably be set to "noarch"
>>> lua-sec-doc*: Scanning shared objects
>>> lua-sec*: Scanning shared objects
>>> lua5.1-sec*: Scanning shared objects
>>> lua5.2-sec*: Scanning shared objects
>>> lua5.3-sec*: Scanning shared objects
>>> lua5.4-sec*: Scanning shared objects
>>> lua-sec-doc*: Tracing dependencies...
>>> lua-sec-doc*: Package size: 100.0 KB
>>> lua-sec-doc*: Compressing data...
>>> lua-sec-doc*: Create checksum...
>>> lua-sec-doc*: Create lua-sec-doc-1.3.2-r0.apk
>>> lua-sec*: Tracing dependencies...
>>> lua-sec*: Package size: 1.0 B
>>> lua-sec*: Compressing data...
>>> lua-sec*: Create checksum...
>>> lua-sec*: Create lua-sec-1.3.2-r0.apk
>>> lua5.1-sec*: Tracing dependencies...
	lua5.1-socket
	so:libc.musl-x86_64.so.1
	so:libcrypto.so.3
	so:libssl.so.3
>>> lua5.1-sec*: Package size: 85.1 KB
>>> lua5.1-sec*: Compressing data...
>>> lua5.1-sec*: Create checksum...
>>> lua5.1-sec*: Create lua5.1-sec-1.3.2-r0.apk
>>> lua5.2-sec*: Tracing dependencies...
	lua5.2-socket
	so:libc.musl-x86_64.so.1
	so:libcrypto.so.3
	so:libssl.so.3
>>> lua5.2-sec*: Package size: 85.1 KB
>>> lua5.2-sec*: Compressing data...
>>> lua5.2-sec*: Create checksum...
>>> lua5.2-sec*: Create lua5.2-sec-1.3.2-r0.apk
>>> lua5.3-sec*: Tracing dependencies...
	lua5.3-socket
	so:libc.musl-x86_64.so.1
	so:libcrypto.so.3
	so:libssl.so.3
>>> lua5.3-sec*: Package size: 85.1 KB
>>> lua5.3-sec*: Compressing data...
>>> lua5.3-sec*: Create checksum...
>>> lua5.3-sec*: Create lua5.3-sec-1.3.2-r0.apk
>>> lua5.4-sec*: Tracing dependencies...
	lua5.4-socket
	so:libc.musl-x86_64.so.1
	so:libcrypto.so.3
	so:libssl.so.3
>>> lua5.4-sec*: Package size: 85.1 KB
>>> lua5.4-sec*: Compressing data...
>>> lua5.4-sec*: Create checksum...
>>> lua5.4-sec*: Create lua5.4-sec-1.3.2-r0.apk
>>> lua-sec: Updating the main/x86_64 repository index...
>>> lua-sec: Signing the index...
>>> lua-sec: Cleaning up srcdir
>>> lua-sec: Cleaning up build chroot
>>> lua-sec: Cleaning up pkgdir
