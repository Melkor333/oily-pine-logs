>>> lsof: Validating /home/packager/oily-pine/main/lsof/APKBUILD...
>>> lsof: Cleaning up srcdir
>>> lsof: Cleaning up pkgdir
>>> lsof: Cleaning up tmpdir
>>> lsof: Fetching https://github.com/lsof-org/lsof/archive/4.99.4/lsof-4.99.4.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100 1108k    0 1108k    0     0  1198k      0 --:--:-- --:--:-- --:--:-- 1198k
>>> lsof: Fetching https://github.com/lsof-org/lsof/archive/4.99.4/lsof-4.99.4.tar.gz
>>> lsof: Checking sha512sums...
lsof-4.99.4.tar.gz: OK
hassecurity.patch: OK
>>> lsof: Preparing build chroot...
fetch http://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz
(1/78) Installing musl (1.2.5-r10)
(2/78) Installing libcrypto3 (3.5.0-r0)
(3/78) Installing ca-certificates-bundle (20241121-r2)
(4/78) Installing libssl3 (3.5.0-r0)
(5/78) Installing zlib (1.3.1-r2)
(6/78) Installing libapk2 (2.14.9-r2)
(7/78) Installing apk-tools (2.14.9-r2)
(8/78) Installing libcap2 (2.76-r0)
(9/78) Installing libcap-getcap (2.76-r0)
(10/78) Installing fakeroot (1.37.1.1-r0)
(11/78) Installing scanelf (1.3.8-r1)
(12/78) Installing musl-utils (1.2.5-r10)
(13/78) Installing libgcc (14.3.0-r1)
(14/78) Installing libstdc++ (14.3.0-r1)
(15/78) Installing lzip (1.25-r0)
(16/78) Installing openssl (3.5.0-r0)
(17/78) Installing patch (2.8-r0)
(18/78) Installing pkgconf (2.4.3-r0)
(19/78) Installing acl-libs (2.3.2-r1)
(20/78) Installing tar (1.35-r3)
(21/78) Installing busybox (1.37.0-r18)
Executing busybox-1.37.0-r18.post-install
(22/78) Installing ssl_client (1.37.0-r18)
(23/78) Installing busybox-binsh (1.37.0-r18)
(24/78) Installing abuild (3.15.0-r0)
Executing abuild-3.15.0-r0.pre-install
(25/78) Installing abuild-sudo (3.15.0-r0)
(26/78) Installing alpine-baselayout-data (3.7.0-r0)
(27/78) Installing alpine-baselayout (3.7.0-r0)
Executing alpine-baselayout-3.7.0-r0.pre-install
Executing alpine-baselayout-3.7.0-r0.post-install
(28/78) Installing bridge (1.5-r5)
(29/78) Installing ifupdown-ng (0.12.1-r7)
(30/78) Installing openrc-user (0.62.2-r2)
(31/78) Installing openrc (0.62.2-r2)
Executing openrc-0.62.2-r2.post-install
(32/78) Installing mdev-conf (4.8-r0)
(33/78) Installing busybox-mdev-openrc (1.37.0-r18)
(34/78) Installing alpine-conf (3.20.0-r0)
(35/78) Installing alpine-keys (2.5-r0)
(36/78) Installing alpine-release (3.22.0-r0)
(37/78) Installing busybox-openrc (1.37.0-r18)
(38/78) Installing busybox-suid (1.37.0-r18)
(39/78) Installing alpine-base (3.22.0-r0)
(40/78) Installing ncurses-terminfo-base (6.5_p20250503-r0)
(41/78) Installing libncursesw (6.5_p20250503-r0)
(42/78) Installing readline (8.2.13-r1)
(43/78) Installing bash (5.2.37-r0)
Executing bash-5.2.37-r0.post-install
(44/78) Installing jansson (2.14.1-r0)
(45/78) Installing zstd-libs (1.5.7-r0)
(46/78) Installing binutils (2.44-r0)
(47/78) Installing libmagic (5.46-r2)
(48/78) Installing file (5.46-r2)
(49/78) Installing libgomp (14.3.0-r1)
(50/78) Installing libatomic (14.3.0-r1)
(51/78) Installing gmp (6.3.0-r3)
(52/78) Installing isl26 (0.26-r1)
(53/78) Installing mpfr4 (4.2.1_p1-r0)
(54/78) Installing mpc1 (1.3.1-r1)
(55/78) Installing gcc (14.3.0-r1)
(56/78) Installing libstdc++-dev (14.3.0-r1)
(57/78) Installing musl-dev (1.2.5-r10)
(58/78) Installing g++ (14.3.0-r1)
(59/78) Installing make (4.4.1-r3)
(60/78) Installing fortify-headers (1.1-r5)
(61/78) Installing build-base (0.5-r3)
(62/78) Installing brotli-libs (1.1.0-r2)
(63/78) Installing c-ares (1.34.5-r0)
(64/78) Installing libunistring (1.3-r0)
(65/78) Installing libidn2 (2.3.7-r0)
(66/78) Installing nghttp2-libs (1.65.0-r0)
(67/78) Installing libpsl (0.21.5-r3)
(68/78) Installing libcurl (8.14.0-r2)
(69/78) Installing libexpat (2.7.1-r0)
(70/78) Installing pcre2 (10.43-r1)
(71/78) Installing git (2.49.0-r0)
(72/78) Installing git-init-template (2.49.0-r0)
(73/78) Installing linux-headers (6.14.2-r0)
(74/78) Installing libbz2 (1.0.8-r6)
(75/78) Installing perl (5.40.2-r0)
(76/78) Installing perl-error (0.17030-r0)
(77/78) Installing perl-git (2.49.0-r0)
(78/78) Installing git-perl (2.49.0-r0)
Executing busybox-1.37.0-r18.trigger
OK: 304 MiB in 78 packages
>>> lsof: Fetching https://github.com/lsof-org/lsof/archive/4.99.4/lsof-4.99.4.tar.gz
>>> lsof: Checking sha512sums...
lsof-4.99.4.tar.gz: OK
hassecurity.patch: OK
>>> lsof: Unpacking /var/cache/distfiles/lsof-4.99.4.tar.gz...
>>> lsof: hassecurity.patch
patching file lib/dialects/linux/machine.h
Testing C library type with cc ... done
The C library type is not glibc.
rm -f ddev.c dfile.c dlsof.h dmnt.c dnode*.c dproc.c dproto.h dsock.c dstore.c dzfs.h kernelbase.h machine.h machine.h.old new_machine.h __lseek.s Makefile Makefile.zfs ./tests/config.cflags
rm -f ./tests/config.cc ./tests/config.xobj ./tests/config.ldflags
Testing C library for localtime() and strftime(), using cc ... present
ln -s lib/dialects/linux/dfile.c dfile.c
ln -s lib/dialects/linux/dlsof.h dlsof.h
ln -s lib/dialects/linux/dmnt.c dmnt.c
ln -s lib/dialects/linux/dnode.c dnode.c
ln -s lib/dialects/linux/dproc.c dproc.c
ln -s lib/dialects/linux/dproto.h dproto.h
ln -s lib/dialects/linux/dsock.c dsock.c
ln -s lib/dialects/linux/dstore.c dstore.c
ln -s lib/dialects/linux/machine.h machine.h
ln -s src/arg.c arg.c
ln -s src/main.c main.c
ln -s src/print.c print.c
ln -s src/ptti.c ptti.c
ln -s src/store.c store.c
ln -s src/usage.c usage.c
ln -s src/util.c util.c
ln -s src/dialects/linux/dprint.c dprint.c
Makefile and lib/Makefile created.
./tests/config.cc created
./tests/config.cflags created
./tests/config.ldflags created
./tests/config.xobj created
(cd lib; make DEBUG="" CFGF="-DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"")
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dfile.o dfile.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dmnt.o dmnt.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dnode.o dnode.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dprint.o dprint.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dproc.o dproc.c
make[1]: Entering directory '/tmp/src/lsof-4.99.4/lib'
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o ckkv.o ckkv.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dsock.o dsock.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o cvfs.o cvfs.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dstore.o dstore.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o arg.o arg.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o main.o main.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o dvch.o dvch.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o print.o print.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o store.o store.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o fino.o fino.c
Constructing version.h
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o isfn.o isfn.c
dnode.c: In function 'process_proc_node':
dnode.c:716:11: warning: unused variable 'tn' [-Wunused-variable]
  716 |     char *tn;
      |           ^~
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o util.o util.c
print.c: In function 'human_readable_size':
print.c:1765:9: warning: unused variable 'len' [-Wunused-variable]
 1765 |     int len;
      |         ^~~
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o usage.o usage.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o lkud.o lkud.c
arg.c: In function 'enter_id':
arg.c:1127:21: warning: unused variable 's' [-Wunused-variable]
 1127 |     struct int_lst *s;
      |                     ^
arg.c:1126:35: warning: unused variable 'nx' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                                   ^~
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o lsof.o lsof.c
arg.c:1126:31: warning: unused variable 'ni' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                               ^~
arg.c:1126:28: warning: unused variable 'n' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                            ^
arg.c:1126:24: warning: unused variable 'mx' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                        ^~
arg.c:1126:21: warning: unused variable 'j' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                     ^
print.c: In function 'printuid':
print.c:1712:37: warning: '%*lu' directive output may be truncated writing between 8 and 10 bytes into a region of size 9 [-Wformat-truncation=]
 1712 |     (void)snpf(user, sizeof(user), "%*lu", USERPRTL, (unsigned long)uid);
      |                                     ^~~~
print.c:1712:36: note: directive argument in the range [0, 4294967295]
 1712 |     (void)snpf(user, sizeof(user), "%*lu", USERPRTL, (unsigned long)uid);
      |                                    ^~~~~~
In file included from lib/common.h:42,
                 from print.c:31:
./machine.h:552:18: note: 'snprintf' output between 9 and 11 bytes into a destination of size 9
  552 | #    define snpf snprintf /* use the system's snprintf() */
print.c:1712:11: note: in expansion of macro 'snpf'
 1712 |     (void)snpf(user, sizeof(user), "%*lu", USERPRTL, (unsigned long)uid);
      |           ^~~~
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o misc.o misc.c
arg.c: In function 'enter_cmd':
main.c: In function 'main':
arg.c:1944:21: warning: unused variable 'lpt' [-Wunused-variable]
 1944 |     struct str_lst *lpt;
      |                     ^~~
main.c:1304:62: warning: format '%d' expects argument of type 'int', but argument 4 has type 'size_t' {aka 'long unsigned int'} [-Wformat=]
 1304 |                     (void)fprintf(stderr, "%s: no space for %d sort pointers\n",
      |                                                             ~^
      |                                                              |
      |                                                              int
      |                                                             %ld
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o node.o node.c
arg.c:1943:14: warning: unused variable 'len' [-Wunused-variable]
 1943 |     MALLOC_S len;
      |              ^~~
arg.c:1941:11: warning: unused variable 'cp' [-Wunused-variable]
 1941 |     char *cp;
      |           ^~
arg.c: In function 'enter_uid':
arg.c:1972:29: warning: unused variable 'lp' [-Wunused-variable]
 1972 |     char lnm[LOGINML + 1], *lp;
      |                             ^~
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o pdvn.o pdvn.c
dsock.c: In function 'prt_uxs':
dsock.c:1076:9: warning: unused variable 'i' [-Wunused-variable]
 1076 |     int i;            /* temporary index */
      |         ^
arg.c:1971:14: warning: unused variable 'len' [-Wunused-variable]
 1971 |     MALLOC_S len;
      |              ^~~
dsock.c: In function 'prt_nets_common':
dsock.c:1244:9: warning: unused variable 'i' [-Wunused-variable]
 1244 |     int i;            /* temporary index */
      |         ^
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o prfp.o prfp.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o print.o print.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o proc.o proc.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o ptti.o ptti.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rdev.o rdev.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rmnt.o rmnt.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rnam.o rnam.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rnch.o rnch.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rnmh.o rnmh.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rnmt.o rnmt.c
dsock.c: At top level:
dsock.c:372:14: warning: 'socket_state_to_str' declared 'static' but never defined [-Wunused-function]
  372 | static char *socket_state_to_str(struct lsof_context *ctx, unsigned int ss);
      |              ^~~~~~~~~~~~~~~~~~~
ar cr liblsof.a ckkv.o cvfs.o dvch.o fino.o isfn.o lkud.o lsof.o misc.o node.o pdvn.o prfp.o print.o proc.o ptti.o rdev.o rmnt.o rnam.o rnch.o rnmh.o rnmt.o
ranlib liblsof.a
make[1]: Leaving directory '/tmp/src/lsof-4.99.4/lib'
cc -o lsof dfile.o dmnt.o dnode.o dprint.o dproc.o dsock.o dstore.o arg.o main.o print.o store.o usage.o util.o -L./lib -llsof 
"LT_BIGF LT_CC LT_DIAL_linux LT_VERS=614002 _FILE_OFFSET_BITS=64" added to TestDB.
(cd lib; make DEBUG="" CFGF="-DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"")
Constructing version.h
make[1]: Entering directory '/tmp/src/lsof-4.99.4/lib'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/tmp/src/lsof-4.99.4/lib'
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o usage.o usage.c
cc -o lsof dfile.o dmnt.o dnode.o dprint.o dproc.o dsock.o dstore.o arg.o main.o print.o store.o usage.o util.o -L./lib -llsof 
bash ./check.bash linux

RUNTIME ENVIRONMENT INFORMATION
=============================================================================
linux
5.2.37(1)-release
autocd         	off
assoc_expand_once	off
cdable_vars    	off
cdspell        	off
checkhash      	off
checkjobs      	off
checkwinsize   	on
cmdhist        	on
compat31       	off
compat32       	off
compat40       	off
compat41       	off
compat42       	off
compat43       	off
compat44       	off
complete_fullquote	on
direxpand      	off
dirspell       	off
dotglob        	off
execfail       	off
expand_aliases 	off
extdebug       	off
extglob        	off
extquote       	on
failglob       	off
force_fignore  	on
globasciiranges	on
globskipdots   	on
globstar       	off
gnu_errfmt     	off
histappend     	off
histreedit     	off
histverify     	off
hostcomplete   	on
huponexit      	off
inherit_errexit	off
interactive_comments	on
lastpipe       	off
lithist        	off
localvar_inherit	off
localvar_unset 	off
login_shell    	off
mailwarn       	off
no_empty_cmd_completion	off
nocaseglob     	off
nocasematch    	off
noexpand_translation	off
nullglob       	off
patsub_replacement	on
progcomp       	on
progcomp_alias 	off
promptvars     	on
restricted_shell	off
shift_verbose  	off
sourcepath     	on
varredir_close 	off
xpg_echo       	off
declare -x ABUILD_LAST_COMMIT="2c5d71142452e568b03df6e47676c95cf50e7657"
declare -x ABUILD_USERDIR="/home/packager/.abuild"
declare -x BUILDCC="cc"
declare -x BUILDCFLAGS="-Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt"
declare -x BUILDCPPFLAGS=""
declare -x BUILDCXX="c++"
declare -x BUILDCXXFLAGS="-Os -fstack-clash-protection -Wformat -Werror=format-security -D_GLIBCXX_ASSERTIONS=1 -D_LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS=1 -D_LIBCPP_ENABLE_HARDENED_MODE=1 -fno-plt"
declare -x BUILDLD="ld"
declare -x BUILDLDFLAGS="-Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs"
declare -x CARCH="x86_64"
declare -x CARGO_BUILD_JOBS="16"
declare -x CARGO_PROFILE_RELEASE_CODEGEN_UNITS="1"
declare -x CARGO_PROFILE_RELEASE_LTO="true"
declare -x CARGO_PROFILE_RELEASE_OPT_LEVEL="s"
declare -x CARGO_PROFILE_RELEASE_PANIC="abort"
declare -x CC="cc"
declare -x CFLAGS="-Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\\\"6.14.2\\\"  -Iinclude -Ilib -Isrc -I.   "
declare -x CMAKE_BUILD_PARALLEL_LEVEL="16"
declare -x CTEST_NO_TESTS_ACTION="error"
declare -x CTEST_OUTPUT_ON_FAILURE="ON"
declare -x CTEST_PARALLEL_LEVEL="16"
declare -x CXX="c++"
declare -x CXXFLAGS="-Os -fstack-clash-protection -Wformat -Werror=format-security -D_GLIBCXX_ASSERTIONS=1 -D_LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS=1 -D_LIBCPP_ENABLE_HARDENED_MODE=1 -fno-plt"
declare -x DFLAGS="-Os"
declare -x FAKEROOTDONTTRYCHOWN="1"
declare -x GIT_CEILING_DIRECTORIES="/home/packager/oily-pine/main/lsof"
declare -x GOFLAGS="-buildmode=pie -modcacherw -trimpath -buildvcs=false"
declare -x HOME="/home/packager"
declare -x JOBS="16"
declare -x LDFLAGS="-Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs"
declare -x MAKEFLAGS=" -j16 --jobserver-auth=fifo:/tmp/GMfifo282"
declare -x MAKELEVEL="1"
declare -x MFLAGS="-j16 --jobserver-auth=fifo:/tmp/GMfifo282"
declare -x OLDPWD="/tmp/src/lsof-4.99.4"
declare -x PATH="/bin:/usr/bin:/sbin:/usr/sbin"
declare -x PERL_MM_USE_DEFAULT="1"
declare -x PWD="/tmp/src/lsof-4.99.4"
declare -x REPODEST="/home/packager/packages/"
declare -x RUSTFLAGS=" -Clink-arg=-Wl,-z,pack-relative-relocs"
declare -x SAMUFLAGS="-j16"
declare -x SHLVL="2"
declare -x SOURCE_DATE_EPOCH="1733128693"
declare -x SRCDEST="/var/cache/distfiles"
declare -x abuild_srcdir="/tmp/src"
declare -x git="/usr/bin/git"
declare -x pkgbasedir="/tmp/pkg"
declare -x tmpdir="/tmp/tmp"
Linux
lsof version information:
    revision: 4.99.4
    copyright notice: Copyright 1998 Purdue Research Foundation. All rights reserved.
    latest revision: https://github.com/lsof-org/lsof
    latest FAQ: https://github.com/lsof-org/lsof/blob/master/00FAQ
    latest (non-formatted) man page: https://github.com/lsof-org/lsof/blob/master/Lsof.8
    compiler: cc
    compiler version: 14.3.0 (Alpine 14.3.0) 
    compiler flags: -Wall -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.14.2" -Iinclude -Ilib -Isrc -I.
    loader flags: -L./lib -llsof 
    features enabled: ipv6 ptyept soopt sostate tasks uxsockept
    Only root can list all files.
    /dev warnings are disabled.
    Kernel ID check is disabled.

STARTING TEST ( dialect neutral )
=============================================================================
case-00-hello ... ok
case-01-version ... ok
case-13-classic ... ok
case-14-classic-opt ... ok
case-20-exit-status ... ok
case-20-fd-only-inclusion ... ok
case-20-handle-missing-files ... ok
case-20-offset-field ... ok
case-20-repeat-count ... ok
case-21-exit-Q-status ... ok
case-22-empty-process-name ... ok

STARTING TEST ( linux specific )
=============================================================================
case-00-linux-hello ... ok
case-10-mqueue ... failed
case-10-ux-socket-state ... skipped
case-20-epoll ... ok
case-20-eventfd-endpoint ... ok
case-20-inet-socket-endpoint ... skipped
case-20-inet6-ffffffff-handling ... skipped
case-20-inet6-socket-endpoint ... skipped
case-20-mmap ... skipped
case-20-mqueue-endpoint ... failed
case-20-open-flags-cx ... ok
case-20-open-flags-path ... ok
case-20-open-flags-tmpf ... ok
case-20-pidfd-pid ... ok
case-20-pipe-endpoint ... ok
case-20-pipe-no-close-endpoint ... ok
case-20-pty-endpoint ... ok
case-20-ux-socket-endpoint-unaccepted ... ok
case-20-ux-socket-endpoint ... skipped

TEST SUMMARY
=============================================================================
successful: 22
skipped: 6
failed: 2
2 of 30 cases are failed

[failed] /tmp/case-10-mqueue-308.report
-----------------------------------------------------------------------------
unexpected output: p688
tREG

[failed] /tmp/case-20-mqueue-endpoint-308.report
-----------------------------------------------------------------------------
mqname: /lsof-case-20-mqueue-endpoint-783
parent: 788
child: 789
fd: 3
cmdline: /tmp/src/lsof-4.99.4/lsof +E -p 788

PARENT

COMMAND PID USER  FD   TYPE DEVICE SIZE/OFF     NODE NAME
bash    787 user   0r  FIFO   0,15      0t0 20880519 pipe 788,mq_fork,1w 789,mq_fork,1w 790,lsof,0r
mq_fork 788 user cwd    DIR    8,3     4096  9313847 /tmp/src/lsof-4.99.4
mq_fork 788 user rtd    DIR    8,3     4096  9306117 /
mq_fork 788 user txt    REG    8,3    20200  9314337 /tmp/src/lsof-4.99.4/lib/dialects/linux/tests/mq_fork
mq_fork 788 user mem    REG    8,3   662120  9307817 /lib/ld-musl-x86_64.so.1
mq_fork 788 user   0r   CHR    1,3      0t0        4 /dev/null
mq_fork 788 user   1w  FIFO   0,15      0t0 20880519 pipe 787,bash,0r 789,mq_fork,1w 790,lsof,0r
mq_fork 788 user   2w   REG    8,3    25796  5916934 /home/packager/logs/main/lsof/lsof-4.99.4-r0.log
mq_fork 788 user   3u   REG   0,29       80 20870813 /lsof-case-20-mqueue-endpoint-783
mq_fork 789 user   1w  FIFO   0,15      0t0 20880519 pipe 787,bash,0r 788,mq_fork,1w 790,lsof,0r
lsof    790 user   0r  FIFO   0,15      0t0 20880519 pipe 787,bash,0r 788,mq_fork,1w 789,mq_fork,1w

CHILD

COMMAND PID USER  FD   TYPE DEVICE SIZE/OFF     NODE NAME
bash    787 user   0r  FIFO   0,15      0t0 20880519 pipe 788,mq_fork,1w 789,mq_fork,1w 792,lsof,0r
mq_fork 788 user   1w  FIFO   0,15      0t0 20880519 pipe 787,bash,0r 789,mq_fork,1w 792,lsof,0r
mq_fork 789 user cwd    DIR    8,3     4096  9313847 /tmp/src/lsof-4.99.4
mq_fork 789 user rtd    DIR    8,3     4096  9306117 /
mq_fork 789 user txt    REG    8,3    20200  9314337 /tmp/src/lsof-4.99.4/lib/dialects/linux/tests/mq_fork
mq_fork 789 user mem    REG    8,3   662120  9307817 /lib/ld-musl-x86_64.so.1
mq_fork 789 user   0r   CHR    1,3      0t0        4 /dev/null
mq_fork 789 user   1w  FIFO   0,15      0t0 20880519 pipe 787,bash,0r 788,mq_fork,1w 792,lsof,0r
mq_fork 789 user   2w   REG    8,3    25796  5916934 /home/packager/logs/main/lsof/lsof-4.99.4-r0.log
mq_fork 789 user   3u   REG   0,29       80 20870813 /lsof-case-20-mqueue-endpoint-783
lsof    792 user   0r  FIFO   0,15      0t0 20880519 pipe 787,bash,0r 788,mq_fork,1w 789,mq_fork,1w
From the parent side
expected pattern: mq_fork *788 .* 3u *PSXMQ .* /lsof-case-20-mqueue-endpoint-783 789,mq_fork,3u

[skipped] /tmp/case-10-ux-socket-state-308.report
-----------------------------------------------------------------------------
nc does not support unix socket, skipping

[skipped] /tmp/case-20-inet-socket-endpoint-308.report
-----------------------------------------------------------------------------
nc does not support -4 option, skipping

[skipped] /tmp/case-20-inet6-ffffffff-handling-308.report
-----------------------------------------------------------------------------
root privileged is needed to run case-20-inet6-ffffffff-handling.bash.

[skipped] /tmp/case-20-inet6-socket-endpoint-308.report
-----------------------------------------------------------------------------
nc: unrecognized option: 6
BusyBox v1.37.0 (2025-05-26 20:04:45 UTC) multi-call binary.

Usage: nc [OPTIONS] HOST PORT  - connect
nc [OPTIONS] -l -p PORT [HOST] [PORT]  - listen

	-e PROG	Run PROG after connect (must be last)
	-l	Listen mode, for inbound connects
	-lk	With -e, provides persistent server
	-p PORT	Local port
	-s ADDR	Local address
	-w SEC	Timeout for connects and final net reads
	-i SEC	Delay interval for lines sent
	-n	Don't do DNS resolution
	-u	UDP mode
	-b	Allow broadcasts
	-v	Verbose
	-o FILE	Hex dump traffic
	-z	Zero-I/O mode (scanning)
nc: unrecognized option: 6
BusyBox v1.37.0 (2025-05-26 20:04:45 UTC) multi-call binary.

Usage: nc [OPTIONS] HOST PORT  - connect
nc [OPTIONS] -l -p PORT [HOST] [PORT]  - listen

	-e PROG	Run PROG after connect (must be last)
	-l	Listen mode, for inbound connects
	-lk	With -e, provides persistent server
	-p PORT	Local port
	-s ADDR	Local address
	-w SEC	Timeout for connects and final net reads
	-i SEC	Delay interval for lines sent
	-n	Don't do DNS resolution
	-u	UDP mode
	-b	Allow broadcasts
	-v	Verbose
	-o FILE	Hex dump traffic
	-z	Zero-I/O mode (scanning)
Maybe ipv6 stack is not available on this system, skipping

[skipped] /tmp/case-20-mmap-308.report
-----------------------------------------------------------------------------
unshare: unshare(0x20000): Operation not permitted
unshare is not supported on this platform, skipping

[skipped] /tmp/case-20-ux-socket-endpoint-308.report
-----------------------------------------------------------------------------
nc does not support unix socket, skipping
make: *** [Makefile:64: check] Error 1
>>> ERROR: lsof: check failed
>>> ERROR: lsof: rootbld failed
>>> lsof: Cleaning up build chroot
