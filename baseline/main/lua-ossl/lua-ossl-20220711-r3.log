>>> lua-ossl: Validating /home/packager/oily-pine/main/lua-ossl/APKBUILD...
>>> lua-ossl: Cleaning up srcdir
>>> lua-ossl: Cleaning up pkgdir
>>> lua-ossl: Cleaning up tmpdir
>>> lua-ossl: Fetching luaossl-20220711.tar.gz::https://github.com/wahern/luaossl/archive/rel-20220711.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:02 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:03 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:04 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:05 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:06 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:07 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:08 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:09 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:10 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:11 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:12 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:13 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:14 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:15 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:16 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:17 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:18 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:19 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:20 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:21 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:22 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:23 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:24 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:25 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:26 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:27 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:28 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:29 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:30 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:31 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:32 --:--:--     0100 45089    0 45089    0     0   1375      0 --:--:--  0:00:32 --:--:-- 10134100  461k    0  461k    0     0  13992      0 --:--:--  0:00:33 --:--:--  103k100  493k    0  493k    0     0  14931      0 --:--:--  0:00:33 --:--:--  140k
>>> lua-ossl: Fetching luaossl-20220711.tar.gz::https://github.com/wahern/luaossl/archive/rel-20220711.tar.gz
>>> lua-ossl: Checking sha512sums...
luaossl-20220711.tar.gz: OK
0001-pkey.toPEM-opts-rename-const-array.patch: OK
0002-pkey.toPEM-accept-table-arguments.patch: OK
0003-pkey.toPEM-private-key-encryption.patch: OK
0004-pkey.new-type-rename-variable.patch: OK
0005-pkey.new-opt-rename-variable.patch: OK
0006-pkey.new-accept-option-table.patch: OK
0007-pkey.new-decryption.patch: OK
0008-pkey.toPEM-use-password-callback.patch: OK
0009-pkey-PEM-password-callback.patch: OK
>>> lua-ossl: Preparing build chroot...
fetch http://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz
(1/85) Installing musl (1.2.5-r10)
(2/85) Installing libcrypto3 (3.5.0-r0)
(3/85) Installing ca-certificates-bundle (20241121-r2)
(4/85) Installing libssl3 (3.5.0-r0)
(5/85) Installing zlib (1.3.1-r2)
(6/85) Installing libapk2 (2.14.9-r2)
(7/85) Installing apk-tools (2.14.9-r2)
(8/85) Installing libcap2 (2.76-r0)
(9/85) Installing libcap-getcap (2.76-r0)
(10/85) Installing fakeroot (1.37.1.1-r0)
(11/85) Installing scanelf (1.3.8-r1)
(12/85) Installing musl-utils (1.2.5-r10)
(13/85) Installing libgcc (14.3.0-r1)
(14/85) Installing libstdc++ (14.3.0-r1)
(15/85) Installing lzip (1.25-r0)
(16/85) Installing openssl (3.5.0-r0)
(17/85) Installing patch (2.8-r0)
(18/85) Installing pkgconf (2.4.3-r0)
(19/85) Installing acl-libs (2.3.2-r1)
(20/85) Installing tar (1.35-r3)
(21/85) Installing busybox (1.37.0-r18)
Executing busybox-1.37.0-r18.post-install
(22/85) Installing ssl_client (1.37.0-r18)
(23/85) Installing busybox-binsh (1.37.0-r18)
(24/85) Installing abuild (3.15.0-r0)
Executing abuild-3.15.0-r0.pre-install
(25/85) Installing abuild-sudo (3.15.0-r0)
(26/85) Installing alpine-baselayout-data (3.7.0-r0)
(27/85) Installing alpine-baselayout (3.7.0-r0)
Executing alpine-baselayout-3.7.0-r0.pre-install
Executing alpine-baselayout-3.7.0-r0.post-install
(28/85) Installing bridge (1.5-r5)
(29/85) Installing ifupdown-ng (0.12.1-r7)
(30/85) Installing openrc-user (0.62.2-r2)
(31/85) Installing openrc (0.62.2-r2)
Executing openrc-0.62.2-r2.post-install
(32/85) Installing mdev-conf (4.8-r0)
(33/85) Installing busybox-mdev-openrc (1.37.0-r18)
(34/85) Installing alpine-conf (3.20.0-r0)
(35/85) Installing alpine-keys (2.5-r0)
(36/85) Installing alpine-release (3.22.0-r0)
(37/85) Installing busybox-openrc (1.37.0-r18)
(38/85) Installing busybox-suid (1.37.0-r18)
(39/85) Installing alpine-base (3.22.0-r0)
(40/85) Installing jansson (2.14.1-r0)
(41/85) Installing zstd-libs (1.5.7-r0)
(42/85) Installing binutils (2.44-r0)
(43/85) Installing libmagic (5.46-r2)
(44/85) Installing file (5.46-r2)
(45/85) Installing libgomp (14.3.0-r1)
(46/85) Installing libatomic (14.3.0-r1)
(47/85) Installing gmp (6.3.0-r3)
(48/85) Installing isl26 (0.26-r1)
(49/85) Installing mpfr4 (4.2.1_p1-r0)
(50/85) Installing mpc1 (1.3.1-r1)
(51/85) Installing gcc (14.3.0-r1)
(52/85) Installing libstdc++-dev (14.3.0-r1)
(53/85) Installing musl-dev (1.2.5-r10)
(54/85) Installing g++ (14.3.0-r1)
(55/85) Installing make (4.4.1-r3)
(56/85) Installing fortify-headers (1.1-r5)
(57/85) Installing build-base (0.5-r3)
(58/85) Installing brotli-libs (1.1.0-r2)
(59/85) Installing c-ares (1.34.5-r0)
(60/85) Installing libunistring (1.3-r0)
(61/85) Installing libidn2 (2.3.7-r0)
(62/85) Installing nghttp2-libs (1.65.0-r0)
(63/85) Installing libpsl (0.21.5-r3)
(64/85) Installing libcurl (8.14.0-r2)
(65/85) Installing libexpat (2.7.1-r0)
(66/85) Installing pcre2 (10.43-r1)
(67/85) Installing git (2.49.0-r0)
(68/85) Installing git-init-template (2.49.0-r0)
(69/85) Installing lua5.1-libs (5.1.5-r13)
(70/85) Installing lua5.1 (5.1.5-r13)
(71/85) Installing lua5.1-dev (5.1.5-r13)
(72/85) Installing lua5.2-libs (5.2.4-r13)
(73/85) Installing lua5.2 (5.2.4-r13)
(74/85) Installing lua5.2-dev (5.2.4-r13)
(75/85) Installing linenoise (1.0-r5)
(76/85) Installing lua5.3-libs (5.3.6-r6)
(77/85) Installing lua5.3 (5.3.6-r6)
(78/85) Installing lua5.3-dev (5.3.6-r6)
(79/85) Installing lua5.4-libs (5.4.7-r0)
(80/85) Installing ncurses-terminfo-base (6.5_p20250503-r0)
(81/85) Installing libncursesw (6.5_p20250503-r0)
(82/85) Installing readline (8.2.13-r1)
(83/85) Installing lua5.4 (5.4.7-r0)
(84/85) Installing lua5.4-dev (5.4.7-r0)
(85/85) Installing openssl-dev (3.5.0-r0)
Executing busybox-1.37.0-r18.trigger
OK: 269 MiB in 85 packages
>>> lua-ossl: Fetching luaossl-20220711.tar.gz::https://github.com/wahern/luaossl/archive/rel-20220711.tar.gz
>>> lua-ossl: Checking sha512sums...
luaossl-20220711.tar.gz: OK
0001-pkey.toPEM-opts-rename-const-array.patch: OK
0002-pkey.toPEM-accept-table-arguments.patch: OK
0003-pkey.toPEM-private-key-encryption.patch: OK
0004-pkey.new-type-rename-variable.patch: OK
0005-pkey.new-opt-rename-variable.patch: OK
0006-pkey.new-accept-option-table.patch: OK
0007-pkey.new-decryption.patch: OK
0008-pkey.toPEM-use-password-callback.patch: OK
0009-pkey-PEM-password-callback.patch: OK
>>> lua-ossl: Unpacking /var/cache/distfiles/luaossl-20220711.tar.gz...
>>> lua-ossl: 0001-pkey.toPEM-opts-rename-const-array.patch
patching file src/openssl.c
Hunk #1 succeeded at 4718 (offset 43 lines).
>>> lua-ossl: 0002-pkey.toPEM-accept-table-arguments.patch
patching file src/openssl.c
Hunk #1 succeeded at 4724 (offset 43 lines).
>>> lua-ossl: 0003-pkey.toPEM-private-key-encryption.patch
patching file src/openssl.c
Hunk #2 succeeded at 4725 (offset 43 lines).
Hunk #3 succeeded at 4750 (offset 43 lines).
>>> lua-ossl: 0004-pkey.new-type-rename-variable.patch
patching file src/openssl.c
Hunk #1 succeeded at 4342 (offset 43 lines).
Hunk #2 succeeded at 4368 (offset 43 lines).
Hunk #3 succeeded at 4389 (offset 43 lines).
>>> lua-ossl: 0005-pkey.new-opt-rename-variable.patch
patching file src/openssl.c
Hunk #1 succeeded at 4344 (offset 43 lines).
>>> lua-ossl: 0006-pkey.new-accept-option-table.patch
patching file src/openssl.c
Hunk #1 succeeded at 4108 (offset 43 lines).
Hunk #2 succeeded at 4342 (offset 43 lines).
Hunk #3 succeeded at 4350 (offset 43 lines).
Hunk #4 succeeded at 4369 (offset 43 lines).
>>> lua-ossl: 0007-pkey.new-decryption.patch
patching file src/openssl.c
Hunk #2 succeeded at 4105 (offset 43 lines).
Hunk #3 succeeded at 4353 (offset 43 lines).
Hunk #4 succeeded at 4363 (offset 43 lines).
Hunk #5 succeeded at 4384 (offset 43 lines).
Hunk #6 succeeded at 4405 (offset 43 lines).
>>> lua-ossl: 0008-pkey.toPEM-use-password-callback.patch
patching file src/openssl.c
Hunk #1 succeeded at 4786 (offset 43 lines).
>>> lua-ossl: 0009-pkey-PEM-password-callback.patch
patching file src/openssl.c
Hunk #1 succeeded at 4105 (offset 43 lines).
Hunk #2 succeeded at 4371 (offset 43 lines).
Hunk #3 succeeded at 4402 (offset 43 lines).
Hunk #4 succeeded at 4414 (offset 43 lines).
Hunk #5 succeeded at 4424 (offset 43 lines).
Hunk #6 succeeded at 4776 (offset 43 lines).
Hunk #7 succeeded at 4802 (offset 43 lines).
enabling Lua 5.1
enabling Lua 5.2
enabling Lua 5.3
enabling Lua 5.4
touch /tmp/src/luaossl-rel-20220711/.config.tmp
prefix = /usr
includedir = $(prefix)/include
libdir = $(prefix)/lib
datadir = $(prefix)/share
bindir = $(prefix)/bin
lua51cpath = $(libdir)/lua/5.1
lua51path = $(datadir)/lua/5.1
lua52cpath = $(libdir)/lua/5.2
lua52path = $(datadir)/lua/5.2
lua53cpath = $(libdir)/lua/5.3
lua53path = $(datadir)/lua/5.3
lua54cpath = $(libdir)/lua/5.4
lua54path = $(datadir)/lua/5.4
CC = cc
ALL_CPPFLAGS = -D_REENTRANT -D_THREAD_SAFE -D_GNU_SOURCE $(CPPFLAGS)
CPPFLAGS = 
ALL_CFLAGS = -O2 -std=gnu99 -fPIC -g -Wall -Wextra $(call cc-option, -Wno-missing-field-initializers) $(call cc-option, -Wno-override-init) -Wno-unused $(CFLAGS)
CFLAGS = -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt -g
ALL_LDFLAGS = -L$(DESTDIR)$(libdir) -L$(libdir) $(LDFLAGS)
LDFLAGS = -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs
ALL_SOFLAGS = -shared $(SOFLAGS)
SOFLAGS = 
ALL_LIB = 
LIBS = 
ALL_LUA51_CPPFLAGS = $(LUA51_CPPFLAGS)
ALL_LUA52_CPPFLAGS = $(LUA52_CPPFLAGS)
ALL_LUA53_CPPFLAGS = $(LUA53_CPPFLAGS)
ALL_LUA54_CPPFLAGS = $(LUA54_CPPFLAGS)
AR = ar
RANLIB = ranlib
M4 = m4
MV = mv
RM = rm -f
CP = cp
RMDIR = rmdir
MKDIR = mkdir
CHMOD = chmod
INSTALL = install
INSTALL_DATA = $(INSTALL) -m 644
TOUCH = touch
TEE = tee
TEE_A = $(TEE) -a
LUA_APIS = 5.1 5.2 5.3 5.4
LUAC51 = /usr/bin/luac
LUAC52 = /usr/bin/luac5.2
LUAC53 = /usr/bin/luac5.3
LUAC54 = /usr/bin/luac5.4
LUA51_CPPFLAGS = -I/usr/include
LUA52_CPPFLAGS = -I/usr/include/lua5.2
LUA53_CPPFLAGS = -I/usr/include/lua5.3
LUA54_CPPFLAGS = -I/usr/include/lua5.4
mv /tmp/src/luaossl-rel-20220711/.config.tmp /tmp/src/luaossl-rel-20220711/.config
cp /tmp/src/luaossl-rel-20220711/config.h.guess /tmp/src/luaossl-rel-20220711/config.h
cp /tmp/src/luaossl-rel-20220711/config.h /tmp/src/luaossl-rel-20220711/src/config.h
mkdir -p /tmp/src/luaossl-rel-20220711/src/5.1
cc -O2 -std=gnu99 -fPIC -g -Wall -Wextra  -Wno-missing-field-initializers  -Wno-override-init -Wno-unused -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt -g -I/usr/include -D_REENTRANT -D_THREAD_SAFE -D_GNU_SOURCE  -DHAVE_CONFIG_H -DCOMPAT53_PREFIX=luaossl -c -o /tmp/src/luaossl-rel-20220711/src/5.1/openssl.o /tmp/src/luaossl-rel-20220711/src/openssl.c
mkdir -p /tmp/src/luaossl-rel-20220711/src/5.1
cc -O2 -std=gnu99 -fPIC -g -Wall -Wextra  -Wno-missing-field-initializers  -Wno-override-init -Wno-unused -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt -g -I/usr/include -D_REENTRANT -D_THREAD_SAFE -D_GNU_SOURCE  -DHAVE_CONFIG_H -DCOMPAT53_PREFIX=luaossl -c -o /tmp/src/luaossl-rel-20220711/src/5.1/compat53.o /tmp/src/luaossl-rel-20220711/src/../vendor/compat53/c-api/compat-5.3.c
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pem_pw_cb':
/tmp/src/luaossl-rel-20220711/src/openssl.c:4123:35: warning: suggest parentheses around '&&' within '||' [-Wparentheses]
 4123 |         if (lua_isfunction(L, -1) && lua_pcall(L, 0, 1, 0) || !lua_isstring(L, -1)) {
      |                                   ^
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:4231:25: warning: 'RSA_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4231 |                         if (!(rsa = RSA_new()))
      |                         ^~
In file included from /usr/include/openssl/x509.h:36,
                 from /tmp/src/luaossl-rel-20220711/src/openssl.c:73:
/usr/include/openssl/rsa.h:212:28: note: declared here
  212 | OSSL_DEPRECATEDIN_3_0 RSA *RSA_new(void);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4234:25: warning: 'RSA_generate_key_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4234 |                         if (!RSA_generate_key_ex(rsa, bits, exp, 0)) {
      |                         ^~
/usr/include/openssl/rsa.h:271:27: note: declared here
  271 | OSSL_DEPRECATEDIN_3_0 int RSA_generate_key_ex(RSA *rsa, int bits, BIGNUM *e,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4235:33: warning: 'RSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4235 |                                 RSA_free(rsa);
      |                                 ^~~~~~~~
/usr/include/openssl/rsa.h:304:28: note: declared here
  304 | OSSL_DEPRECATEDIN_3_0 void RSA_free(RSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4239:25: warning: 'EVP_PKEY_set1_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4239 |                         EVP_PKEY_set1_RSA(*ud, rsa);
      |                         ^~~~~~~~~~~~~~~~~
In file included from /usr/include/openssl/x509.h:29:
/usr/include/openssl/evp.h:1403:5: note: declared here
 1403 | int EVP_PKEY_set1_RSA(EVP_PKEY *pkey, struct rsa_st *key);
      |     ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4241:25: warning: 'RSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4241 |                         RSA_free(rsa);
      |                         ^~~~~~~~
/usr/include/openssl/rsa.h:304:28: note: declared here
  304 | OSSL_DEPRECATEDIN_3_0 void RSA_free(RSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4251:25: warning: 'DSA_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4251 |                         if (!(dsa = DSA_new()))
      |                         ^~
In file included from /usr/include/openssl/x509.h:37:
/usr/include/openssl/dsa.h:130:28: note: declared here
  130 | OSSL_DEPRECATEDIN_3_0 DSA *DSA_new(void);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4254:25: warning: 'DSA_generate_parameters_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4254 |                         if (!DSA_generate_parameters_ex(dsa, bits, 0, 0, 0, 0, 0)) {
      |                         ^~
/usr/include/openssl/dsa.h:172:27: note: declared here
  172 | OSSL_DEPRECATEDIN_3_0 int DSA_generate_parameters_ex(DSA *dsa, int bits,
      |                           ^~~~~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4255:33: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4255 |                                 DSA_free(dsa);
      |                                 ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4259:25: warning: 'DSA_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4259 |                         if (!DSA_generate_key(dsa)) {
      |                         ^~
/usr/include/openssl/dsa.h:179:27: note: declared here
  179 | OSSL_DEPRECATEDIN_3_0 int DSA_generate_key(DSA *a);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4260:33: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4260 |                                 DSA_free(dsa);
      |                                 ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4264:25: warning: 'EVP_PKEY_set1_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4264 |                         EVP_PKEY_set1_DSA(*ud, dsa);
      |                         ^~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1412:5: note: declared here
 1412 | int EVP_PKEY_set1_DSA(EVP_PKEY *pkey, struct dsa_st *key);
      |     ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4266:25: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4266 |                         DSA_free(dsa);
      |                         ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4285:33: warning: 'PEM_read_bio_DHparams' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4285 |                                 dh = PEM_read_bio_DHparams(bio, NULL, NULL, NULL);
      |                                 ^~
In file included from /tmp/src/luaossl-rel-20220711/src/openssl.c:78:
/usr/include/openssl/pem.h:478:1: note: declared here
  478 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, DHparams, DH)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4290:33: warning: 'DH_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4290 |                                 if (!(dh = DH_new()))
      |                                 ^~
In file included from /usr/include/openssl/dsa.h:31:
/usr/include/openssl/dh.h:210:27: note: declared here
  210 | OSSL_DEPRECATEDIN_3_0 DH *DH_new(void);
      |                           ^~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4293:33: warning: 'DH_generate_parameters_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4293 |                                 if (!DH_generate_parameters_ex(dh, bits, generator, 0)) {
      |                                 ^~
/usr/include/openssl/dh.h:223:27: note: declared here
  223 | OSSL_DEPRECATEDIN_3_0 int DH_generate_parameters_ex(DH *dh, int prime_len,
      |                           ^~~~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4294:41: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4294 |                                         DH_free(dh);
      |                                         ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4300:25: warning: 'DH_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4300 |                         if (!DH_generate_key(dh)) {
      |                         ^~
/usr/include/openssl/dh.h:234:27: note: declared here
  234 | OSSL_DEPRECATEDIN_3_0 int DH_generate_key(DH *dh);
      |                           ^~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4301:33: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4301 |                                 DH_free(dh);
      |                                 ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4305:25: warning: 'EVP_PKEY_set1_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4305 |                         EVP_PKEY_set1_DH(*ud, dh);
      |                         ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1421:27: note: declared here
 1421 | OSSL_DEPRECATEDIN_3_0 int EVP_PKEY_set1_DH(EVP_PKEY *pkey, struct dh_st *key);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4307:25: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4307 |                         DH_free(dh);
      |                         ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4327:25: warning: 'EC_KEY_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4327 |                         if (!(key = EC_KEY_new())) {
      |                         ^~
In file included from /usr/include/openssl/x509.h:33:
/usr/include/openssl/ec.h:987:31: note: declared here
  987 | OSSL_DEPRECATEDIN_3_0 EC_KEY *EC_KEY_new(void);
      |                               ^~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4332:25: warning: 'EC_KEY_set_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4332 |                         EC_KEY_set_group(key, grp);
      |                         ^~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1061:27: note: declared here
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4336:25: warning: 'EC_KEY_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4336 |                         if (!EC_KEY_generate_key(key)) {
      |                         ^~
/usr/include/openssl/ec.h:1120:27: note: declared here
 1120 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_generate_key(EC_KEY *key);
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4337:33: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4337 |                                 EC_KEY_free(key);
      |                                 ^~~~~~~~~~~
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4341:25: warning: 'EVP_PKEY_set1_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4341 |                         EVP_PKEY_set1_EC_KEY(*ud, key);
      |                         ^~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1429:5: note: declared here
 1429 | int EVP_PKEY_set1_EC_KEY(EVP_PKEY *pkey, struct ec_key_st *key);
      |     ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4343:25: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4343 |                         EC_KEY_free(key);
      |                         ^~~~~~~~~~~
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_pushparam':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5012:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5012 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5012:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5012 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5018:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5018 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5018:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5018 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5024:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5024 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5024:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5024 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5030:17: warning: 'RSA_get0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5030 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:231:28: note: declared here
  231 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_factors(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5030:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5030 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5036:17: warning: 'RSA_get0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5036 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:231:28: note: declared here
  231 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_factors(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5036:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5036 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5042:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5042 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5042:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5042 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5048:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5048 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5048:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5048 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5054:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5054 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5054:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5054 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5059:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5059 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5059:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5059 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5064:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5064 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5064:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5064 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5069:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5069 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5069:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5069 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5074:17: warning: 'DSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5074 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:209:28: note: declared here
  209 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_key(const DSA *d, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5074:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5074 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5079:17: warning: 'DSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5079 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:209:28: note: declared here
  209 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_key(const DSA *d, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5079:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5079 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5084:17: warning: 'DH_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5084 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:264:28: note: declared here
  264 | OSSL_DEPRECATEDIN_3_0 void DH_get0_pqg(const DH *dh, const BIGNUM **p,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5084:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5084 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5089:17: warning: 'DH_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5089 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:264:28: note: declared here
  264 | OSSL_DEPRECATEDIN_3_0 void DH_get0_pqg(const DH *dh, const BIGNUM **p,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5089:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5089 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5094:17: warning: 'DH_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5094 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), &i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:267:28: note: declared here
  267 | OSSL_DEPRECATEDIN_3_0 void DH_get0_key(const DH *dh, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5094:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5094 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), &i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5099:17: warning: 'DH_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5099 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:267:28: note: declared here
  267 | OSSL_DEPRECATEDIN_3_0 void DH_get0_key(const DH *dh, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5099:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5099 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5105:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5105 |                 ecg_dup_nil(L, EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5105:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5105 |                 ecg_dup_nil(L, EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EC_KEY_get0_public_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/ec.h:1081:39: note: declared here
 1081 | OSSL_DEPRECATEDIN_3_0 const EC_POINT *EC_KEY_get0_public_key(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EC_POINT_point2bn' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/ec.h:789:31: note: declared here
  789 | OSSL_DEPRECATEDIN_3_0 BIGNUM *EC_POINT_point2bn(const EC_GROUP *,
      |                               ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EC_KEY_get_conv_form' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/ec.h:1093:47: note: declared here
 1093 | OSSL_DEPRECATEDIN_3_0 point_conversion_form_t EC_KEY_get_conv_form(const EC_KEY *key);
      |                                               ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5121:17: warning: 'EC_KEY_get0_private_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5121 |                 bn_dup_nil(L, EC_KEY_get0_private_key(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~
/usr/include/openssl/ec.h:1067:37: note: declared here
 1067 | OSSL_DEPRECATEDIN_3_0 const BIGNUM *EC_KEY_get0_private_key(const EC_KEY *key);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5121:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5121 |                 bn_dup_nil(L, EC_KEY_get0_private_key(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_setparam':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:17: warning: 'RSA_set0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:27: note: declared here
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:34: warning: passing argument 1 of 'RSA_set0_factors' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:49: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                                            ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:17: warning: 'RSA_set0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:27: note: declared here
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:34: warning: passing argument 1 of 'RSA_set0_factors' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:49: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                                            ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:17: warning: 'DSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:27: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:30: warning: passing argument 1 of 'DSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:17: warning: 'DSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:27: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:30: warning: passing argument 1 of 'DSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:17: warning: 'DH_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:266:27: note: declared here
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:29: warning: passing argument 1 of 'DH_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:266:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:17: warning: 'DH_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:266:27: note: declared here
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:29: warning: passing argument 1 of 'DH_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:266:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:17: warning: 'DH_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:269:27: note: declared here
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:29: warning: passing argument 1 of 'DH_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:269:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:17: warning: 'DH_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:269:27: note: declared here
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:29: warning: passing argument 1 of 'DH_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:269:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:17: warning: 'EC_KEY_set_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                 ^~
/usr/include/openssl/ec.h:1061:27: note: declared here
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:39: warning: passing argument 1 of 'EC_KEY_set_group' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1061:52: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                                            ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5257:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5257 |                 if (!(group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))))
      |                 ^~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5257:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5257 |                 if (!(group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5260:17: warning: 'EC_POINT_bn2point' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5260 |                 if (!(pub_key = EC_POINT_bn2point(group, n, NULL, getctx(L))))
      |                 ^~
/usr/include/openssl/ec.h:793:33: note: declared here
  793 | OSSL_DEPRECATEDIN_3_0 EC_POINT *EC_POINT_bn2point(const EC_GROUP *,
      |                                 ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:17: warning: 'EC_KEY_set_public_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                 ^~~~
/usr/include/openssl/ec.h:1089:27: note: declared here
 1089 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_public_key(EC_KEY *key, const EC_POINT *pub);
      |                           ^~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                 ^~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:46: warning: passing argument 1 of 'EC_KEY_set_public_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1089:57: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1089 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_public_key(EC_KEY *key, const EC_POINT *pub);
      |                                                 ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:17: warning: 'EC_KEY_set_private_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                 ^~
/usr/include/openssl/ec.h:1075:27: note: declared here
 1075 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_private_key(EC_KEY *key, const BIGNUM *prv);
      |                           ^~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:45: warning: passing argument 1 of 'EC_KEY_set_private_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1075:58: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1075 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_private_key(EC_KEY *key, const BIGNUM *prv);
      |                                                  ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5601:33: warning: 'PEM_read_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5601 |                                 goterr |= !(*group = PEM_read_bio_ECPKParameters(bio, NULL, 0, ""));
      |                                 ^~~~~~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_toPEM':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5647:9: warning: 'PEM_write_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5647 |         if (!PEM_write_bio_ECPKParameters(bio, group))
      |         ^~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_tostring':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5666:17: warning: 'PEM_write_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5666 |                 if (!PEM_write_bio_ECPKParameters(bio, group))
      |                 ^~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5675:17: warning: 'ECPKParameters_print' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5675 |                 if (!ECPKParameters_print(bio, group, indent))
      |                 ^~
/usr/include/openssl/ec.h:945:27: note: declared here
  945 | OSSL_DEPRECATEDIN_3_0 int ECPKParameters_print(BIO *bp, const EC_GROUP *x,
      |                           ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg__gc':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5696:17: warning: 'EC_GROUP_clear_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5696 |                 EC_GROUP_clear_free(*ud);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:179:28: note: declared here
  179 | OSSL_DEPRECATEDIN_3_0 void EC_GROUP_clear_free(EC_GROUP *group);
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'sx_setEphemeralKey':
/tmp/src/luaossl-rel-20220711/src/openssl.c:9681:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9681 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:9689:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9689 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:9697:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9697 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11846:9: warning: 'HMAC_CTX_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11846 |         if (!(*ctx = HMAC_CTX_new()))
      |         ^~
In file included from /usr/include/openssl/ssl.h:38,
                 from /tmp/src/luaossl-rel-20220711/src/openssl.c:79:
/usr/include/openssl/hmac.h:33:33: note: declared here
   33 | OSSL_DEPRECATEDIN_3_0 HMAC_CTX *HMAC_CTX_new(void);
      |                                 ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:11850:9: warning: 'HMAC_Init_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11850 |         if (!HMAC_Init_ex(*ctx, key, len, type, NULL))
      |         ^~
/usr/include/openssl/hmac.h:43:27: note: declared here
   43 | OSSL_DEPRECATEDIN_3_0 int HMAC_Init_ex(HMAC_CTX *ctx, const void *key, int len,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_update_':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11876:17: warning: 'HMAC_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11876 |                 HMAC_Update(ctx, p, n);
      |                 ^~~~~~~~~~~
/usr/include/openssl/hmac.h:45:27: note: declared here
   45 | OSSL_DEPRECATEDIN_3_0 int HMAC_Update(HMAC_CTX *ctx, const unsigned char *data,
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_final':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11899:9: warning: 'HMAC_Final' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11899 |         HMAC_Final(ctx, hmac, &len);
      |         ^~~~~~~~~~
/usr/include/openssl/hmac.h:47:27: note: declared here
   47 | OSSL_DEPRECATEDIN_3_0 int HMAC_Final(HMAC_CTX *ctx, unsigned char *md,
      |                           ^~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac__gc':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11910:9: warning: 'HMAC_CTX_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11910 |         HMAC_CTX_free(*ctx);
      |         ^~~~~~~~~~~~~
/usr/include/openssl/hmac.h:35:28: note: declared here
   35 | OSSL_DEPRECATEDIN_3_0 void HMAC_CTX_free(HMAC_CTX *ctx);
      |                            ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'de5_string_to_key':
/tmp/src/luaossl-rel-20220711/src/openssl.c:13053:9: warning: 'DES_string_to_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
13053 |         DES_string_to_key(luaL_checkstring(L, 1), &key);
      |         ^~~~~~~~~~~~~~~~~
In file included from /tmp/src/luaossl-rel-20220711/src/openssl.c:82:
/usr/include/openssl/des.h:193:28: note: declared here
  193 | OSSL_DEPRECATEDIN_3_0 void DES_string_to_key(const char *str, DES_cblock *key);
      |                            ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'de5_set_odd_parity':
/tmp/src/luaossl-rel-20220711/src/openssl.c:13068:9: warning: 'DES_set_odd_parity' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
13068 |         DES_set_odd_parity(&key);
      |         ^~~~~~~~~~~~~~~~~~
/usr/include/openssl/des.h:176:28: note: declared here
  176 | OSSL_DEPRECATEDIN_3_0 void DES_set_odd_parity(DES_cblock *key);
      |                            ^~~~~~~~~~~~~~~~~~
cc -o /tmp/src/luaossl-rel-20220711/src/5.1/openssl.so /tmp/src/luaossl-rel-20220711/src/5.1/openssl.o /tmp/src/luaossl-rel-20220711/src/5.1/compat53.o -shared  -L/usr/lib -L/usr/lib -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs  -lssl -lcrypto -lpthread -ldl -lrt -lm
mkdir -p /tmp/src/luaossl-rel-20220711/src/5.2
cc -O2 -std=gnu99 -fPIC -g -Wall -Wextra  -Wno-missing-field-initializers  -Wno-override-init -Wno-unused -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt -g -I/usr/include/lua5.2 -D_REENTRANT -D_THREAD_SAFE -D_GNU_SOURCE  -DHAVE_CONFIG_H -DCOMPAT53_PREFIX=luaossl -c -o /tmp/src/luaossl-rel-20220711/src/5.2/openssl.o /tmp/src/luaossl-rel-20220711/src/openssl.c
mkdir -p /tmp/src/luaossl-rel-20220711/src/5.2
cc -O2 -std=gnu99 -fPIC -g -Wall -Wextra  -Wno-missing-field-initializers  -Wno-override-init -Wno-unused -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt -g -I/usr/include/lua5.2 -D_REENTRANT -D_THREAD_SAFE -D_GNU_SOURCE  -DHAVE_CONFIG_H -DCOMPAT53_PREFIX=luaossl -c -o /tmp/src/luaossl-rel-20220711/src/5.2/compat53.o /tmp/src/luaossl-rel-20220711/src/../vendor/compat53/c-api/compat-5.3.c
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pem_pw_cb':
/tmp/src/luaossl-rel-20220711/src/openssl.c:4123:35: warning: suggest parentheses around '&&' within '||' [-Wparentheses]
 4123 |         if (lua_isfunction(L, -1) && lua_pcall(L, 0, 1, 0) || !lua_isstring(L, -1)) {
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:4231:25: warning: 'RSA_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4231 |                         if (!(rsa = RSA_new()))
      |                         ^~
In file included from /usr/include/openssl/x509.h:36,
                 from /tmp/src/luaossl-rel-20220711/src/openssl.c:73:
/usr/include/openssl/rsa.h:212:28: note: declared here
  212 | OSSL_DEPRECATEDIN_3_0 RSA *RSA_new(void);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4234:25: warning: 'RSA_generate_key_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4234 |                         if (!RSA_generate_key_ex(rsa, bits, exp, 0)) {
      |                         ^~
/usr/include/openssl/rsa.h:271:27: note: declared here
  271 | OSSL_DEPRECATEDIN_3_0 int RSA_generate_key_ex(RSA *rsa, int bits, BIGNUM *e,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4235:33: warning: 'RSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4235 |                                 RSA_free(rsa);
      |                                 ^~~~~~~~
/usr/include/openssl/rsa.h:304:28: note: declared here
  304 | OSSL_DEPRECATEDIN_3_0 void RSA_free(RSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4239:25: warning: 'EVP_PKEY_set1_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4239 |                         EVP_PKEY_set1_RSA(*ud, rsa);
      |                         ^~~~~~~~~~~~~~~~~
In file included from /usr/include/openssl/x509.h:29:
/usr/include/openssl/evp.h:1403:5: note: declared here
 1403 | int EVP_PKEY_set1_RSA(EVP_PKEY *pkey, struct rsa_st *key);
      |     ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4241:25: warning: 'RSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4241 |                         RSA_free(rsa);
      |                         ^~~~~~~~
/usr/include/openssl/rsa.h:304:28: note: declared here
  304 | OSSL_DEPRECATEDIN_3_0 void RSA_free(RSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4251:25: warning: 'DSA_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4251 |                         if (!(dsa = DSA_new()))
      |                         ^~
In file included from /usr/include/openssl/x509.h:37:
/usr/include/openssl/dsa.h:130:28: note: declared here
  130 | OSSL_DEPRECATEDIN_3_0 DSA *DSA_new(void);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4254:25: warning: 'DSA_generate_parameters_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4254 |                         if (!DSA_generate_parameters_ex(dsa, bits, 0, 0, 0, 0, 0)) {
      |                         ^~
/usr/include/openssl/dsa.h:172:27: note: declared here
  172 | OSSL_DEPRECATEDIN_3_0 int DSA_generate_parameters_ex(DSA *dsa, int bits,
      |                           ^~~~~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4255:33: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4255 |                                 DSA_free(dsa);
      |                                 ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4259:25: warning: 'DSA_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4259 |                         if (!DSA_generate_key(dsa)) {
      |                         ^~
/usr/include/openssl/dsa.h:179:27: note: declared here
  179 | OSSL_DEPRECATEDIN_3_0 int DSA_generate_key(DSA *a);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4260:33: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4260 |                                 DSA_free(dsa);
      |                                 ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4264:25: warning: 'EVP_PKEY_set1_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4264 |                         EVP_PKEY_set1_DSA(*ud, dsa);
      |                         ^~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1412:5: note: declared here
 1412 | int EVP_PKEY_set1_DSA(EVP_PKEY *pkey, struct dsa_st *key);
      |     ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4266:25: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4266 |                         DSA_free(dsa);
      |                         ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4285:33: warning: 'PEM_read_bio_DHparams' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4285 |                                 dh = PEM_read_bio_DHparams(bio, NULL, NULL, NULL);
      |                                 ^~
In file included from /tmp/src/luaossl-rel-20220711/src/openssl.c:78:
/usr/include/openssl/pem.h:478:1: note: declared here
  478 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, DHparams, DH)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4290:33: warning: 'DH_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4290 |                                 if (!(dh = DH_new()))
      |                                 ^~
In file included from /usr/include/openssl/dsa.h:31:
/usr/include/openssl/dh.h:210:27: note: declared here
  210 | OSSL_DEPRECATEDIN_3_0 DH *DH_new(void);
      |                           ^~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4293:33: warning: 'DH_generate_parameters_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4293 |                                 if (!DH_generate_parameters_ex(dh, bits, generator, 0)) {
      |                                 ^~
/usr/include/openssl/dh.h:223:27: note: declared here
  223 | OSSL_DEPRECATEDIN_3_0 int DH_generate_parameters_ex(DH *dh, int prime_len,
      |                           ^~~~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4294:41: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4294 |                                         DH_free(dh);
      |                                         ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4300:25: warning: 'DH_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4300 |                         if (!DH_generate_key(dh)) {
      |                         ^~
/usr/include/openssl/dh.h:234:27: note: declared here
  234 | OSSL_DEPRECATEDIN_3_0 int DH_generate_key(DH *dh);
      |                           ^~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4301:33: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4301 |                                 DH_free(dh);
      |                                 ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4305:25: warning: 'EVP_PKEY_set1_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4305 |                         EVP_PKEY_set1_DH(*ud, dh);
      |                         ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1421:27: note: declared here
 1421 | OSSL_DEPRECATEDIN_3_0 int EVP_PKEY_set1_DH(EVP_PKEY *pkey, struct dh_st *key);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4307:25: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4307 |                         DH_free(dh);
      |                         ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4327:25: warning: 'EC_KEY_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4327 |                         if (!(key = EC_KEY_new())) {
      |                         ^~
In file included from /usr/include/openssl/x509.h:33:
/usr/include/openssl/ec.h:987:31: note: declared here
  987 | OSSL_DEPRECATEDIN_3_0 EC_KEY *EC_KEY_new(void);
      |                               ^~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4332:25: warning: 'EC_KEY_set_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4332 |                         EC_KEY_set_group(key, grp);
      |                         ^~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1061:27: note: declared here
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4336:25: warning: 'EC_KEY_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4336 |                         if (!EC_KEY_generate_key(key)) {
      |                         ^~
/usr/include/openssl/ec.h:1120:27: note: declared here
 1120 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_generate_key(EC_KEY *key);
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4337:33: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4337 |                                 EC_KEY_free(key);
      |                                 ^~~~~~~~~~~
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4341:25: warning: 'EVP_PKEY_set1_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4341 |                         EVP_PKEY_set1_EC_KEY(*ud, key);
      |                         ^~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1429:5: note: declared here
 1429 | int EVP_PKEY_set1_EC_KEY(EVP_PKEY *pkey, struct ec_key_st *key);
      |     ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4343:25: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4343 |                         EC_KEY_free(key);
      |                         ^~~~~~~~~~~
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_pushparam':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5012:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5012 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5012:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5012 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5018:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5018 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5018:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5018 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5024:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5024 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5024:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5024 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5030:17: warning: 'RSA_get0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5030 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:231:28: note: declared here
  231 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_factors(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5030:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5030 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5036:17: warning: 'RSA_get0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5036 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:231:28: note: declared here
  231 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_factors(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5036:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5036 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5042:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5042 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5042:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5042 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5048:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5048 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5048:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5048 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5054:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5054 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5054:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5054 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5059:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5059 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5059:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5059 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5064:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5064 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5064:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5064 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5069:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5069 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5069:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5069 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5074:17: warning: 'DSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5074 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:209:28: note: declared here
  209 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_key(const DSA *d, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5074:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5074 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5079:17: warning: 'DSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5079 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:209:28: note: declared here
  209 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_key(const DSA *d, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5079:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5079 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5084:17: warning: 'DH_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5084 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:264:28: note: declared here
  264 | OSSL_DEPRECATEDIN_3_0 void DH_get0_pqg(const DH *dh, const BIGNUM **p,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5084:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5084 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5089:17: warning: 'DH_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5089 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:264:28: note: declared here
  264 | OSSL_DEPRECATEDIN_3_0 void DH_get0_pqg(const DH *dh, const BIGNUM **p,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5089:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5089 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5094:17: warning: 'DH_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5094 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), &i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:267:28: note: declared here
  267 | OSSL_DEPRECATEDIN_3_0 void DH_get0_key(const DH *dh, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5094:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5094 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), &i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5099:17: warning: 'DH_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5099 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:267:28: note: declared here
  267 | OSSL_DEPRECATEDIN_3_0 void DH_get0_key(const DH *dh, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5099:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5099 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5105:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5105 |                 ecg_dup_nil(L, EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5105:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5105 |                 ecg_dup_nil(L, EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EC_KEY_get0_public_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/ec.h:1081:39: note: declared here
 1081 | OSSL_DEPRECATEDIN_3_0 const EC_POINT *EC_KEY_get0_public_key(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EC_POINT_point2bn' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/ec.h:789:31: note: declared here
  789 | OSSL_DEPRECATEDIN_3_0 BIGNUM *EC_POINT_point2bn(const EC_GROUP *,
      |                               ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EC_KEY_get_conv_form' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/ec.h:1093:47: note: declared here
 1093 | OSSL_DEPRECATEDIN_3_0 point_conversion_form_t EC_KEY_get_conv_form(const EC_KEY *key);
      |                                               ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5121:17: warning: 'EC_KEY_get0_private_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5121 |                 bn_dup_nil(L, EC_KEY_get0_private_key(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~
/usr/include/openssl/ec.h:1067:37: note: declared here
 1067 | OSSL_DEPRECATEDIN_3_0 const BIGNUM *EC_KEY_get0_private_key(const EC_KEY *key);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5121:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5121 |                 bn_dup_nil(L, EC_KEY_get0_private_key(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_setparam':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:17: warning: 'RSA_set0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:27: note: declared here
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:34: warning: passing argument 1 of 'RSA_set0_factors' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:49: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                                            ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:17: warning: 'RSA_set0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:27: note: declared here
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:34: warning: passing argument 1 of 'RSA_set0_factors' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:49: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                                            ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:17: warning: 'DSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:27: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:30: warning: passing argument 1 of 'DSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:17: warning: 'DSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:27: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:30: warning: passing argument 1 of 'DSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:17: warning: 'DH_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:266:27: note: declared here
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:29: warning: passing argument 1 of 'DH_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:266:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:17: warning: 'DH_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:266:27: note: declared here
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:29: warning: passing argument 1 of 'DH_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:266:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:17: warning: 'DH_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:269:27: note: declared here
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:29: warning: passing argument 1 of 'DH_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:269:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:17: warning: 'DH_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:269:27: note: declared here
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:29: warning: passing argument 1 of 'DH_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:269:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:17: warning: 'EC_KEY_set_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                 ^~
/usr/include/openssl/ec.h:1061:27: note: declared here
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:39: warning: passing argument 1 of 'EC_KEY_set_group' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1061:52: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                                            ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5257:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5257 |                 if (!(group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))))
      |                 ^~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5257:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5257 |                 if (!(group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5260:17: warning: 'EC_POINT_bn2point' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5260 |                 if (!(pub_key = EC_POINT_bn2point(group, n, NULL, getctx(L))))
      |                 ^~
/usr/include/openssl/ec.h:793:33: note: declared here
  793 | OSSL_DEPRECATEDIN_3_0 EC_POINT *EC_POINT_bn2point(const EC_GROUP *,
      |                                 ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:17: warning: 'EC_KEY_set_public_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                 ^~~~
/usr/include/openssl/ec.h:1089:27: note: declared here
 1089 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_public_key(EC_KEY *key, const EC_POINT *pub);
      |                           ^~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                 ^~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:46: warning: passing argument 1 of 'EC_KEY_set_public_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1089:57: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1089 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_public_key(EC_KEY *key, const EC_POINT *pub);
      |                                                 ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:17: warning: 'EC_KEY_set_private_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                 ^~
/usr/include/openssl/ec.h:1075:27: note: declared here
 1075 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_private_key(EC_KEY *key, const BIGNUM *prv);
      |                           ^~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:45: warning: passing argument 1 of 'EC_KEY_set_private_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1075:58: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1075 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_private_key(EC_KEY *key, const BIGNUM *prv);
      |                                                  ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5601:33: warning: 'PEM_read_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5601 |                                 goterr |= !(*group = PEM_read_bio_ECPKParameters(bio, NULL, 0, ""));
      |                                 ^~~~~~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_toPEM':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5647:9: warning: 'PEM_write_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5647 |         if (!PEM_write_bio_ECPKParameters(bio, group))
      |         ^~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_tostring':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5666:17: warning: 'PEM_write_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5666 |                 if (!PEM_write_bio_ECPKParameters(bio, group))
      |                 ^~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5675:17: warning: 'ECPKParameters_print' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5675 |                 if (!ECPKParameters_print(bio, group, indent))
      |                 ^~
/usr/include/openssl/ec.h:945:27: note: declared here
  945 | OSSL_DEPRECATEDIN_3_0 int ECPKParameters_print(BIO *bp, const EC_GROUP *x,
      |                           ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg__gc':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5696:17: warning: 'EC_GROUP_clear_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5696 |                 EC_GROUP_clear_free(*ud);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:179:28: note: declared here
  179 | OSSL_DEPRECATEDIN_3_0 void EC_GROUP_clear_free(EC_GROUP *group);
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'sx_setEphemeralKey':
/tmp/src/luaossl-rel-20220711/src/openssl.c:9681:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9681 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:9689:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9689 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:9697:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9697 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11846:9: warning: 'HMAC_CTX_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11846 |         if (!(*ctx = HMAC_CTX_new()))
      |         ^~
In file included from /usr/include/openssl/ssl.h:38,
                 from /tmp/src/luaossl-rel-20220711/src/openssl.c:79:
/usr/include/openssl/hmac.h:33:33: note: declared here
   33 | OSSL_DEPRECATEDIN_3_0 HMAC_CTX *HMAC_CTX_new(void);
      |                                 ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:11850:9: warning: 'HMAC_Init_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11850 |         if (!HMAC_Init_ex(*ctx, key, len, type, NULL))
      |         ^~
/usr/include/openssl/hmac.h:43:27: note: declared here
   43 | OSSL_DEPRECATEDIN_3_0 int HMAC_Init_ex(HMAC_CTX *ctx, const void *key, int len,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_update_':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11876:17: warning: 'HMAC_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11876 |                 HMAC_Update(ctx, p, n);
      |                 ^~~~~~~~~~~
/usr/include/openssl/hmac.h:45:27: note: declared here
   45 | OSSL_DEPRECATEDIN_3_0 int HMAC_Update(HMAC_CTX *ctx, const unsigned char *data,
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_final':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11899:9: warning: 'HMAC_Final' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11899 |         HMAC_Final(ctx, hmac, &len);
      |         ^~~~~~~~~~
/usr/include/openssl/hmac.h:47:27: note: declared here
   47 | OSSL_DEPRECATEDIN_3_0 int HMAC_Final(HMAC_CTX *ctx, unsigned char *md,
      |                           ^~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac__gc':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11910:9: warning: 'HMAC_CTX_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11910 |         HMAC_CTX_free(*ctx);
      |         ^~~~~~~~~~~~~
/usr/include/openssl/hmac.h:35:28: note: declared here
   35 | OSSL_DEPRECATEDIN_3_0 void HMAC_CTX_free(HMAC_CTX *ctx);
      |                            ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'de5_string_to_key':
/tmp/src/luaossl-rel-20220711/src/openssl.c:13053:9: warning: 'DES_string_to_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
13053 |         DES_string_to_key(luaL_checkstring(L, 1), &key);
      |         ^~~~~~~~~~~~~~~~~
In file included from /tmp/src/luaossl-rel-20220711/src/openssl.c:82:
/usr/include/openssl/des.h:193:28: note: declared here
  193 | OSSL_DEPRECATEDIN_3_0 void DES_string_to_key(const char *str, DES_cblock *key);
      |                            ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'de5_set_odd_parity':
/tmp/src/luaossl-rel-20220711/src/openssl.c:13068:9: warning: 'DES_set_odd_parity' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
13068 |         DES_set_odd_parity(&key);
      |         ^~~~~~~~~~~~~~~~~~
/usr/include/openssl/des.h:176:28: note: declared here
  176 | OSSL_DEPRECATEDIN_3_0 void DES_set_odd_parity(DES_cblock *key);
      |                            ^~~~~~~~~~~~~~~~~~
cc -o /tmp/src/luaossl-rel-20220711/src/5.2/openssl.so /tmp/src/luaossl-rel-20220711/src/5.2/openssl.o /tmp/src/luaossl-rel-20220711/src/5.2/compat53.o -shared  -L/usr/lib -L/usr/lib -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs  -lssl -lcrypto -lpthread -ldl -lrt -lm
mkdir -p /tmp/src/luaossl-rel-20220711/src/5.3
cc -O2 -std=gnu99 -fPIC -g -Wall -Wextra  -Wno-missing-field-initializers  -Wno-override-init -Wno-unused -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt -g -I/usr/include/lua5.3 -D_REENTRANT -D_THREAD_SAFE -D_GNU_SOURCE  -DHAVE_CONFIG_H -DCOMPAT53_PREFIX=luaossl -c -o /tmp/src/luaossl-rel-20220711/src/5.3/openssl.o /tmp/src/luaossl-rel-20220711/src/openssl.c
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pem_pw_cb':
/tmp/src/luaossl-rel-20220711/src/openssl.c:4123:35: warning: suggest parentheses around '&&' within '||' [-Wparentheses]
 4123 |         if (lua_isfunction(L, -1) && lua_pcall(L, 0, 1, 0) || !lua_isstring(L, -1)) {
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:4231:25: warning: 'RSA_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4231 |                         if (!(rsa = RSA_new()))
      |                         ^~
In file included from /usr/include/openssl/x509.h:36,
                 from /tmp/src/luaossl-rel-20220711/src/openssl.c:73:
/usr/include/openssl/rsa.h:212:28: note: declared here
  212 | OSSL_DEPRECATEDIN_3_0 RSA *RSA_new(void);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4234:25: warning: 'RSA_generate_key_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4234 |                         if (!RSA_generate_key_ex(rsa, bits, exp, 0)) {
      |                         ^~
/usr/include/openssl/rsa.h:271:27: note: declared here
  271 | OSSL_DEPRECATEDIN_3_0 int RSA_generate_key_ex(RSA *rsa, int bits, BIGNUM *e,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4235:33: warning: 'RSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4235 |                                 RSA_free(rsa);
      |                                 ^~~~~~~~
/usr/include/openssl/rsa.h:304:28: note: declared here
  304 | OSSL_DEPRECATEDIN_3_0 void RSA_free(RSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4239:25: warning: 'EVP_PKEY_set1_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4239 |                         EVP_PKEY_set1_RSA(*ud, rsa);
      |                         ^~~~~~~~~~~~~~~~~
In file included from /usr/include/openssl/x509.h:29:
/usr/include/openssl/evp.h:1403:5: note: declared here
 1403 | int EVP_PKEY_set1_RSA(EVP_PKEY *pkey, struct rsa_st *key);
      |     ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4241:25: warning: 'RSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4241 |                         RSA_free(rsa);
      |                         ^~~~~~~~
/usr/include/openssl/rsa.h:304:28: note: declared here
  304 | OSSL_DEPRECATEDIN_3_0 void RSA_free(RSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4251:25: warning: 'DSA_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4251 |                         if (!(dsa = DSA_new()))
      |                         ^~
In file included from /usr/include/openssl/x509.h:37:
/usr/include/openssl/dsa.h:130:28: note: declared here
  130 | OSSL_DEPRECATEDIN_3_0 DSA *DSA_new(void);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4254:25: warning: 'DSA_generate_parameters_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4254 |                         if (!DSA_generate_parameters_ex(dsa, bits, 0, 0, 0, 0, 0)) {
      |                         ^~
/usr/include/openssl/dsa.h:172:27: note: declared here
  172 | OSSL_DEPRECATEDIN_3_0 int DSA_generate_parameters_ex(DSA *dsa, int bits,
      |                           ^~~~~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4255:33: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4255 |                                 DSA_free(dsa);
      |                                 ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4259:25: warning: 'DSA_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4259 |                         if (!DSA_generate_key(dsa)) {
      |                         ^~
/usr/include/openssl/dsa.h:179:27: note: declared here
  179 | OSSL_DEPRECATEDIN_3_0 int DSA_generate_key(DSA *a);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4260:33: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4260 |                                 DSA_free(dsa);
      |                                 ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4264:25: warning: 'EVP_PKEY_set1_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4264 |                         EVP_PKEY_set1_DSA(*ud, dsa);
      |                         ^~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1412:5: note: declared here
 1412 | int EVP_PKEY_set1_DSA(EVP_PKEY *pkey, struct dsa_st *key);
      |     ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4266:25: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4266 |                         DSA_free(dsa);
      |                         ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4285:33: warning: 'PEM_read_bio_DHparams' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4285 |                                 dh = PEM_read_bio_DHparams(bio, NULL, NULL, NULL);
      |                                 ^~
In file included from /tmp/src/luaossl-rel-20220711/src/openssl.c:78:
/usr/include/openssl/pem.h:478:1: note: declared here
  478 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, DHparams, DH)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4290:33: warning: 'DH_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4290 |                                 if (!(dh = DH_new()))
      |                                 ^~
In file included from /usr/include/openssl/dsa.h:31:
/usr/include/openssl/dh.h:210:27: note: declared here
  210 | OSSL_DEPRECATEDIN_3_0 DH *DH_new(void);
      |                           ^~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4293:33: warning: 'DH_generate_parameters_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4293 |                                 if (!DH_generate_parameters_ex(dh, bits, generator, 0)) {
      |                                 ^~
/usr/include/openssl/dh.h:223:27: note: declared here
  223 | OSSL_DEPRECATEDIN_3_0 int DH_generate_parameters_ex(DH *dh, int prime_len,
      |                           ^~~~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4294:41: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4294 |                                         DH_free(dh);
      |                                         ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4300:25: warning: 'DH_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4300 |                         if (!DH_generate_key(dh)) {
      |                         ^~
/usr/include/openssl/dh.h:234:27: note: declared here
  234 | OSSL_DEPRECATEDIN_3_0 int DH_generate_key(DH *dh);
      |                           ^~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4301:33: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4301 |                                 DH_free(dh);
      |                                 ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4305:25: warning: 'EVP_PKEY_set1_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4305 |                         EVP_PKEY_set1_DH(*ud, dh);
      |                         ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1421:27: note: declared here
 1421 | OSSL_DEPRECATEDIN_3_0 int EVP_PKEY_set1_DH(EVP_PKEY *pkey, struct dh_st *key);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4307:25: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4307 |                         DH_free(dh);
      |                         ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4327:25: warning: 'EC_KEY_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4327 |                         if (!(key = EC_KEY_new())) {
      |                         ^~
In file included from /usr/include/openssl/x509.h:33:
/usr/include/openssl/ec.h:987:31: note: declared here
  987 | OSSL_DEPRECATEDIN_3_0 EC_KEY *EC_KEY_new(void);
      |                               ^~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4332:25: warning: 'EC_KEY_set_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4332 |                         EC_KEY_set_group(key, grp);
      |                         ^~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1061:27: note: declared here
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4336:25: warning: 'EC_KEY_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4336 |                         if (!EC_KEY_generate_key(key)) {
      |                         ^~
/usr/include/openssl/ec.h:1120:27: note: declared here
 1120 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_generate_key(EC_KEY *key);
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4337:33: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4337 |                                 EC_KEY_free(key);
      |                                 ^~~~~~~~~~~
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4341:25: warning: 'EVP_PKEY_set1_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4341 |                         EVP_PKEY_set1_EC_KEY(*ud, key);
      |                         ^~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1429:5: note: declared here
 1429 | int EVP_PKEY_set1_EC_KEY(EVP_PKEY *pkey, struct ec_key_st *key);
      |     ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4343:25: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4343 |                         EC_KEY_free(key);
      |                         ^~~~~~~~~~~
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_pushparam':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5012:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5012 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5012:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5012 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5018:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5018 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5018:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5018 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5024:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5024 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5024:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5024 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5030:17: warning: 'RSA_get0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5030 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:231:28: note: declared here
  231 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_factors(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5030:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5030 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5036:17: warning: 'RSA_get0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5036 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:231:28: note: declared here
  231 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_factors(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5036:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5036 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5042:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5042 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5042:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5042 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5048:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5048 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5048:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5048 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5054:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5054 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5054:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5054 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5059:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5059 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5059:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5059 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5064:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5064 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5064:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5064 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5069:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5069 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5069:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5069 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5074:17: warning: 'DSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5074 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:209:28: note: declared here
  209 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_key(const DSA *d, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5074:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5074 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5079:17: warning: 'DSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5079 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:209:28: note: declared here
  209 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_key(const DSA *d, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5079:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5079 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5084:17: warning: 'DH_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5084 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:264:28: note: declared here
  264 | OSSL_DEPRECATEDIN_3_0 void DH_get0_pqg(const DH *dh, const BIGNUM **p,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5084:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5084 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5089:17: warning: 'DH_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5089 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:264:28: note: declared here
  264 | OSSL_DEPRECATEDIN_3_0 void DH_get0_pqg(const DH *dh, const BIGNUM **p,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5089:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5089 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5094:17: warning: 'DH_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5094 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), &i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:267:28: note: declared here
  267 | OSSL_DEPRECATEDIN_3_0 void DH_get0_key(const DH *dh, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5094:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5094 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), &i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5099:17: warning: 'DH_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5099 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:267:28: note: declared here
  267 | OSSL_DEPRECATEDIN_3_0 void DH_get0_key(const DH *dh, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5099:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5099 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5105:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5105 |                 ecg_dup_nil(L, EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5105:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5105 |                 ecg_dup_nil(L, EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EC_KEY_get0_public_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/ec.h:1081:39: note: declared here
 1081 | OSSL_DEPRECATEDIN_3_0 const EC_POINT *EC_KEY_get0_public_key(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EC_POINT_point2bn' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/ec.h:789:31: note: declared here
  789 | OSSL_DEPRECATEDIN_3_0 BIGNUM *EC_POINT_point2bn(const EC_GROUP *,
      |                               ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EC_KEY_get_conv_form' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/ec.h:1093:47: note: declared here
 1093 | OSSL_DEPRECATEDIN_3_0 point_conversion_form_t EC_KEY_get_conv_form(const EC_KEY *key);
      |                                               ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5121:17: warning: 'EC_KEY_get0_private_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5121 |                 bn_dup_nil(L, EC_KEY_get0_private_key(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~
/usr/include/openssl/ec.h:1067:37: note: declared here
 1067 | OSSL_DEPRECATEDIN_3_0 const BIGNUM *EC_KEY_get0_private_key(const EC_KEY *key);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5121:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5121 |                 bn_dup_nil(L, EC_KEY_get0_private_key(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_setparam':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:17: warning: 'RSA_set0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:27: note: declared here
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:34: warning: passing argument 1 of 'RSA_set0_factors' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:49: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                                            ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:17: warning: 'RSA_set0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:27: note: declared here
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:34: warning: passing argument 1 of 'RSA_set0_factors' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:49: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                                            ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:17: warning: 'DSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:27: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:30: warning: passing argument 1 of 'DSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:17: warning: 'DSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:27: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:30: warning: passing argument 1 of 'DSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:17: warning: 'DH_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:266:27: note: declared here
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:29: warning: passing argument 1 of 'DH_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:266:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:17: warning: 'DH_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:266:27: note: declared here
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:29: warning: passing argument 1 of 'DH_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:266:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:17: warning: 'DH_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:269:27: note: declared here
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:29: warning: passing argument 1 of 'DH_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:269:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:17: warning: 'DH_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:269:27: note: declared here
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:29: warning: passing argument 1 of 'DH_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:269:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:17: warning: 'EC_KEY_set_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                 ^~
/usr/include/openssl/ec.h:1061:27: note: declared here
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:39: warning: passing argument 1 of 'EC_KEY_set_group' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1061:52: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                                            ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5257:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5257 |                 if (!(group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))))
      |                 ^~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5257:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5257 |                 if (!(group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5260:17: warning: 'EC_POINT_bn2point' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5260 |                 if (!(pub_key = EC_POINT_bn2point(group, n, NULL, getctx(L))))
      |                 ^~
/usr/include/openssl/ec.h:793:33: note: declared here
  793 | OSSL_DEPRECATEDIN_3_0 EC_POINT *EC_POINT_bn2point(const EC_GROUP *,
      |                                 ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:17: warning: 'EC_KEY_set_public_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                 ^~~~
/usr/include/openssl/ec.h:1089:27: note: declared here
 1089 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_public_key(EC_KEY *key, const EC_POINT *pub);
      |                           ^~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                 ^~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:46: warning: passing argument 1 of 'EC_KEY_set_public_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1089:57: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1089 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_public_key(EC_KEY *key, const EC_POINT *pub);
      |                                                 ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:17: warning: 'EC_KEY_set_private_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                 ^~
/usr/include/openssl/ec.h:1075:27: note: declared here
 1075 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_private_key(EC_KEY *key, const BIGNUM *prv);
      |                           ^~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:45: warning: passing argument 1 of 'EC_KEY_set_private_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1075:58: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1075 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_private_key(EC_KEY *key, const BIGNUM *prv);
      |                                                  ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5601:33: warning: 'PEM_read_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5601 |                                 goterr |= !(*group = PEM_read_bio_ECPKParameters(bio, NULL, 0, ""));
      |                                 ^~~~~~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_toPEM':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5647:9: warning: 'PEM_write_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5647 |         if (!PEM_write_bio_ECPKParameters(bio, group))
      |         ^~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_tostring':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5666:17: warning: 'PEM_write_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5666 |                 if (!PEM_write_bio_ECPKParameters(bio, group))
      |                 ^~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5675:17: warning: 'ECPKParameters_print' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5675 |                 if (!ECPKParameters_print(bio, group, indent))
      |                 ^~
/usr/include/openssl/ec.h:945:27: note: declared here
  945 | OSSL_DEPRECATEDIN_3_0 int ECPKParameters_print(BIO *bp, const EC_GROUP *x,
      |                           ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg__gc':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5696:17: warning: 'EC_GROUP_clear_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5696 |                 EC_GROUP_clear_free(*ud);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:179:28: note: declared here
  179 | OSSL_DEPRECATEDIN_3_0 void EC_GROUP_clear_free(EC_GROUP *group);
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'sx_setEphemeralKey':
/tmp/src/luaossl-rel-20220711/src/openssl.c:9681:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9681 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:9689:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9689 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:9697:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9697 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11846:9: warning: 'HMAC_CTX_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11846 |         if (!(*ctx = HMAC_CTX_new()))
      |         ^~
In file included from /usr/include/openssl/ssl.h:38,
                 from /tmp/src/luaossl-rel-20220711/src/openssl.c:79:
/usr/include/openssl/hmac.h:33:33: note: declared here
   33 | OSSL_DEPRECATEDIN_3_0 HMAC_CTX *HMAC_CTX_new(void);
      |                                 ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:11850:9: warning: 'HMAC_Init_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11850 |         if (!HMAC_Init_ex(*ctx, key, len, type, NULL))
      |         ^~
/usr/include/openssl/hmac.h:43:27: note: declared here
   43 | OSSL_DEPRECATEDIN_3_0 int HMAC_Init_ex(HMAC_CTX *ctx, const void *key, int len,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_update_':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11876:17: warning: 'HMAC_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11876 |                 HMAC_Update(ctx, p, n);
      |                 ^~~~~~~~~~~
/usr/include/openssl/hmac.h:45:27: note: declared here
   45 | OSSL_DEPRECATEDIN_3_0 int HMAC_Update(HMAC_CTX *ctx, const unsigned char *data,
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_final':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11899:9: warning: 'HMAC_Final' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11899 |         HMAC_Final(ctx, hmac, &len);
      |         ^~~~~~~~~~
/usr/include/openssl/hmac.h:47:27: note: declared here
   47 | OSSL_DEPRECATEDIN_3_0 int HMAC_Final(HMAC_CTX *ctx, unsigned char *md,
      |                           ^~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac__gc':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11910:9: warning: 'HMAC_CTX_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11910 |         HMAC_CTX_free(*ctx);
      |         ^~~~~~~~~~~~~
/usr/include/openssl/hmac.h:35:28: note: declared here
   35 | OSSL_DEPRECATEDIN_3_0 void HMAC_CTX_free(HMAC_CTX *ctx);
      |                            ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'de5_string_to_key':
/tmp/src/luaossl-rel-20220711/src/openssl.c:13053:9: warning: 'DES_string_to_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
13053 |         DES_string_to_key(luaL_checkstring(L, 1), &key);
      |         ^~~~~~~~~~~~~~~~~
In file included from /tmp/src/luaossl-rel-20220711/src/openssl.c:82:
/usr/include/openssl/des.h:193:28: note: declared here
  193 | OSSL_DEPRECATEDIN_3_0 void DES_string_to_key(const char *str, DES_cblock *key);
      |                            ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'de5_set_odd_parity':
/tmp/src/luaossl-rel-20220711/src/openssl.c:13068:9: warning: 'DES_set_odd_parity' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
13068 |         DES_set_odd_parity(&key);
      |         ^~~~~~~~~~~~~~~~~~
/usr/include/openssl/des.h:176:28: note: declared here
  176 | OSSL_DEPRECATEDIN_3_0 void DES_set_odd_parity(DES_cblock *key);
      |                            ^~~~~~~~~~~~~~~~~~
cc -o /tmp/src/luaossl-rel-20220711/src/5.3/openssl.so /tmp/src/luaossl-rel-20220711/src/5.3/openssl.o -shared  -L/usr/lib -L/usr/lib -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs  -lssl -lcrypto -lpthread -ldl -lrt -lm
mkdir -p /tmp/src/luaossl-rel-20220711/src/5.4
cc -O2 -std=gnu99 -fPIC -g -Wall -Wextra  -Wno-missing-field-initializers  -Wno-override-init -Wno-unused -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt -g -I/usr/include/lua5.4 -D_REENTRANT -D_THREAD_SAFE -D_GNU_SOURCE  -DHAVE_CONFIG_H -DCOMPAT53_PREFIX=luaossl -c -o /tmp/src/luaossl-rel-20220711/src/5.4/openssl.o /tmp/src/luaossl-rel-20220711/src/openssl.c
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pem_pw_cb':
/tmp/src/luaossl-rel-20220711/src/openssl.c:4123:35: warning: suggest parentheses around '&&' within '||' [-Wparentheses]
 4123 |         if (lua_isfunction(L, -1) && lua_pcall(L, 0, 1, 0) || !lua_isstring(L, -1)) {
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:4231:25: warning: 'RSA_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4231 |                         if (!(rsa = RSA_new()))
      |                         ^~
In file included from /usr/include/openssl/x509.h:36,
                 from /tmp/src/luaossl-rel-20220711/src/openssl.c:73:
/usr/include/openssl/rsa.h:212:28: note: declared here
  212 | OSSL_DEPRECATEDIN_3_0 RSA *RSA_new(void);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4234:25: warning: 'RSA_generate_key_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4234 |                         if (!RSA_generate_key_ex(rsa, bits, exp, 0)) {
      |                         ^~
/usr/include/openssl/rsa.h:271:27: note: declared here
  271 | OSSL_DEPRECATEDIN_3_0 int RSA_generate_key_ex(RSA *rsa, int bits, BIGNUM *e,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4235:33: warning: 'RSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4235 |                                 RSA_free(rsa);
      |                                 ^~~~~~~~
/usr/include/openssl/rsa.h:304:28: note: declared here
  304 | OSSL_DEPRECATEDIN_3_0 void RSA_free(RSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4239:25: warning: 'EVP_PKEY_set1_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4239 |                         EVP_PKEY_set1_RSA(*ud, rsa);
      |                         ^~~~~~~~~~~~~~~~~
In file included from /usr/include/openssl/x509.h:29:
/usr/include/openssl/evp.h:1403:5: note: declared here
 1403 | int EVP_PKEY_set1_RSA(EVP_PKEY *pkey, struct rsa_st *key);
      |     ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4241:25: warning: 'RSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4241 |                         RSA_free(rsa);
      |                         ^~~~~~~~
/usr/include/openssl/rsa.h:304:28: note: declared here
  304 | OSSL_DEPRECATEDIN_3_0 void RSA_free(RSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4251:25: warning: 'DSA_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4251 |                         if (!(dsa = DSA_new()))
      |                         ^~
In file included from /usr/include/openssl/x509.h:37:
/usr/include/openssl/dsa.h:130:28: note: declared here
  130 | OSSL_DEPRECATEDIN_3_0 DSA *DSA_new(void);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4254:25: warning: 'DSA_generate_parameters_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4254 |                         if (!DSA_generate_parameters_ex(dsa, bits, 0, 0, 0, 0, 0)) {
      |                         ^~
/usr/include/openssl/dsa.h:172:27: note: declared here
  172 | OSSL_DEPRECATEDIN_3_0 int DSA_generate_parameters_ex(DSA *dsa, int bits,
      |                           ^~~~~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4255:33: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4255 |                                 DSA_free(dsa);
      |                                 ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4259:25: warning: 'DSA_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4259 |                         if (!DSA_generate_key(dsa)) {
      |                         ^~
/usr/include/openssl/dsa.h:179:27: note: declared here
  179 | OSSL_DEPRECATEDIN_3_0 int DSA_generate_key(DSA *a);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4260:33: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4260 |                                 DSA_free(dsa);
      |                                 ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4264:25: warning: 'EVP_PKEY_set1_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4264 |                         EVP_PKEY_set1_DSA(*ud, dsa);
      |                         ^~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1412:5: note: declared here
 1412 | int EVP_PKEY_set1_DSA(EVP_PKEY *pkey, struct dsa_st *key);
      |     ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4266:25: warning: 'DSA_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4266 |                         DSA_free(dsa);
      |                         ^~~~~~~~
/usr/include/openssl/dsa.h:132:28: note: declared here
  132 | OSSL_DEPRECATEDIN_3_0 void DSA_free(DSA *r);
      |                            ^~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4285:33: warning: 'PEM_read_bio_DHparams' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4285 |                                 dh = PEM_read_bio_DHparams(bio, NULL, NULL, NULL);
      |                                 ^~
In file included from /tmp/src/luaossl-rel-20220711/src/openssl.c:78:
/usr/include/openssl/pem.h:478:1: note: declared here
  478 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, DHparams, DH)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4290:33: warning: 'DH_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4290 |                                 if (!(dh = DH_new()))
      |                                 ^~
In file included from /usr/include/openssl/dsa.h:31:
/usr/include/openssl/dh.h:210:27: note: declared here
  210 | OSSL_DEPRECATEDIN_3_0 DH *DH_new(void);
      |                           ^~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4293:33: warning: 'DH_generate_parameters_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4293 |                                 if (!DH_generate_parameters_ex(dh, bits, generator, 0)) {
      |                                 ^~
/usr/include/openssl/dh.h:223:27: note: declared here
  223 | OSSL_DEPRECATEDIN_3_0 int DH_generate_parameters_ex(DH *dh, int prime_len,
      |                           ^~~~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4294:41: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4294 |                                         DH_free(dh);
      |                                         ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4300:25: warning: 'DH_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4300 |                         if (!DH_generate_key(dh)) {
      |                         ^~
/usr/include/openssl/dh.h:234:27: note: declared here
  234 | OSSL_DEPRECATEDIN_3_0 int DH_generate_key(DH *dh);
      |                           ^~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4301:33: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4301 |                                 DH_free(dh);
      |                                 ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4305:25: warning: 'EVP_PKEY_set1_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4305 |                         EVP_PKEY_set1_DH(*ud, dh);
      |                         ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1421:27: note: declared here
 1421 | OSSL_DEPRECATEDIN_3_0 int EVP_PKEY_set1_DH(EVP_PKEY *pkey, struct dh_st *key);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4307:25: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4307 |                         DH_free(dh);
      |                         ^~~~~~~
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4327:25: warning: 'EC_KEY_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4327 |                         if (!(key = EC_KEY_new())) {
      |                         ^~
In file included from /usr/include/openssl/x509.h:33:
/usr/include/openssl/ec.h:987:31: note: declared here
  987 | OSSL_DEPRECATEDIN_3_0 EC_KEY *EC_KEY_new(void);
      |                               ^~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4332:25: warning: 'EC_KEY_set_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4332 |                         EC_KEY_set_group(key, grp);
      |                         ^~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1061:27: note: declared here
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4336:25: warning: 'EC_KEY_generate_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4336 |                         if (!EC_KEY_generate_key(key)) {
      |                         ^~
/usr/include/openssl/ec.h:1120:27: note: declared here
 1120 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_generate_key(EC_KEY *key);
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4337:33: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4337 |                                 EC_KEY_free(key);
      |                                 ^~~~~~~~~~~
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4341:25: warning: 'EVP_PKEY_set1_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4341 |                         EVP_PKEY_set1_EC_KEY(*ud, key);
      |                         ^~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1429:5: note: declared here
 1429 | int EVP_PKEY_set1_EC_KEY(EVP_PKEY *pkey, struct ec_key_st *key);
      |     ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:4343:25: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 4343 |                         EC_KEY_free(key);
      |                         ^~~~~~~~~~~
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_pushparam':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5012:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5012 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5012:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5012 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5018:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5018 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5018:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5018 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5024:17: warning: 'RSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5024 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:228:28: note: declared here
  228 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_key(const RSA *r,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5024:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5024 |                 RSA_get0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5030:17: warning: 'RSA_get0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5030 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:231:28: note: declared here
  231 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_factors(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5030:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5030 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5036:17: warning: 'RSA_get0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5036 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:231:28: note: declared here
  231 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_factors(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5036:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5036 |                 RSA_get0_factors(EVP_PKEY_get0_RSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5042:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5042 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5042:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5042 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5048:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5048 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5048:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5048 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5054:17: warning: 'RSA_get0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5054 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:236:28: note: declared here
  236 | OSSL_DEPRECATEDIN_3_0 void RSA_get0_crt_params(const RSA *r,
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5054:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5054 |                 RSA_get0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5059:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5059 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5059:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5059 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5064:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5064 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5064:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5064 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5069:17: warning: 'DSA_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5069 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:206:28: note: declared here
  206 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_pqg(const DSA *d, const BIGNUM **p,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5069:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5069 |                 DSA_get0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5074:17: warning: 'DSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5074 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:209:28: note: declared here
  209 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_key(const DSA *d, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5074:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5074 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), &i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5079:17: warning: 'DSA_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5079 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:209:28: note: declared here
  209 | OSSL_DEPRECATEDIN_3_0 void DSA_get0_key(const DSA *d, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5079:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5079 |                 DSA_get0_key(EVP_PKEY_get0_DSA(pkey), NULL, &i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5084:17: warning: 'DH_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5084 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:264:28: note: declared here
  264 | OSSL_DEPRECATEDIN_3_0 void DH_get0_pqg(const DH *dh, const BIGNUM **p,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5084:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5084 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), &i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5089:17: warning: 'DH_get0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5089 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:264:28: note: declared here
  264 | OSSL_DEPRECATEDIN_3_0 void DH_get0_pqg(const DH *dh, const BIGNUM **p,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5089:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5089 |                 DH_get0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5094:17: warning: 'DH_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5094 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), &i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:267:28: note: declared here
  267 | OSSL_DEPRECATEDIN_3_0 void DH_get0_key(const DH *dh, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5094:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5094 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), &i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5099:17: warning: 'DH_get0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5099 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:267:28: note: declared here
  267 | OSSL_DEPRECATEDIN_3_0 void DH_get0_key(const DH *dh, const BIGNUM **pub_key,
      |                            ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5099:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5099 |                 DH_get0_key(EVP_PKEY_get0_DH(pkey), NULL, &i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5105:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5105 |                 ecg_dup_nil(L, EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5105:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5105 |                 ecg_dup_nil(L, EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EC_KEY_get0_public_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/ec.h:1081:39: note: declared here
 1081 | OSSL_DEPRECATEDIN_3_0 const EC_POINT *EC_KEY_get0_public_key(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5112:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5112 |                 if ((group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))) && (pub_key = EC_KEY_get0_public_key(EVP_PKEY_get0_EC_KEY(pkey)))) {
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EC_POINT_point2bn' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/ec.h:789:31: note: declared here
  789 | OSSL_DEPRECATEDIN_3_0 BIGNUM *EC_POINT_point2bn(const EC_GROUP *,
      |                               ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EC_KEY_get_conv_form' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/ec.h:1093:47: note: declared here
 1093 | OSSL_DEPRECATEDIN_3_0 point_conversion_form_t EC_KEY_get_conv_form(const EC_KEY *key);
      |                                               ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5113:25: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5113 |                         bn_dup_nil(L, EC_POINT_point2bn(group, pub_key, EC_KEY_get_conv_form(EVP_PKEY_get0_EC_KEY(pkey)), NULL, getctx(L)));
      |                         ^~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5121:17: warning: 'EC_KEY_get0_private_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5121 |                 bn_dup_nil(L, EC_KEY_get0_private_key(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~
/usr/include/openssl/ec.h:1067:37: note: declared here
 1067 | OSSL_DEPRECATEDIN_3_0 const BIGNUM *EC_KEY_get0_private_key(const EC_KEY *key);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5121:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5121 |                 bn_dup_nil(L, EC_KEY_get0_private_key(EVP_PKEY_get0_EC_KEY(pkey)));
      |                 ^~~~~~~~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'pk_setparam':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5159:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5159 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5164:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5164 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:17: warning: 'RSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:27: note: declared here
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5169:30: warning: passing argument 1 of 'RSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5169 |                 RSA_set0_key(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:218:45: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  218 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_key(RSA *r, BIGNUM *n, BIGNUM *e, BIGNUM *d);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:17: warning: 'RSA_set0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:27: note: declared here
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5174:34: warning: passing argument 1 of 'RSA_set0_factors' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5174 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), i, NULL);
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:49: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                                            ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:17: warning: 'RSA_set0_factors' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:27: note: declared here
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5179:34: warning: passing argument 1 of 'RSA_set0_factors' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5179 |                 RSA_set0_factors(EVP_PKEY_get0_RSA(pkey), NULL, i);
      |                                  ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:219:49: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  219 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_factors(RSA *r, BIGNUM *p, BIGNUM *q);
      |                                            ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5184:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5184 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), i, NULL, NULL);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5189:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5189 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, i, NULL);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:17: warning: 'RSA_set0_crt_params' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:27: note: declared here
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                           ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:17: warning: 'EVP_PKEY_get0_RSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/evp.h:1405:22: note: declared here
 1405 | const struct rsa_st *EVP_PKEY_get0_RSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5194:37: warning: passing argument 1 of 'RSA_set0_crt_params' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5194 |                 RSA_set0_crt_params(EVP_PKEY_get0_RSA(pkey), NULL, NULL, i);
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/rsa.h:220:52: note: expected 'RSA *' {aka 'struct rsa_st *'} but argument is of type 'const struct rsa_st *'
  220 | OSSL_DEPRECATEDIN_3_0 int RSA_set0_crt_params(RSA *r,
      |                                               ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5199:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5199 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), i, NULL, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5204:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5204 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:17: warning: 'DSA_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:27: note: declared here
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5209:30: warning: passing argument 1 of 'DSA_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5209 |                 DSA_set0_pqg(EVP_PKEY_get0_DSA(pkey), NULL, NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:208:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  208 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_pqg(DSA *d, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:17: warning: 'DSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:27: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5214:30: warning: passing argument 1 of 'DSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5214 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), i, NULL);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:17: warning: 'DSA_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:27: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:17: warning: 'EVP_PKEY_get0_DSA' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                 ^~~~~~~~~~~~
/usr/include/openssl/evp.h:1414:22: note: declared here
 1414 | const struct dsa_st *EVP_PKEY_get0_DSA(const EVP_PKEY *pkey);
      |                      ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5219:30: warning: passing argument 1 of 'DSA_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5219 |                 DSA_set0_key(EVP_PKEY_get0_DSA(pkey), NULL, i);
      |                              ^~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dsa.h:211:45: note: expected 'DSA *' {aka 'struct dsa_st *'} but argument is of type 'const struct dsa_st *'
  211 | OSSL_DEPRECATEDIN_3_0 int DSA_set0_key(DSA *d, BIGNUM *pub_key,
      |                                        ~~~~~^
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:17: warning: 'DH_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:266:27: note: declared here
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5224:29: warning: passing argument 1 of 'DH_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5224 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), i, NULL, NULL);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:266:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:17: warning: 'DH_set0_pqg' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:266:27: note: declared here
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5229:29: warning: passing argument 1 of 'DH_set0_pqg' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5229 |                 DH_set0_pqg(EVP_PKEY_get0_DH(pkey), NULL, NULL, i);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:266:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  266 | OSSL_DEPRECATEDIN_3_0 int DH_set0_pqg(DH *dh, BIGNUM *p, BIGNUM *q, BIGNUM *g);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:17: warning: 'DH_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:269:27: note: declared here
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5234:29: warning: passing argument 1 of 'DH_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5234 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), i, NULL);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:269:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:17: warning: 'DH_set0_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/dh.h:269:27: note: declared here
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:17: warning: 'EVP_PKEY_get0_DH' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                 ^~~~~~~~~~~
/usr/include/openssl/evp.h:1422:43: note: declared here
 1422 | OSSL_DEPRECATEDIN_3_0 const struct dh_st *EVP_PKEY_get0_DH(const EVP_PKEY *pkey);
      |                                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5239:29: warning: passing argument 1 of 'DH_set0_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5239 |                 DH_set0_key(EVP_PKEY_get0_DH(pkey), NULL, i);
      |                             ^~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/dh.h:269:43: note: expected 'DH *' {aka 'struct dh_st *'} but argument is of type 'const struct dh_st *'
  269 | OSSL_DEPRECATEDIN_3_0 int DH_set0_key(DH *dh, BIGNUM *pub_key, BIGNUM *priv_key);
      |                                       ~~~~^~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:17: warning: 'EC_KEY_set_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                 ^~
/usr/include/openssl/ec.h:1061:27: note: declared here
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                           ^~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5246:39: warning: passing argument 1 of 'EC_KEY_set_group' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5246 |                 if (!EC_KEY_set_group(EVP_PKEY_get0_EC_KEY(pkey), group))
      |                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1061:52: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1061 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_group(EC_KEY *key, const EC_GROUP *group);
      |                                            ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5257:17: warning: 'EC_KEY_get0_group' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5257 |                 if (!(group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))))
      |                 ^~
/usr/include/openssl/ec.h:1053:39: note: declared here
 1053 | OSSL_DEPRECATEDIN_3_0 const EC_GROUP *EC_KEY_get0_group(const EC_KEY *key);
      |                                       ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5257:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5257 |                 if (!(group = EC_KEY_get0_group(EVP_PKEY_get0_EC_KEY(pkey))))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5260:17: warning: 'EC_POINT_bn2point' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5260 |                 if (!(pub_key = EC_POINT_bn2point(group, n, NULL, getctx(L))))
      |                 ^~
/usr/include/openssl/ec.h:793:33: note: declared here
  793 | OSSL_DEPRECATEDIN_3_0 EC_POINT *EC_POINT_bn2point(const EC_GROUP *,
      |                                 ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:17: warning: 'EC_KEY_set_public_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                 ^~~~
/usr/include/openssl/ec.h:1089:27: note: declared here
 1089 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_public_key(EC_KEY *key, const EC_POINT *pub);
      |                           ^~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                 ^~~~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5264:46: warning: passing argument 1 of 'EC_KEY_set_public_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5264 |                 okay = EC_KEY_set_public_key(EVP_PKEY_get0_EC_KEY(pkey), pub_key);
      |                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1089:57: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1089 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_public_key(EC_KEY *key, const EC_POINT *pub);
      |                                                 ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:17: warning: 'EC_KEY_set_private_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                 ^~
/usr/include/openssl/ec.h:1075:27: note: declared here
 1075 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_private_key(EC_KEY *key, const BIGNUM *prv);
      |                           ^~~~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:17: warning: 'EVP_PKEY_get0_EC_KEY' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                 ^~
/usr/include/openssl/evp.h:1431:25: note: declared here
 1431 | const struct ec_key_st *EVP_PKEY_get0_EC_KEY(const EVP_PKEY *pkey);
      |                         ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5275:45: warning: passing argument 1 of 'EC_KEY_set_private_key' discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]
 5275 |                 if (!EC_KEY_set_private_key(EVP_PKEY_get0_EC_KEY(pkey), n))
      |                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:1075:58: note: expected 'EC_KEY *' {aka 'struct ec_key_st *'} but argument is of type 'const struct ec_key_st *'
 1075 | OSSL_DEPRECATEDIN_3_0 int EC_KEY_set_private_key(EC_KEY *key, const BIGNUM *prv);
      |                                                  ~~~~~~~~^~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5601:33: warning: 'PEM_read_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5601 |                                 goterr |= !(*group = PEM_read_bio_ECPKParameters(bio, NULL, 0, ""));
      |                                 ^~~~~~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_toPEM':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5647:9: warning: 'PEM_write_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5647 |         if (!PEM_write_bio_ECPKParameters(bio, group))
      |         ^~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg_tostring':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5666:17: warning: 'PEM_write_bio_ECPKParameters' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5666 |                 if (!PEM_write_bio_ECPKParameters(bio, group))
      |                 ^~
/usr/include/openssl/pem.h:470:1: note: declared here
  470 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, ECPKParameters, EC_GROUP)
      | ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:5675:17: warning: 'ECPKParameters_print' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5675 |                 if (!ECPKParameters_print(bio, group, indent))
      |                 ^~
/usr/include/openssl/ec.h:945:27: note: declared here
  945 | OSSL_DEPRECATEDIN_3_0 int ECPKParameters_print(BIO *bp, const EC_GROUP *x,
      |                           ^~~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'ecg__gc':
/tmp/src/luaossl-rel-20220711/src/openssl.c:5696:17: warning: 'EC_GROUP_clear_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 5696 |                 EC_GROUP_clear_free(*ud);
      |                 ^~~~~~~~~~~~~~~~~~~
/usr/include/openssl/ec.h:179:28: note: declared here
  179 | OSSL_DEPRECATEDIN_3_0 void EC_GROUP_clear_free(EC_GROUP *group);
      |                            ^~~~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'sx_setEphemeralKey':
/tmp/src/luaossl-rel-20220711/src/openssl.c:9681:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9681 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:9689:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9689 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:9697:17: warning: 'EVP_PKEY_get0' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
 9697 |                 if (!(tmp = EVP_PKEY_get0(key)))
      |                 ^~
/usr/include/openssl/evp.h:1389:7: note: declared here
 1389 | void *EVP_PKEY_get0(const EVP_PKEY *pkey);
      |       ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_new':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11846:9: warning: 'HMAC_CTX_new' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11846 |         if (!(*ctx = HMAC_CTX_new()))
      |         ^~
In file included from /usr/include/openssl/ssl.h:38,
                 from /tmp/src/luaossl-rel-20220711/src/openssl.c:79:
/usr/include/openssl/hmac.h:33:33: note: declared here
   33 | OSSL_DEPRECATEDIN_3_0 HMAC_CTX *HMAC_CTX_new(void);
      |                                 ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c:11850:9: warning: 'HMAC_Init_ex' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11850 |         if (!HMAC_Init_ex(*ctx, key, len, type, NULL))
      |         ^~
/usr/include/openssl/hmac.h:43:27: note: declared here
   43 | OSSL_DEPRECATEDIN_3_0 int HMAC_Init_ex(HMAC_CTX *ctx, const void *key, int len,
      |                           ^~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_update_':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11876:17: warning: 'HMAC_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11876 |                 HMAC_Update(ctx, p, n);
      |                 ^~~~~~~~~~~
/usr/include/openssl/hmac.h:45:27: note: declared here
   45 | OSSL_DEPRECATEDIN_3_0 int HMAC_Update(HMAC_CTX *ctx, const unsigned char *data,
      |                           ^~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac_final':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11899:9: warning: 'HMAC_Final' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11899 |         HMAC_Final(ctx, hmac, &len);
      |         ^~~~~~~~~~
/usr/include/openssl/hmac.h:47:27: note: declared here
   47 | OSSL_DEPRECATEDIN_3_0 int HMAC_Final(HMAC_CTX *ctx, unsigned char *md,
      |                           ^~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'hmac__gc':
/tmp/src/luaossl-rel-20220711/src/openssl.c:11910:9: warning: 'HMAC_CTX_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
11910 |         HMAC_CTX_free(*ctx);
      |         ^~~~~~~~~~~~~
/usr/include/openssl/hmac.h:35:28: note: declared here
   35 | OSSL_DEPRECATEDIN_3_0 void HMAC_CTX_free(HMAC_CTX *ctx);
      |                            ^~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'de5_string_to_key':
/tmp/src/luaossl-rel-20220711/src/openssl.c:13053:9: warning: 'DES_string_to_key' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
13053 |         DES_string_to_key(luaL_checkstring(L, 1), &key);
      |         ^~~~~~~~~~~~~~~~~
In file included from /tmp/src/luaossl-rel-20220711/src/openssl.c:82:
/usr/include/openssl/des.h:193:28: note: declared here
  193 | OSSL_DEPRECATEDIN_3_0 void DES_string_to_key(const char *str, DES_cblock *key);
      |                            ^~~~~~~~~~~~~~~~~
/tmp/src/luaossl-rel-20220711/src/openssl.c: In function 'de5_set_odd_parity':
/tmp/src/luaossl-rel-20220711/src/openssl.c:13068:9: warning: 'DES_set_odd_parity' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
13068 |         DES_set_odd_parity(&key);
      |         ^~~~~~~~~~~~~~~~~~
/usr/include/openssl/des.h:176:28: note: declared here
  176 | OSSL_DEPRECATEDIN_3_0 void DES_set_odd_parity(DES_cblock *key);
      |                            ^~~~~~~~~~~~~~~~~~
cc -o /tmp/src/luaossl-rel-20220711/src/5.4/openssl.so /tmp/src/luaossl-rel-20220711/src/5.4/openssl.o -shared  -L/usr/lib -L/usr/lib -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs  -lssl -lcrypto -lpthread -ldl -lrt -lm
>>> lua-ossl: Entering fakeroot...
>>> lua5.1-ossl*: Running split function _package...
mkdir -p /tmp/pkg/lua5.1-ossl/usr/lib/lua/5.1
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.lua
cp -p /tmp/src/luaossl-rel-20220711/src/5.1/openssl.so /tmp/pkg/lua5.1-ossl/usr/lib/lua/5.1/_openssl.so
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.auxlib.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.bignum.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.auxlib.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/auxlib.lua
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.kdf.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.bignum.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/bignum.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.basic.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/ocsp
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.kdf.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/kdf.lua
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.response.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.basic.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/ocsp/basic.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/ocsp
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.pkey.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.response.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/ocsp/response.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.pubkey.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pkey.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/pkey.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pubkey.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/pubkey.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.name.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509.lua
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.altname.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.chain.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.name.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509/name.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.altname.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509/altname.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.crl.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.chain.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509/chain.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.csr.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.crl.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509/crl.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.extension.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.store.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.csr.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509/csr.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.extension.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509/extension.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.verify_param.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.store.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509/store.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.pkcs12.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.context.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.verify_param.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/x509/verify_param.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/ssl
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pkcs12.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/pkcs12.lua
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.context.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/ssl/context.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.digest.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/ssl.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.hmac.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.digest.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/digest.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.cipher.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.rand.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.hmac.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/hmac.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
/usr/bin/luac -p /tmp/src/luaossl-rel-20220711/src/openssl.des.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.cipher.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/cipher.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.rand.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/rand.lua
mkdir -p /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.des.lua /tmp/pkg/lua5.1-ossl/usr/share/lua/5.1/openssl/des.lua
>>> lua5.1-ossl*: Preparing subpackage lua5.1-ossl...
>>> lua5.1-ossl*: Stripping binaries
>>> lua5.1-ossl*: Running postcheck for lua5.1-ossl
>>> lua5.2-ossl*: Running split function _package...
mkdir -p /tmp/pkg/lua5.2-ossl/usr/lib/lua/5.2
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2
cp -p /tmp/src/luaossl-rel-20220711/src/5.2/openssl.so /tmp/pkg/lua5.2-ossl/usr/lib/lua/5.2/_openssl.so
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.auxlib.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.bignum.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.auxlib.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/auxlib.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.kdf.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.bignum.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/bignum.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.basic.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/ocsp
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.kdf.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/kdf.lua
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.response.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.basic.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/ocsp/basic.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/ocsp
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.pkey.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.response.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/ocsp/response.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.pubkey.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pkey.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/pkey.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pubkey.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/pubkey.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.name.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.altname.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.name.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509/name.lua
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.chain.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.altname.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509/altname.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.crl.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.chain.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509/chain.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.csr.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.crl.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509/crl.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.extension.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.csr.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509/csr.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.store.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.verify_param.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.extension.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509/extension.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.store.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509/store.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.pkcs12.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.context.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.verify_param.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/x509/verify_param.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pkcs12.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/pkcs12.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/ssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.context.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/ssl/context.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.digest.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/ssl.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.hmac.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.digest.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/digest.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.cipher.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.hmac.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/hmac.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.rand.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.cipher.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/cipher.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
/usr/bin/luac5.2 -p /tmp/src/luaossl-rel-20220711/src/openssl.des.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.rand.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/rand.lua
mkdir -p /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.des.lua /tmp/pkg/lua5.2-ossl/usr/share/lua/5.2/openssl/des.lua
>>> lua5.2-ossl*: Preparing subpackage lua5.2-ossl...
>>> lua5.2-ossl*: Stripping binaries
>>> lua5.2-ossl*: Running postcheck for lua5.2-ossl
>>> lua5.3-ossl*: Running split function _package...
mkdir -p /tmp/pkg/lua5.3-ossl/usr/lib/lua/5.3
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.lua
cp -p /tmp/src/luaossl-rel-20220711/src/5.3/openssl.so /tmp/pkg/lua5.3-ossl/usr/lib/lua/5.3/_openssl.so
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.auxlib.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.bignum.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.auxlib.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/auxlib.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.kdf.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.basic.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.bignum.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/bignum.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/ocsp
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.kdf.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/kdf.lua
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.response.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.basic.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/ocsp/basic.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/ocsp
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.pkey.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.response.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/ocsp/response.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.pubkey.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pkey.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/pkey.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pubkey.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/pubkey.lua
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.name.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509.lua
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.altname.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.chain.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.name.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509/name.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.altname.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509/altname.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.crl.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.csr.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.chain.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509/chain.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.crl.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509/crl.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.extension.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.csr.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509/csr.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.store.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.verify_param.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.extension.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509/extension.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.pkcs12.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.store.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509/store.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.verify_param.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/x509/verify_param.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.context.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pkcs12.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/pkcs12.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/ssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.context.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/ssl/context.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.digest.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/ssl.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.hmac.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.digest.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/digest.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.cipher.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.rand.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.hmac.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/hmac.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.cipher.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/cipher.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
/usr/bin/luac5.3 -p /tmp/src/luaossl-rel-20220711/src/openssl.des.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.rand.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/rand.lua
mkdir -p /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.des.lua /tmp/pkg/lua5.3-ossl/usr/share/lua/5.3/openssl/des.lua
>>> lua5.3-ossl*: Preparing subpackage lua5.3-ossl...
>>> lua5.3-ossl*: Stripping binaries
>>> lua5.3-ossl*: Running postcheck for lua5.3-ossl
>>> lua5.4-ossl*: Running split function _package...
mkdir -p /tmp/pkg/lua5.4-ossl/usr/lib/lua/5.4
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.lua
cp -p /tmp/src/luaossl-rel-20220711/src/5.4/openssl.so /tmp/pkg/lua5.4-ossl/usr/lib/lua/5.4/_openssl.so
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.auxlib.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.bignum.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.auxlib.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/auxlib.lua
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.kdf.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.bignum.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/bignum.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.basic.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.kdf.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/kdf.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/ocsp
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.response.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/ocsp
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.pkey.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.basic.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/ocsp/basic.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ocsp.response.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/ocsp/response.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.pubkey.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pkey.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/pkey.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pubkey.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/pubkey.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.name.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.altname.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.name.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509/name.lua
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.chain.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.altname.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509/altname.lua
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.crl.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.csr.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.chain.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509/chain.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.crl.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509/crl.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.extension.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.csr.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509/csr.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.store.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.verify_param.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.extension.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509/extension.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.store.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509/store.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.pkcs12.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.x509.verify_param.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/x509/verify_param.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.context.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.pkcs12.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/pkcs12.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/ssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.context.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/ssl/context.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.digest.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.ssl.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/ssl.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.hmac.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.digest.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/digest.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.cipher.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.hmac.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/hmac.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.rand.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.cipher.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/cipher.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
/usr/bin/luac5.4 -p /tmp/src/luaossl-rel-20220711/src/openssl.des.lua
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.rand.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/rand.lua
mkdir -p /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl
cp -p /tmp/src/luaossl-rel-20220711/src/openssl.des.lua /tmp/pkg/lua5.4-ossl/usr/share/lua/5.4/openssl/des.lua
>>> lua5.4-ossl*: Preparing subpackage lua5.4-ossl...
>>> lua5.4-ossl*: Stripping binaries
>>> lua5.4-ossl*: Running postcheck for lua5.4-ossl
>>> lua-ossl-dbg*: Running split function dbg...
>>> lua-ossl-dbg*: Preparing subpackage lua-ossl-dbg...
>>> lua-ossl-dbg*: Stripping binaries
>>> lua-ossl-dbg*: Running postcheck for lua-ossl-dbg
>>> lua-ossl*: Running postcheck for lua-ossl
>>> lua-ossl*: Preparing package lua-ossl...
>>> lua-ossl*: Stripping binaries
>>> WARNING: lua-ossl*: No arch specific binaries found so arch should probably be set to "noarch"
>>> lua-ossl-dbg*: Scanning shared objects
>>> lua-ossl*: Scanning shared objects
>>> lua5.1-ossl*: Scanning shared objects
>>> lua5.2-ossl*: Scanning shared objects
>>> lua5.3-ossl*: Scanning shared objects
>>> lua5.4-ossl*: Scanning shared objects
>>> lua-ossl-dbg*: Tracing dependencies...
	!lua5.1-ossl<20220711-r3
	!lua5.1-ossl>20220711-r3
	!lua5.2-ossl<20220711-r3
	!lua5.2-ossl>20220711-r3
	!lua5.3-ossl<20220711-r3
	!lua5.3-ossl>20220711-r3
	!lua5.4-ossl<20220711-r3
	!lua5.4-ossl>20220711-r3
>>> lua-ossl-dbg*: Package size: 10.3 KB
>>> lua-ossl-dbg*: Compressing data...
>>> lua-ossl-dbg*: Create checksum...
>>> lua-ossl-dbg*: Create lua-ossl-dbg-20220711-r3.apk
>>> lua-ossl*: Tracing dependencies...
>>> lua-ossl*: Package size: 0.0 
>>> lua-ossl*: Compressing data...
>>> lua-ossl*: Create checksum...
>>> lua-ossl*: Create lua-ossl-20220711-r3.apk
>>> lua5.1-ossl*: Tracing dependencies...
	lua5.1
	so:libc.musl-x86_64.so.1
	so:libcrypto.so.3
	so:libssl.so.3
>>> lua5.1-ossl*: Package size: 186.9 KB
>>> lua5.1-ossl*: Compressing data...
>>> lua5.1-ossl*: Create checksum...
>>> lua5.1-ossl*: Create lua5.1-ossl-20220711-r3.apk
>>> lua5.2-ossl*: Tracing dependencies...
	lua5.2
	so:libc.musl-x86_64.so.1
	so:libcrypto.so.3
	so:libssl.so.3
>>> lua5.2-ossl*: Package size: 174.9 KB
>>> lua5.2-ossl*: Compressing data...
>>> lua5.2-ossl*: Create checksum...
>>> lua5.2-ossl*: Create lua5.2-ossl-20220711-r3.apk
>>> lua5.3-ossl*: Tracing dependencies...
	lua5.3
	so:libc.musl-x86_64.so.1
	so:libcrypto.so.3
	so:libssl.so.3
>>> lua5.3-ossl*: Package size: 174.9 KB
>>> lua5.3-ossl*: Compressing data...
>>> lua5.3-ossl*: Create checksum...
>>> lua5.3-ossl*: Create lua5.3-ossl-20220711-r3.apk
>>> lua5.4-ossl*: Tracing dependencies...
	lua5.4
	so:libc.musl-x86_64.so.1
	so:libcrypto.so.3
	so:libssl.so.3
>>> lua5.4-ossl*: Package size: 174.9 KB
>>> lua5.4-ossl*: Compressing data...
>>> lua5.4-ossl*: Create checksum...
>>> lua5.4-ossl*: Create lua5.4-ossl-20220711-r3.apk
>>> lua-ossl: Updating the main/x86_64 repository index...
>>> lua-ossl: Signing the index...
>>> lua-ossl: Cleaning up srcdir
>>> lua-ossl: Cleaning up build chroot
>>> lua-ossl: Cleaning up pkgdir
