>>> lsof: Validating /home/packager/oily-pine/main/lsof/APKBUILD...
>>> lsof: Cleaning up srcdir
>>> lsof: Cleaning up pkgdir
>>> lsof: Cleaning up tmpdir
>>> lsof: Fetching https://github.com/lsof-org/lsof/archive/4.99.4/lsof-4.99.4.tar.gz
>>> lsof: Fetching https://github.com/lsof-org/lsof/archive/4.99.4/lsof-4.99.4.tar.gz
>>> lsof: Checking sha512sums...
lsof-4.99.4.tar.gz: OK
hassecurity.patch: OK
>>> lsof: Preparing build chroot...
installing oils!
fetch http://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz
WARNING: opening /home/packager/packages//# for oils: No such file or directory
(1/79) Installing musl (1.2.5-r13)
(2/79) Installing libcrypto3 (3.5.1-r0)
(3/79) Installing libssl3 (3.5.1-r0)
(4/79) Installing zlib (1.3.1-r2)
(5/79) Installing zstd-libs (1.5.7-r1)
(6/79) Installing libapk (3.0.0_rc5_git20250613-r0)
(7/79) Installing ca-certificates-bundle (20241121-r2)
(8/79) Installing apk-tools (3.0.0_rc5_git20250613-r0)
(9/79) Installing libcap2 (2.76-r0)
(10/79) Installing libcap-getcap (2.76-r0)
(11/79) Installing fakeroot (1.37.1.2-r0)
(12/79) Installing scanelf (1.3.8-r1)
(13/79) Installing musl-utils (1.2.5-r13)
(14/79) Installing libgcc (14.3.0-r5)
(15/79) Installing libstdc++ (14.3.0-r5)
(16/79) Installing lzip (1.25-r0)
(17/79) Installing openssl (3.5.1-r0)
(18/79) Installing patch (2.8-r0)
(19/79) Installing pkgconf (2.5.1-r0)
(20/79) Installing acl-libs (2.3.2-r1)
(21/79) Installing tar (1.35-r4)
(22/79) Installing alpine-baselayout-data (3.7.0-r0)
(23/79) Installing busybox (1.37.0-r18)
Executing busybox-1.37.0-r18.post-install
(24/79) Installing ssl_client (1.37.0-r18)
(25/79) Installing ncurses-terminfo-base (6.5_p20250705-r0)
(26/79) Installing libncursesw (6.5_p20250705-r0)
(27/79) Installing readline (8.3.0-r1)
(28/79) Installing oils-for-unix (0.28.0-r0)
(29/79) Installing oils-for-unix-binsh (0.28.0-r0)
(30/79) Installing abuild (3.15.0-r2)
Executing abuild-3.15.0-r2.pre-install
(31/79) Installing abuild-sudo (3.15.0-r2)
(32/79) Installing alpine-baselayout (3.7.0-r0)
Executing alpine-baselayout-3.7.0-r0.pre-install
Executing alpine-baselayout-3.7.0-r0.post-install
(33/79) Installing bridge (1.5-r5)
(34/79) Installing ifupdown-ng (0.12.1-r7)
(35/79) Installing openrc-user (0.62.5-r0)
(36/79) Installing openrc (0.62.5-r0)
Executing openrc-0.62.5-r0.post-install
(37/79) Installing mdev-conf (4.8-r0)
(38/79) Installing busybox-mdev-openrc (1.37.0-r18)
(39/79) Installing alpine-conf (3.20.0-r0)
(40/79) Installing alpine-keys (2.5-r0)
(41/79) Installing alpine-release (3.23.0_alpha20250612-r0)
(42/79) Installing busybox-openrc (1.37.0-r18)
(43/79) Installing busybox-suid (1.37.0-r18)
(44/79) Installing alpine-base (3.23.0_alpha20250612-r0)
(45/79) Installing jansson (2.14.1-r0)
(46/79) Installing binutils (2.44-r0)
(47/79) Installing libmagic (5.46-r2)
(48/79) Installing file (5.46-r2)
(49/79) Installing libgomp (14.3.0-r5)
(50/79) Installing libatomic (14.3.0-r5)
(51/79) Installing gmp (6.3.0-r4)
(52/79) Installing isl26 (0.26-r1)
(53/79) Installing mpfr4 (4.2.2-r0)
(54/79) Installing mpc1 (1.3.1-r1)
(55/79) Installing gcc (14.3.0-r5)
(56/79) Installing libstdc++-dev (14.3.0-r5)
(57/79) Installing musl-dev (1.2.5-r13)
(58/79) Installing g++ (14.3.0-r5)
(59/79) Installing make (4.4.1-r3)
(60/79) Installing fortify-headers (1.1-r5)
(61/79) Installing build-base (0.5-r3)
(62/79) Installing bash (5.3.0-r0)
Executing bash-5.3.0-r0.post-install
(63/79) Installing brotli-libs (1.1.0-r2)
(64/79) Installing c-ares (1.34.5-r0)
(65/79) Installing libunistring (1.3-r0)
(66/79) Installing libidn2 (2.3.8-r0)
(67/79) Installing nghttp2-libs (1.66.0-r0)
(68/79) Installing libpsl (0.21.5-r3)
(69/79) Installing libcurl (8.14.1-r2)
(70/79) Installing libexpat (2.7.1-r0)
(71/79) Installing pcre2 (10.43-r1)
(72/79) Installing git (2.50.1-r0)
(73/79) Installing git-init-template (2.50.1-r0)
(74/79) Installing linux-headers (6.15.5-r0)
(75/79) Installing libbz2 (1.0.8-r6)
(76/79) Installing perl (5.42.0-r0)
(77/79) Installing perl-error (0.17030-r0)
(78/79) Installing perl-git (2.50.1-r0)
(79/79) Installing git-perl (2.50.1-r0)
Executing busybox-1.37.0-r18.trigger
OK: 321 MiB in 79 packages
>>> lsof: Fetching https://github.com/lsof-org/lsof/archive/4.99.4/lsof-4.99.4.tar.gz
>>> lsof: Checking sha512sums...
lsof-4.99.4.tar.gz: OK
hassecurity.patch: OK
>>> lsof: Unpacking /var/cache/distfiles/lsof-4.99.4.tar.gz...
>>> lsof: hassecurity.patch
patching file lib/dialects/linux/machine.h
Testing C library type with cc ... done
The C library type is not glibc.
rm -f ddev.c dfile.c dlsof.h dmnt.c dnode*.c dproc.c dproto.h dsock.c dstore.c dzfs.h kernelbase.h machine.h machine.h.old new_machine.h __lseek.s Makefile Makefile.zfs ./tests/config.cflags
rm -f ./tests/config.cc ./tests/config.xobj ./tests/config.ldflags
Testing C library for localtime() and strftime(), using cc ... present
ln -s lib/dialects/linux/dfile.c dfile.c
ln -s lib/dialects/linux/dlsof.h dlsof.h
ln -s lib/dialects/linux/dmnt.c dmnt.c
ln -s lib/dialects/linux/dnode.c dnode.c
ln -s lib/dialects/linux/dproc.c dproc.c
ln -s lib/dialects/linux/dproto.h dproto.h
ln -s lib/dialects/linux/dsock.c dsock.c
ln -s lib/dialects/linux/dstore.c dstore.c
ln -s lib/dialects/linux/machine.h machine.h
ln -s src/arg.c arg.c
ln -s src/main.c main.c
ln -s src/print.c print.c
ln -s src/ptti.c ptti.c
ln -s src/store.c store.c
ln -s src/usage.c usage.c
ln -s src/util.c util.c
ln -s src/dialects/linux/dprint.c dprint.c
Makefile and lib/Makefile created.
./tests/config.cc created
./tests/config.cflags created
./tests/config.ldflags created
./tests/config.xobj created
(cd lib; make DEBUG="" CFGF="-DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"")
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o dfile.o dfile.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o dmnt.o dmnt.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o dnode.o dnode.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o dprint.o dprint.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o dproc.o dproc.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o dsock.o dsock.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o dstore.o dstore.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o arg.o arg.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o main.o main.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o print.o print.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o store.o store.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o util.o util.c
Constructing version.h
make[1]: Entering directory '/tmp/src/lsof-4.99.4/lib'
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o ckkv.o ckkv.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o cvfs.o cvfs.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o dvch.o dvch.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o fino.o fino.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o isfn.o isfn.c
print.c: In function 'human_readable_size':
print.c:1765:9: warning: unused variable 'len' [-Wunused-variable]
 1765 |     int len;
      |         ^~~
dnode.c: In function 'process_proc_node':
dnode.c:716:11: warning: unused variable 'tn' [-Wunused-variable]
  716 |     char *tn;
      |           ^~
dsock.c: In function 'prt_uxs':
dsock.c:1076:9: warning: unused variable 'i' [-Wunused-variable]
 1076 |     int i;            /* temporary index */
      |         ^
main.c: In function 'main':
dsock.c: In function 'prt_nets_common':
main.c:1304:62: warning: format '%d' expects argument of type 'int', but argument 4 has type 'size_t' {aka 'long unsigned int'} [-Wformat=]
 1304 |                     (void)fprintf(stderr, "%s: no space for %d sort pointers\n",
      |                                                             ~^
      |                                                              |
      |                                                              int
      |                                                             %ld
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o lkud.o lkud.c
dsock.c:1244:9: warning: unused variable 'i' [-Wunused-variable]
 1244 |     int i;            /* temporary index */
      |         ^
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o lsof.o lsof.c
print.c: In function 'printuid':
print.c:1712:37: warning: '%*lu' directive output may be truncated writing between 8 and 10 bytes into a region of size 9 [-Wformat-truncation=]
 1712 |     (void)snpf(user, sizeof(user), "%*lu", USERPRTL, (unsigned long)uid);
      |                                     ^~~~
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o misc.o misc.c
print.c:1712:36: note: directive argument in the range [0, 4294967295]
 1712 |     (void)snpf(user, sizeof(user), "%*lu", USERPRTL, (unsigned long)uid);
      |                                    ^~~~~~
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o node.o node.c
In file included from lib/common.h:42,
                 from print.c:31:
./machine.h:552:18: note: 'snprintf' output between 9 and 11 bytes into a destination of size 9
  552 | #    define snpf snprintf /* use the system's snprintf() */
print.c:1712:11: note: in expansion of macro 'snpf'
 1712 |     (void)snpf(user, sizeof(user), "%*lu", USERPRTL, (unsigned long)uid);
      |           ^~~~
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o pdvn.o pdvn.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o prfp.o prfp.c
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o usage.o usage.c
arg.c: In function 'enter_id':
arg.c:1127:21: warning: unused variable 's' [-Wunused-variable]
 1127 |     struct int_lst *s;
      |                     ^
arg.c:1126:35: warning: unused variable 'nx' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                                   ^~
arg.c:1126:31: warning: unused variable 'ni' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                               ^~
arg.c:1126:28: warning: unused variable 'n' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                            ^
arg.c:1126:24: warning: unused variable 'mx' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                        ^~
arg.c:1126:21: warning: unused variable 'j' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                     ^
arg.c: In function 'enter_cmd':
arg.c:1944:21: warning: unused variable 'lpt' [-Wunused-variable]
 1944 |     struct str_lst *lpt;
      |                     ^~~
arg.c:1943:14: warning: unused variable 'len' [-Wunused-variable]
 1943 |     MALLOC_S len;
      |              ^~~
arg.c:1941:11: warning: unused variable 'cp' [-Wunused-variable]
 1941 |     char *cp;
      |           ^~
arg.c: In function 'enter_uid':
arg.c:1972:29: warning: unused variable 'lp' [-Wunused-variable]
 1972 |     char lnm[LOGINML + 1], *lp;
      |                             ^~
arg.c:1971:14: warning: unused variable 'len' [-Wunused-variable]
 1971 |     MALLOC_S len;
      |              ^~~
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o print.o print.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o proc.o proc.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o ptti.o ptti.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o rdev.o rdev.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o rmnt.o rmnt.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o rnam.o rnam.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o rnch.o rnch.c
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o rnmh.o rnmh.c
dsock.c: At top level:
dsock.c:372:14: warning: 'socket_state_to_str' declared 'static' but never defined [-Wunused-function]
  372 | static char *socket_state_to_str(struct lsof_context *ctx, unsigned int ss);
      |              ^~~~~~~~~~~~~~~~~~~
cc  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5"  -I.. -I../include -Idialects/linux    -c -o rnmt.o rnmt.c
ar cr liblsof.a ckkv.o cvfs.o dvch.o fino.o isfn.o lkud.o lsof.o misc.o node.o pdvn.o prfp.o print.o proc.o ptti.o rdev.o rmnt.o rnam.o rnch.o rnmh.o rnmt.o
ranlib liblsof.a
make[1]: Leaving directory '/tmp/src/lsof-4.99.4/lib'
cc -o lsof dfile.o dmnt.o dnode.o dprint.o dproc.o dsock.o dstore.o arg.o main.o print.o store.o usage.o util.o -L./lib -llsof 
"LT_BIGF LT_CC LT_DIAL_linux LT_VERS=615005 _FILE_OFFSET_BITS=64" added to TestDB.
(cd lib; make DEBUG="" CFGF="-DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"")
Constructing version.h
make[1]: Entering directory '/tmp/src/lsof-4.99.4/lib'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/tmp/src/lsof-4.99.4/lib'
cc -Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\"6.15.5\"  -Iinclude -Ilib -Isrc -I.      -c -o usage.o usage.c
cc -o lsof dfile.o dmnt.o dnode.o dprint.o dproc.o dsock.o dstore.o arg.o main.o print.o store.o usage.o util.o -L./lib -llsof 
bash ./check.bash linux

RUNTIME ENVIRONMENT INFORMATION
=============================================================================
linux
5.3.0(1)-release
array_expand_once   	off
assoc_expand_once   	off
autocd              	off
bash_source_fullpath	off
cdable_vars         	off
cdspell             	off
checkhash           	off
checkjobs           	off
checkwinsize        	on
cmdhist             	on
compat31            	off
compat32            	off
compat40            	off
compat41            	off
compat42            	off
compat43            	off
compat44            	off
complete_fullquote  	on
direxpand           	off
dirspell            	off
dotglob             	off
execfail            	off
expand_aliases      	off
extdebug            	off
extglob             	off
extquote            	on
failglob            	off
force_fignore       	on
globasciiranges     	on
globskipdots        	on
globstar            	off
gnu_errfmt          	off
histappend          	off
histreedit          	off
histverify          	off
hostcomplete        	on
huponexit           	off
inherit_errexit     	off
interactive_comments	on
lastpipe            	off
lithist             	off
localvar_inherit    	off
localvar_unset      	off
login_shell         	off
mailwarn            	off
no_empty_cmd_completion	off
nocaseglob          	off
nocasematch         	off
noexpand_translation	off
nullglob            	off
patsub_replacement  	on
progcomp            	on
progcomp_alias      	off
promptvars          	on
restricted_shell    	off
shift_verbose       	off
sourcepath          	on
varredir_close      	off
xpg_echo            	off
declare -x ABUILD_LAST_COMMIT="3804e2e505f34e3e6a1ceff034efaa36533064c1"
declare -x ABUILD_USERDIR="/home/packager/.abuild"
declare -x BUILDCC="cc"
declare -x BUILDCFLAGS="-Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt"
declare -x BUILDCPPFLAGS=""
declare -x BUILDCXX="c++"
declare -x BUILDCXXFLAGS="-Os -fstack-clash-protection -Wformat -Werror=format-security -D_GLIBCXX_ASSERTIONS=1 -D_LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS=1 -D_LIBCPP_ENABLE_HARDENED_MODE=1 -fno-plt"
declare -x BUILDLD="ld"
declare -x BUILDLDFLAGS="-Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs"
declare -x CARCH="x86_64"
declare -x CARGO_BUILD_JOBS="16"
declare -x CARGO_PROFILE_RELEASE_CODEGEN_UNITS="1"
declare -x CARGO_PROFILE_RELEASE_LTO="true"
declare -x CARGO_PROFILE_RELEASE_OPT_LEVEL="s"
declare -x CARGO_PROFILE_RELEASE_PANIC="abort"
declare -x CC="cc"
declare -x CFLAGS="-Wall  -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR=\\\"6.15.5\\\"  -Iinclude -Ilib -Isrc -I.   "
declare -x CMAKE_BUILD_PARALLEL_LEVEL="16"
declare -x CMAKE_GENERATOR="Ninja"
declare -x CTEST_NO_TESTS_ACTION="error"
declare -x CTEST_OUTPUT_ON_FAILURE="ON"
declare -x CTEST_PARALLEL_LEVEL="16"
declare -x CXX="c++"
declare -x CXXFLAGS="-Os -fstack-clash-protection -Wformat -Werror=format-security -D_GLIBCXX_ASSERTIONS=1 -D_LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS=1 -D_LIBCPP_ENABLE_HARDENED_MODE=1 -fno-plt"
declare -x DFLAGS="-Os"
declare -x FAKEROOTDONTTRYCHOWN="1"
declare -x GIT_CEILING_DIRECTORIES="/home/packager/oily-pine/main/lsof"
declare -x GOFLAGS="-buildmode=pie -modcacherw -trimpath -buildvcs=false"
declare -x HOME="/home/packager"
declare -x JOBS="16"
declare -x LDFLAGS="-Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs"
declare -x MAKEFLAGS=" -j16 --jobserver-auth=fifo:/tmp/GMfifo256"
declare -x MAKELEVEL="1"
declare -x MFLAGS="-j16 --jobserver-auth=fifo:/tmp/GMfifo256"
declare -x OLDPWD="/tmp/src/lsof-4.99.4"
declare -x PATH="/bin:/usr/bin:/sbin:/usr/sbin"
declare -x PERL_MM_USE_DEFAULT="1"
declare -x PWD="/tmp/src/lsof-4.99.4"
declare -x REPODEST="/home/packager/packages/"
declare -x RUSTFLAGS=" -Clink-arg=-Wl,-z,pack-relative-relocs"
declare -x SAMUFLAGS="-j16"
declare -x SHLVL="2"
declare -x SOURCE_DATE_EPOCH="1751827808"
declare -x SRCDEST="/var/cache/distfiles"
declare -x abuild_srcdir="/tmp/src"
declare -x git="/usr/bin/git"
declare -x pkgbasedir="/tmp/pkg"
declare -x tmpdir="/tmp/tmp"
Linux
lsof version information:
    revision: 4.99.4
    copyright notice: Copyright 1998 Purdue Research Foundation. All rights reserved.
    latest revision: https://github.com/lsof-org/lsof
    latest FAQ: https://github.com/lsof-org/lsof/blob/master/00FAQ
    latest (non-formatted) man page: https://github.com/lsof-org/lsof/blob/master/Lsof.8
    compiler: cc
    compiler version: 14.3.0 (Alpine 14.3.0) 
    compiler flags: -Wall -DLINUXV=615005 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DHAS_STRFTIME -DLSOF_VSTR="6.15.5" -Iinclude -Ilib -Isrc -I.
    loader flags: -L./lib -llsof 
    features enabled: ipv6 ptyept soopt sostate tasks uxsockept
    Only root can list all files.
    /dev warnings are disabled.
    Kernel ID check is disabled.

STARTING TEST ( dialect neutral )
=============================================================================
case-00-hello ... ok
case-01-version ... ok
case-13-classic ... ok
case-14-classic-opt ... ok
case-20-exit-status ... ok
case-20-fd-only-inclusion ... ok
case-20-handle-missing-files ... ok
case-20-offset-field ... ok
case-20-repeat-count ... ok
case-21-exit-Q-status ... ok
case-22-empty-process-name ... ok

STARTING TEST ( linux specific )
=============================================================================
case-00-linux-hello ... ok
case-10-mqueue ... failed
case-10-ux-socket-state ... skipped
case-20-epoll ... ok
case-20-eventfd-endpoint ... ok
case-20-inet-socket-endpoint ... skipped
case-20-inet6-ffffffff-handling ... skipped
case-20-inet6-socket-endpoint ... skipped
case-20-mmap ... skipped
case-20-mqueue-endpoint ... failed
case-20-open-flags-cx ... ok
case-20-open-flags-path ... ok
case-20-open-flags-tmpf ... ok
case-20-pidfd-pid ... ok
case-20-pipe-endpoint ... ok
case-20-pipe-no-close-endpoint ... ok
case-20-pty-endpoint ... ok
case-20-ux-socket-endpoint-unaccepted ... ok
case-20-ux-socket-endpoint ... skipped

TEST SUMMARY
=============================================================================
successful: 22
skipped: 6
failed: 2
2 of 30 cases are failed

[failed] /tmp/case-10-mqueue-281.report
-----------------------------------------------------------------------------
unexpected output: p654
tREG

[failed] /tmp/case-20-mqueue-endpoint-281.report
-----------------------------------------------------------------------------
mqname: /lsof-case-20-mqueue-endpoint-749
parent: 754
child: 755
fd: 3
cmdline: /tmp/src/lsof-4.99.4/lsof +E -p 754

PARENT

COMMAND PID USER  FD   TYPE DEVICE SIZE/OFF     NODE NAME
bash    753 user   0r  FIFO   0,15      0t0 97474970 pipe 754,mq_fork,1w 755,mq_fork,1w 756,lsof,0r
mq_fork 754 user cwd    DIR    8,3     4096  9443395 /tmp/src/lsof-4.99.4
mq_fork 754 user rtd    DIR    8,3     4096  9437203 /
mq_fork 754 user txt    REG    8,3    20184  9443920 /tmp/src/lsof-4.99.4/lib/dialects/linux/tests/mq_fork
mq_fork 754 user mem    REG    8,3   662120  9437247 /lib/ld-musl-x86_64.so.1
mq_fork 754 user   0r   CHR    1,3      0t0        4 /dev/null
mq_fork 754 user   1w  FIFO   0,15      0t0 97474970 pipe 753,bash,0r 755,mq_fork,1w 756,lsof,0r
mq_fork 754 user   2w   REG    8,3    25862  5931509 /home/packager/logs/main/lsof/lsof-4.99.4-r0.log
mq_fork 754 user   3u   REG   0,30       80 97452967 /lsof-case-20-mqueue-endpoint-749
mq_fork 755 user   1w  FIFO   0,15      0t0 97474970 pipe 753,bash,0r 754,mq_fork,1w 756,lsof,0r
lsof    756 user   0r  FIFO   0,15      0t0 97474970 pipe 753,bash,0r 754,mq_fork,1w 755,mq_fork,1w

CHILD

COMMAND PID USER  FD   TYPE DEVICE SIZE/OFF     NODE NAME
bash    753 user   0r  FIFO   0,15      0t0 97474970 pipe 754,mq_fork,1w 755,mq_fork,1w 758,lsof,0r
mq_fork 754 user   1w  FIFO   0,15      0t0 97474970 pipe 753,bash,0r 755,mq_fork,1w 758,lsof,0r
mq_fork 755 user cwd    DIR    8,3     4096  9443395 /tmp/src/lsof-4.99.4
mq_fork 755 user rtd    DIR    8,3     4096  9437203 /
mq_fork 755 user txt    REG    8,3    20184  9443920 /tmp/src/lsof-4.99.4/lib/dialects/linux/tests/mq_fork
mq_fork 755 user mem    REG    8,3   662120  9437247 /lib/ld-musl-x86_64.so.1
mq_fork 755 user   0r   CHR    1,3      0t0        4 /dev/null
mq_fork 755 user   1w  FIFO   0,15      0t0 97474970 pipe 753,bash,0r 754,mq_fork,1w 758,lsof,0r
mq_fork 755 user   2w   REG    8,3    25862  5931509 /home/packager/logs/main/lsof/lsof-4.99.4-r0.log
mq_fork 755 user   3u   REG   0,30       80 97452967 /lsof-case-20-mqueue-endpoint-749
lsof    758 user   0r  FIFO   0,15      0t0 97474970 pipe 753,bash,0r 754,mq_fork,1w 755,mq_fork,1w
From the parent side
expected pattern: mq_fork *754 .* 3u *PSXMQ .* /lsof-case-20-mqueue-endpoint-749 755,mq_fork,3u

[skipped] /tmp/case-10-ux-socket-state-281.report
-----------------------------------------------------------------------------
nc does not support unix socket, skipping

[skipped] /tmp/case-20-inet-socket-endpoint-281.report
-----------------------------------------------------------------------------
nc does not support -4 option, skipping

[skipped] /tmp/case-20-inet6-ffffffff-handling-281.report
-----------------------------------------------------------------------------
root privileged is needed to run case-20-inet6-ffffffff-handling.bash.

[skipped] /tmp/case-20-inet6-socket-endpoint-281.report
-----------------------------------------------------------------------------
nc: unrecognized option: 6
BusyBox v1.37.0 (2025-05-26 20:04:45 UTC) multi-call binary.

Usage: nc [OPTIONS] HOST PORT  - connect
nc [OPTIONS] -l -p PORT [HOST] [PORT]  - listen

	-e PROG	Run PROG after connect (must be last)
	-l	Listen mode, for inbound connects
	-lk	With -e, provides persistent server
	-p PORT	Local port
	-s ADDR	Local address
	-w SEC	Timeout for connects and final net reads
	-i SEC	Delay interval for lines sent
	-n	Don't do DNS resolution
	-u	UDP mode
	-b	Allow broadcasts
	-v	Verbose
	-o FILE	Hex dump traffic
	-z	Zero-I/O mode (scanning)
nc: unrecognized option: 6
BusyBox v1.37.0 (2025-05-26 20:04:45 UTC) multi-call binary.

Usage: nc [OPTIONS] HOST PORT  - connect
nc [OPTIONS] -l -p PORT [HOST] [PORT]  - listen

	-e PROG	Run PROG after connect (must be last)
	-l	Listen mode, for inbound connects
	-lk	With -e, provides persistent server
	-p PORT	Local port
	-s ADDR	Local address
	-w SEC	Timeout for connects and final net reads
	-i SEC	Delay interval for lines sent
	-n	Don't do DNS resolution
	-u	UDP mode
	-b	Allow broadcasts
	-v	Verbose
	-o FILE	Hex dump traffic
	-z	Zero-I/O mode (scanning)
Maybe ipv6 stack is not available on this system, skipping

[skipped] /tmp/case-20-mmap-281.report
-----------------------------------------------------------------------------
unshare: unshare(0x20000): Operation not permitted
unshare is not supported on this platform, skipping

[skipped] /tmp/case-20-ux-socket-endpoint-281.report
-----------------------------------------------------------------------------
nc does not support unix socket, skipping
make: *** [Makefile:64: check] Error 1
>>> ERROR: lsof: check failed
>>> ERROR: lsof: rootbld failed
>>> lsof: Cleaning up build chroot
