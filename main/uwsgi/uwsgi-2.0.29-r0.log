pigz: not found
>>> uwsgi: Building main/uwsgi 2.0.29-r0 (using abuild 3.14.1-r4) started Fri, 23 May 2025 18:31:06 +0000
>>> uwsgi: Validating /home/packager/aports/main/uwsgi/APKBUILD...
>>> uwsgi: Analyzing dependencies...
>>> uwsgi: Installing for build: build-base mailcap attr-dev curl-dev geoip-dev jansson-dev libcap-dev libucontext-dev linux-headers linux-pam-dev libpq-dev libxml2-dev~2.13 libxslt-dev lua5.3-dev openssl-dev pcre2-dev python3-dev zeromq-dev zlib-dev
(1/48) Installing mailcap (2.1.54-r0)
(2/48) Installing attr-dev (2.5.2-r2)
(3/48) Installing brotli (1.1.0-r2)
(4/48) Installing brotli-dev (1.1.0-r2)
(5/48) Installing c-ares-dev (1.34.5-r0)
(6/48) Installing libidn2-dev (2.3.7-r0)
(7/48) Installing libpsl-utils (0.21.5-r3)
(8/48) Installing libpsl-dev (0.21.5-r3)
(9/48) Installing nghttp2-dev (1.65.0-r0)
(10/48) Installing openssl-dev (3.5.0-r0)
(11/48) Installing zstd (1.5.7-r0)
(12/48) Installing zstd-dev (1.5.7-r0)
(13/48) Installing curl-dev (8.13.0-r1)
(14/48) Installing geoip (1.6.12-r6)
(15/48) Installing geoip-dev (1.6.12-r6)
(16/48) Installing jansson-dev (2.14-r4)
(17/48) Installing libcap-dev (2.71-r0)
(18/48) Installing linux-pam (1.7.0-r3)
(19/48) Installing linux-pam-dev (1.7.0-r3)
(20/48) Installing libpq (17.5-r0)
(21/48) Installing libpq-dev (17.5-r0)
(22/48) Installing xz-libs (5.6.3-r1)
(23/48) Installing xz (5.6.3-r1)
(24/48) Installing xz-dev (5.6.3-r1)
(25/48) Installing libxml2 (2.13.4-r6)
(26/48) Installing libxml2-utils (2.13.4-r6)
(27/48) Installing libxml2-dev (2.13.4-r6)
(28/48) Installing libgcrypt (1.10.3-r1)
(29/48) Installing libxslt (1.1.42-r2)
(30/48) Installing libxslt-dev (1.1.42-r2)
(31/48) Installing linenoise (1.0-r5)
(32/48) Installing lua5.3-libs (5.3.6-r6)
(33/48) Installing lua5.3 (5.3.6-r6)
(34/48) Installing lua5.3-dev (5.3.6-r6)
(35/48) Installing libffi (3.4.7-r0)
(36/48) Installing gdbm (1.24-r0)
(37/48) Installing mpdecimal (4.0.0-r0)
(38/48) Installing sqlite-libs (3.49.2-r0)
(39/48) Installing python3 (3.12.10-r1)
(40/48) Installing python3-pycache-pyc0 (3.12.10-r1)
(41/48) Installing pyc (3.12.10-r1)
(42/48) Installing python3-pyc (3.12.10-r1)
(43/48) Installing python3-dev (3.12.10-r1)
(44/48) Installing libsodium (1.0.20-r0)
(45/48) Installing libzmq (4.3.5-r2)
(46/48) Installing libsodium-dev (1.0.20-r0)
(47/48) Installing zeromq-dev (4.3.5-r2)
(48/48) Installing .makedepends-uwsgi (20250523.183108)
Executing busybox-1.37.0-r12.trigger
OK: 706 MiB in 180 packages
>>> uwsgi: Cleaning up srcdir
>>> uwsgi: Cleaning up pkgdir
>>> uwsgi: Cleaning up tmpdir
>>> uwsgi: Fetching uwsgi-2.0.29.tar.gz::https://github.com/unbit/uwsgi/archive/refs/tags/2.0.29.tar.gz
Connecting to github.com (140.82.121.4:443)
Connecting to codeload.github.com (140.82.121.10:443)
saving to '/var/cache/distfiles/uwsgi-2.0.29.tar.gz.part'
uwsgi-2.0.29.tar.gz. 100% |********************************|  802k  0:00:00 ETA
'/var/cache/distfiles/uwsgi-2.0.29.tar.gz.part' saved
>>> uwsgi: Fetching uwsgi-2.0.29.tar.gz::https://github.com/unbit/uwsgi/archive/refs/tags/2.0.29.tar.gz
>>> uwsgi: Checking sha512sums...
uwsgi-2.0.29.tar.gz: OK
uwsgi.initd: OK
uwsgi.ini: OK
readme.emperor: OK
alpine.buildconf: OK
musl-ucontext.patch: OK
>>> uwsgi: Unpacking /var/cache/distfiles/uwsgi-2.0.29.tar.gz...
>>> uwsgi: musl-ucontext.patch
patching file plugins/ugreen/uwsgiplugin.py
>>> uwsgi: Creating group uwsgi
>>> uwsgi: Creating user uwsgi
>>> uwsgi: Building core
core/ssl.c: In function 'uwsgi_ssl_new_server_context':
core/ssl.c:268:17: warning: 'PEM_read_bio_DHparams' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  268 |                 DH *dh = PEM_read_bio_DHparams(bio, NULL, NULL, NULL);
      |                 ^~
In file included from /usr/include/openssl/ssl.h:37,
                 from ./uwsgi.h:357,
                 from core/ssl.c:1:
/usr/include/openssl/pem.h:478:1: note: declared here
  478 | DECLARE_PEM_rw_attr(OSSL_DEPRECATEDIN_3_0, DHparams, DH)
      | ^~~~~~~~~~~~~~~~~~~
core/ssl.c:273:25: warning: 'DH_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  273 |                         DH_free(dh);
      |                         ^~~~~~~
In file included from /usr/include/openssl/dsa.h:31,
                 from /usr/include/openssl/x509.h:37,
                 from /usr/include/openssl/ssl.h:32:
/usr/include/openssl/dh.h:211:28: note: declared here
  211 | OSSL_DEPRECATEDIN_3_0 void DH_free(DH *dh);
      |                            ^~~~~~~
core/ssl.c:279:9: warning: 'EC_KEY_new_by_curve_name' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  279 |         EC_KEY *ecdh = EC_KEY_new_by_curve_name(NID_X9_62_prime256v1);
      |         ^~~~~~
In file included from /usr/include/openssl/x509.h:33:
/usr/include/openssl/ec.h:1017:31: note: declared here
 1017 | OSSL_DEPRECATEDIN_3_0 EC_KEY *EC_KEY_new_by_curve_name(int nid);
      |                               ^~~~~~~~~~~~~~~~~~~~~~~~
core/ssl.c:283:17: warning: 'EC_KEY_free' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  283 |                 EC_KEY_free(ecdh);
      |                 ^~~~~~~~~~~
/usr/include/openssl/ec.h:1022:28: note: declared here
 1022 | OSSL_DEPRECATEDIN_3_0 void EC_KEY_free(EC_KEY *key);
      |                            ^~~~~~~~~~~
core/ssl.c: In function 'uwsgi_sha1':
core/ssl.c:563:9: warning: 'SHA1_Init' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  563 |         SHA1_Init(&sha);
      |         ^~~~~~~~~
In file included from /usr/include/openssl/x509.h:41:
/usr/include/openssl/sha.h:49:27: note: declared here
   49 | OSSL_DEPRECATEDIN_3_0 int SHA1_Init(SHA_CTX *c);
      |                           ^~~~~~~~~
core/ssl.c:564:9: warning: 'SHA1_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  564 |         SHA1_Update(&sha, src, len);
      |         ^~~~~~~~~~~
/usr/include/openssl/sha.h:50:27: note: declared here
   50 | OSSL_DEPRECATEDIN_3_0 int SHA1_Update(SHA_CTX *c, const void *data, size_t len);
      |                           ^~~~~~~~~~~
core/ssl.c:565:9: warning: 'SHA1_Final' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  565 |         SHA1_Final((unsigned char *)dst, &sha);
      |         ^~~~~~~~~~
/usr/include/openssl/sha.h:51:27: note: declared here
   51 | OSSL_DEPRECATEDIN_3_0 int SHA1_Final(unsigned char *md, SHA_CTX *c);
      |                           ^~~~~~~~~~
core/ssl.c: In function 'uwsgi_md5':
core/ssl.c:571:9: warning: 'MD5_Init' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  571 |         MD5_Init(&md5);
      |         ^~~~~~~~
In file included from core/ssl.c:4:
/usr/include/openssl/md5.h:49:27: note: declared here
   49 | OSSL_DEPRECATEDIN_3_0 int MD5_Init(MD5_CTX *c);
      |                           ^~~~~~~~
core/ssl.c:572:9: warning: 'MD5_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  572 |         MD5_Update(&md5, src, len);
      |         ^~~~~~~~~~
/usr/include/openssl/md5.h:50:27: note: declared here
   50 | OSSL_DEPRECATEDIN_3_0 int MD5_Update(MD5_CTX *c, const void *data, size_t len);
      |                           ^~~~~~~~~~
core/ssl.c:573:9: warning: 'MD5_Final' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  573 |         MD5_Final((unsigned char *)dst, &md5);
      |         ^~~~~~~~~
/usr/include/openssl/md5.h:51:27: note: declared here
   51 | OSSL_DEPRECATEDIN_3_0 int MD5_Final(unsigned char *md, MD5_CTX *c);
      |                           ^~~~~~~~~
core/ssl.c: In function 'uwsgi_sha1_2n':
core/ssl.c:579:9: warning: 'SHA1_Init' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  579 |         SHA1_Init(&sha);
      |         ^~~~~~~~~
/usr/include/openssl/sha.h:49:27: note: declared here
   49 | OSSL_DEPRECATEDIN_3_0 int SHA1_Init(SHA_CTX *c);
      |                           ^~~~~~~~~
core/ssl.c:580:9: warning: 'SHA1_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  580 |         SHA1_Update(&sha, s1, len1);
      |         ^~~~~~~~~~~
/usr/include/openssl/sha.h:50:27: note: declared here
   50 | OSSL_DEPRECATEDIN_3_0 int SHA1_Update(SHA_CTX *c, const void *data, size_t len);
      |                           ^~~~~~~~~~~
core/ssl.c:581:9: warning: 'SHA1_Update' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  581 |         SHA1_Update(&sha, s2, len2);
      |         ^~~~~~~~~~~
/usr/include/openssl/sha.h:50:27: note: declared here
   50 | OSSL_DEPRECATEDIN_3_0 int SHA1_Update(SHA_CTX *c, const void *data, size_t len);
      |                           ^~~~~~~~~~~
core/ssl.c:582:9: warning: 'SHA1_Final' is deprecated: Since OpenSSL 3.0 [-Wdeprecated-declarations]
  582 |         SHA1_Final((unsigned char *)dst, &sha);
      |         ^~~~~~~~~~
/usr/include/openssl/sha.h:51:27: note: declared here
   51 | OSSL_DEPRECATEDIN_3_0 int SHA1_Final(unsigned char *md, SHA_CTX *c);
      |                           ^~~~~~~~~~
/usr/lib/gcc/x86_64-alpine-linux-musl/14.2.0/../../../../x86_64-alpine-linux-musl/bin/ld: uwsgi: error: PHDR segment not covered by LOAD segment
/usr/lib/gcc/x86_64-alpine-linux-musl/14.2.0/../../../../x86_64-alpine-linux-musl/bin/ld: warning: uwsgi has a LOAD segment with RWX permissions
collect2: error: ld returned 1 exit status
using profile: buildconf/alpine.ini
detected include path: ['/usr/include/fortify', '/usr/include', '/usr/lib/gcc/x86_64-alpine-linux-musl/14.2.0/include']
detected CPU cores: 8
configured CFLAGS: -O2 -I. -Wall -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -Os -fstack-clash-protection -Wformat -Werror=format-security -fno-plt -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -Wformat-signedness -DUWSGI_HAS_IFADDRS -DUWSGI_ZLIB -DUWSGI_LOCK_USE_MUTEX -DUWSGI_EVENT_USE_EPOLL -DUWSGI_EVENT_TIMER_USE_TIMERFD -DUWSGI_EVENT_FILEMONITOR_USE_INOTIFY  -DUWSGI_PCRE2 -DUWSGI_ROUTING -DUWSGI_CAP -DUWSGI_VERSION="\"2.0.29\"" -DUWSGI_VERSION_BASE="2" -DUWSGI_VERSION_MAJOR="0" -DUWSGI_VERSION_MINOR="29" -DUWSGI_VERSION_REVISION="0" -DUWSGI_VERSION_CUSTOM="\"\"" -DUWSGI_YAML -DUWSGI_JSON -DUWSGI_SSL -I/usr/include/libxml2 -DUWSGI_XML -DUWSGI_XML_LIBXML2 -DUWSGI_PLUGIN_DIR="\"/usr/lib/uwsgi\""
*** uWSGI compiling server core ***
[thread 2][gcc] core/utils.o
[thread 3][gcc] core/protocol.o
[thread 4][gcc] core/socket.o
[thread 0][gcc] core/logging.o
[thread 5][gcc] core/master.o
[thread 6][gcc] core/master_utils.o
[thread 7][gcc] core/emperor.o
[thread 1][gcc] core/notify.o
[thread 1][gcc] core/mule.o
[thread 3][gcc] core/subscription.o
[thread 5][gcc] core/stats.o
[thread 1][gcc] core/sendfile.o
[thread 4][gcc] core/async.o
[thread 6][gcc] core/master_checks.o
[thread 1][gcc] core/fifo.o
[thread 0][gcc] core/offload.o
[thread 7][gcc] core/io.o
[thread 4][gcc] core/static.o
[thread 5][gcc] core/websockets.o
[thread 1][gcc] core/spooler.o
[thread 6][gcc] core/snmp.o
[thread 3][gcc] core/exceptions.o
[thread 0][gcc] core/config.o
[thread 5][gcc] core/setup_utils.o
[thread 6][gcc] core/clock.o
[thread 1][gcc] core/init.o
[thread 4][gcc] core/buffer.o
[thread 3][gcc] core/reader.o
[thread 7][gcc] core/writer.o
[thread 5][gcc] core/alarm.o
[thread 2][gcc] core/cron.o
[thread 0][gcc] core/hooks.o
[thread 6][gcc] core/plugins.o
[thread 1][gcc] core/lock.o
[thread 4][gcc] core/cache.o
[thread 2][gcc] core/daemons.o
[thread 5][gcc] core/errors.o
[thread 3][gcc] core/hash.o
[thread 6][gcc] core/master_events.o
[thread 7][gcc] core/chunked.o
[thread 0][gcc] core/queue.o
[thread 5][gcc] core/event.o
[thread 1][gcc] core/signal.o
[thread 3][gcc] core/strings.o
[thread 2][gcc] core/progress.o
[thread 7][gcc] core/timebomb.o
[thread 6][gcc] core/ini.o
[thread 0][gcc] core/fsmon.o
[thread 5][gcc] core/mount.o
[thread 7][gcc] core/metrics.o
[thread 2][gcc] core/plugins_builder.o
[thread 6][gcc] core/sharedarea.o
[thread 1][gcc] core/rpc.o
[thread 3][gcc] core/gateway.o
[thread 0][gcc] core/loop.o
[thread 2][gcc] core/cookie.o
[thread 5][gcc] core/querystring.o
[thread 4][gcc] core/rb_timers.o
[thread 0][gcc] core/transformations.o
[thread 1][gcc] core/uwsgi.o
[thread 6][gcc] proto/base.o
[thread 3][gcc] proto/uwsgi.o
[thread 2][gcc] proto/http.o
[thread 5][gcc] proto/fastcgi.o
[thread 4][gcc] proto/scgi.o
[thread 7][gcc] proto/puwsgi.o
[thread 0][gcc] lib/linux_ns.o
[thread 3][gcc] core/zlib.o
[thread 6][gcc] core/regexp.o
[thread 4][gcc] core/routing.o
[thread 5][gcc] core/yaml.o
[thread 7][gcc] core/json.o
[thread 7][gcc] core/ssl.o
[thread 3][gcc] core/legion.o
[thread 0][gcc] core/xmlconf.o
[thread 6][gcc] core/dot_h.o
[thread 2][gcc] core/config_py.o
*** uWSGI linking ***
gcc -o uwsgi -Wl,--as-needed,-O1,--sort-common -Wl,-z,pack-relative-relocs core/utils.o core/protocol.o core/socket.o core/logging.o core/master.o core/master_utils.o core/emperor.o core/notify.o core/mule.o core/subscription.o core/stats.o core/sendfile.o core/async.o core/master_checks.o core/fifo.o core/offload.o core/io.o core/static.o core/websockets.o core/spooler.o core/snmp.o core/exceptions.o core/config.o core/setup_utils.o core/clock.o core/init.o core/buffer.o core/reader.o core/writer.o core/alarm.o core/cron.o core/hooks.o core/plugins.o core/lock.o core/cache.o core/daemons.o core/errors.o core/hash.o core/master_events.o core/chunked.o core/queue.o core/event.o core/signal.o core/strings.o core/progress.o core/timebomb.o core/ini.o core/fsmon.o core/mount.o core/metrics.o core/plugins_builder.o core/sharedarea.o core/rpc.o core/gateway.o core/loop.o core/cookie.o core/querystring.o core/rb_timers.o core/transformations.o core/uwsgi.o proto/base.o proto/uwsgi.o proto/http.o proto/fastcgi.o proto/scgi.o proto/puwsgi.o lib/linux_ns.o core/zlib.o core/regexp.o core/routing.o core/yaml.o core/json.o core/ssl.o core/legion.o core/xmlconf.o core/dot_h.o core/config_py.o -lpthread -lm -rdynamic -ldl -lz -lpcre2-8 -lcap -ljansson -lssl -lcrypto -lxml2 -lz -llzma -lm
*** error linking uWSGI ***
>>> ERROR: uwsgi: build failed
>>> uwsgi: Uninstalling dependencies...
(1/48) Purging .makedepends-uwsgi (20250523.183108)
(2/48) Purging mailcap (2.1.54-r0)
(3/48) Purging attr-dev (2.5.2-r2)
(4/48) Purging curl-dev (8.13.0-r1)
(5/48) Purging geoip-dev (1.6.12-r6)
(6/48) Purging geoip (1.6.12-r6)
(7/48) Purging jansson-dev (2.14-r4)
(8/48) Purging libcap-dev (2.71-r0)
(9/48) Purging linux-pam-dev (1.7.0-r3)
(10/48) Purging linux-pam (1.7.0-r3)
(11/48) Purging libpq-dev (17.5-r0)
(12/48) Purging libpq (17.5-r0)
(13/48) Purging libxslt-dev (1.1.42-r2)
(14/48) Purging libxslt (1.1.42-r2)
(15/48) Purging lua5.3-dev (5.3.6-r6)
(16/48) Purging lua5.3 (5.3.6-r6)
(17/48) Purging lua5.3-libs (5.3.6-r6)
(18/48) Purging openssl-dev (3.5.0-r0)
(19/48) Purging python3-dev (3.12.10-r1)
(20/48) Purging python3-pyc (3.12.10-r1)
(21/48) Purging python3-pycache-pyc0 (3.12.10-r1)
(22/48) Purging pyc (3.12.10-r1)
(23/48) Purging python3 (3.12.10-r1)
(24/48) Purging zeromq-dev (4.3.5-r2)
(25/48) Purging libzmq (4.3.5-r2)
(26/48) Purging brotli-dev (1.1.0-r2)
(27/48) Purging brotli (1.1.0-r2)
(28/48) Purging c-ares-dev (1.34.5-r0)
(29/48) Purging gdbm (1.24-r0)
(30/48) Purging libffi (3.4.7-r0)
(31/48) Purging libgcrypt (1.10.3-r1)
(32/48) Purging libpsl-dev (0.21.5-r3)
(33/48) Purging libpsl-utils (0.21.5-r3)
(34/48) Purging libsodium-dev (1.0.20-r0)
(35/48) Purging libsodium (1.0.20-r0)
(36/48) Purging libxml2-dev (2.13.4-r6)
(37/48) Purging libxml2-utils (2.13.4-r6)
(38/48) Purging libxml2 (2.13.4-r6)
(39/48) Purging linenoise (1.0-r5)
(40/48) Purging mpdecimal (4.0.0-r0)
(41/48) Purging nghttp2-dev (1.65.0-r0)
(42/48) Purging sqlite-libs (3.49.2-r0)
(43/48) Purging xz-dev (5.6.3-r1)
(44/48) Purging xz (5.6.3-r1)
(45/48) Purging xz-libs (5.6.3-r1)
(46/48) Purging zstd-dev (1.5.7-r0)
(47/48) Purging zstd (1.5.7-r0)
(48/48) Purging libidn2-dev (2.3.7-r0)
Executing busybox-1.37.0-r12.trigger
OK: 564 MiB in 132 packages
