pigz: not found
>>> lsof: Building main/lsof 4.99.4-r0 (using abuild 3.14.1-r4) started Fri, 23 May 2025 18:09:40 +0000
>>> lsof: Validating /home/packager/aports/main/lsof/APKBUILD...
>>> lsof: Analyzing dependencies...
>>> lsof: Installing for build: build-base cmd:bash linux-headers perl
(1/1) Installing .makedepends-lsof (20250523.180941)
OK: 564 MiB in 133 packages
>>> lsof: Cleaning up srcdir
>>> lsof: Cleaning up pkgdir
>>> lsof: Cleaning up tmpdir
>>> lsof: Fetching https://github.com/lsof-org/lsof/archive/4.99.4/lsof-4.99.4.tar.gz
Connecting to github.com (140.82.121.3:443)
Connecting to codeload.github.com (140.82.121.9:443)
saving to '/var/cache/distfiles/lsof-4.99.4.tar.gz.part'
lsof-4.99.4.tar.gz.p 100% |********************************| 1108k  0:00:00 ETA
'/var/cache/distfiles/lsof-4.99.4.tar.gz.part' saved
>>> lsof: Fetching https://github.com/lsof-org/lsof/archive/4.99.4/lsof-4.99.4.tar.gz
>>> lsof: Checking sha512sums...
lsof-4.99.4.tar.gz: OK
hassecurity.patch: OK
>>> lsof: Unpacking /var/cache/distfiles/lsof-4.99.4.tar.gz...
>>> lsof: hassecurity.patch
patching file lib/dialects/linux/machine.h
Testing C library type with cc ... done
Cannot determine C library type; assuming it is not glibc.
rm -f ddev.c dfile.c dlsof.h dmnt.c dnode*.c dproc.c dproto.h dsock.c dstore.c dzfs.h kernelbase.h machine.h machine.h.old new_machine.h __lseek.s Makefile Makefile.zfs ./tests/config.cflags
rm -f ./tests/config.cc ./tests/config.xobj ./tests/config.ldflags
Testing C library for localtime() and strftime(), using cc ... missing
ln -s lib/dialects/linux/dfile.c dfile.c
ln -s lib/dialects/linux/dlsof.h dlsof.h
ln -s lib/dialects/linux/dmnt.c dmnt.c
ln -s lib/dialects/linux/dnode.c dnode.c
ln -s lib/dialects/linux/dproc.c dproc.c
ln -s lib/dialects/linux/dproto.h dproto.h
ln -s lib/dialects/linux/dsock.c dsock.c
ln -s lib/dialects/linux/dstore.c dstore.c
ln -s lib/dialects/linux/machine.h machine.h
ln -s src/arg.c arg.c
ln -s src/main.c main.c
ln -s src/print.c print.c
ln -s src/ptti.c ptti.c
ln -s src/store.c store.c
ln -s src/usage.c usage.c
ln -s src/util.c util.c
ln -s src/dialects/linux/dprint.c dprint.c
Makefile and lib/Makefile created.
./tests/config.cc created
./tests/config.cflags created
./tests/config.ldflags created
./tests/config.xobj created
(cd lib; make DEBUG="" CFGF="-DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"")
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dfile.o dfile.c
make[1]: Entering directory '/home/packager/aports/main/lsof/src/lsof-4.99.4/lib'
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o ckkv.o ckkv.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dmnt.o dmnt.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o cvfs.o cvfs.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dnode.o dnode.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o dvch.o dvch.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o fino.o fino.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dprint.o dprint.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o isfn.o isfn.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o lkud.o lkud.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o lsof.o lsof.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o misc.o misc.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dproc.o dproc.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o node.o node.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o pdvn.o pdvn.c
dnode.c: In function 'process_proc_node':
dnode.c:716:11: warning: unused variable 'tn' [-Wunused-variable]
  716 |     char *tn;
      |           ^~
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dsock.o dsock.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o prfp.o prfp.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o print.o print.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o proc.o proc.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o dstore.o dstore.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o arg.o arg.c
dsock.c: In function 'prt_uxs':
dsock.c:1076:9: warning: unused variable 'i' [-Wunused-variable]
 1076 |     int i;            /* temporary index */
      |         ^
dsock.c: In function 'prt_nets_common':
dsock.c:1244:9: warning: unused variable 'i' [-Wunused-variable]
 1244 |     int i;            /* temporary index */
      |         ^
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o main.o main.c
arg.c: In function 'enter_id':
arg.c:1127:21: warning: unused variable 's' [-Wunused-variable]
 1127 |     struct int_lst *s;
      |                     ^
arg.c:1126:35: warning: unused variable 'nx' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                                   ^~
arg.c:1126:31: warning: unused variable 'ni' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                               ^~
arg.c:1126:28: warning: unused variable 'n' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                            ^
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o print.o print.c
arg.c:1126:24: warning: unused variable 'mx' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                        ^~
arg.c:1126:21: warning: unused variable 'j' [-Wunused-variable]
 1126 |     int err, i, id, j, mx, n, ni, nx, x;
      |                     ^
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o ptti.o ptti.c
main.c: In function 'main':
main.c:1304:62: warning: format '%d' expects argument of type 'int', but argument 4 has type 'size_t' {aka 'long unsigned int'} [-Wformat=]
 1304 |                     (void)fprintf(stderr, "%s: no space for %d sort pointers\n",
      |                                                             ~^
      |                                                              |
      |                                                              int
      |                                                             %ld
arg.c: In function 'enter_cmd':
arg.c:1944:21: warning: unused variable 'lpt' [-Wunused-variable]
 1944 |     struct str_lst *lpt;
      |                     ^~~
arg.c:1943:14: warning: unused variable 'len' [-Wunused-variable]
 1943 |     MALLOC_S len;
      |              ^~~
arg.c:1941:11: warning: unused variable 'cp' [-Wunused-variable]
 1941 |     char *cp;
      |           ^~
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rdev.o rdev.c
arg.c: In function 'enter_uid':
arg.c:1972:29: warning: unused variable 'lp' [-Wunused-variable]
 1972 |     char lnm[LOGINML + 1], *lp;
      |                             ^~
main.c:62:11: warning: unused variable 'fmtr' [-Wunused-variable]
   62 |     char *fmtr = (char *)NULL;
      |           ^~~~
arg.c:1971:14: warning: unused variable 'len' [-Wunused-variable]
 1971 |     MALLOC_S len;
      |              ^~~
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rmnt.o rmnt.c
dsock.c: At top level:
dsock.c:372:14: warning: 'socket_state_to_str' declared 'static' but never defined [-Wunused-function]
  372 | static char *socket_state_to_str(struct lsof_context *ctx, unsigned int ss);
      |              ^~~~~~~~~~~~~~~~~~~
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o store.o store.c
print.c: In function 'human_readable_size':
print.c:1765:9: warning: unused variable 'len' [-Wunused-variable]
 1765 |     int len;
      |         ^~~
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rnam.o rnam.c
print.c: In function 'printuid':
print.c:1712:37: warning: '%*lu' directive output may be truncated writing between 8 and 10 bytes into a region of size 9 [-Wformat-truncation=]
 1712 |     (void)snpf(user, sizeof(user), "%*lu", USERPRTL, (unsigned long)uid);
      |                                     ^~~~
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rnch.o rnch.c
print.c:1712:36: note: directive argument in the range [0, 4294967295]
 1712 |     (void)snpf(user, sizeof(user), "%*lu", USERPRTL, (unsigned long)uid);
      |                                    ^~~~~~
In file included from lib/common.h:42,
                 from print.c:31:
./machine.h:552:18: note: 'snprintf' output between 9 and 11 bytes into a destination of size 9
  552 | #    define snpf snprintf /* use the system's snprintf() */
print.c:1712:11: note: in expansion of macro 'snpf'
 1712 |     (void)snpf(user, sizeof(user), "%*lu", USERPRTL, (unsigned long)uid);
      |           ^~~~
Constructing version.h
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o util.o util.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rnmh.o rnmh.c
cc  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR="6.14.2"  -I.. -I../include -Idialects/linux    -c -o rnmt.o rnmt.c
cc -Wall  -DLINUXV=614002 -DHASIPv6 -DHASNORPC_H -DNEEDS_NETINET_TCPH -DHASUXSOCKEPT -DHASPTYEPT -DHASSOSTATE -DHASSOOPT -DHAS_DUP2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE64_SOURCE -DLSOF_VSTR=\"6.14.2\"  -Iinclude -Ilib -Isrc -I.      -c -o usage.o usage.c
ar cr liblsof.a ckkv.o cvfs.o dvch.o fino.o isfn.o lkud.o lsof.o misc.o node.o pdvn.o prfp.o print.o proc.o ptti.o rdev.o rmnt.o rnam.o rnch.o rnmh.o rnmt.o
ranlib liblsof.a
make[1]: Leaving directory '/home/packager/aports/main/lsof/src/lsof-4.99.4/lib'
cc -o lsof dfile.o dmnt.o dnode.o dprint.o dproc.o dsock.o dstore.o arg.o main.o print.o store.o usage.o util.o -L./lib -llsof 
/usr/lib/gcc/x86_64-alpine-linux-musl/14.2.0/../../../../x86_64-alpine-linux-musl/bin/ld: lsof: error: PHDR segment not covered by LOAD segment
/usr/lib/gcc/x86_64-alpine-linux-musl/14.2.0/../../../../x86_64-alpine-linux-musl/bin/ld: warning: lsof has a LOAD segment with RWX permissions
collect2: error: ld returned 1 exit status
make: *** [Makefile:61: lsof] Error 1
>>> ERROR: lsof: build failed
>>> lsof: Uninstalling dependencies...
(1/1) Purging .makedepends-lsof (20250523.180941)
OK: 564 MiB in 132 packages
